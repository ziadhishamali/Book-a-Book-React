!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(435),e.exports=n(221)},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";e.exports=n(436)},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==u||t==a||t==c}var i=n(9),o=n(3),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){var r=n(151),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.methodsToAddFromFirestore=t.defaultConfig=t.actionTypes=t.actionsPrefix=void 0;var n="@@reduxFirestore";t.actionsPrefix=n;var r={START:"".concat(n,"/START"),ERROR:"".concat(n,"/ERROR"),CLEAR_DATA:"".concat(n,"/CLEAR_DATA"),CLEAR_ERROR:"".concat(n,"/CLEAR_ERROR"),CLEAR_ERRORS:"".concat(n,"/CLEAR_ERRORS"),SET_LISTENER:"".concat(n,"/SET_LISTENER"),UNSET_LISTENER:"".concat(n,"/UNSET_LISTENER"),GET_REQUEST:"".concat(n,"/GET_REQUEST"),GET_SUCCESS:"".concat(n,"/GET_SUCCESS"),GET_FAILURE:"".concat(n,"/GET_FAILURE"),SET_REQUEST:"".concat(n,"/SET_REQUEST"),SET_SUCCESS:"".concat(n,"/SET_SUCCESS"),SET_FAILURE:"".concat(n,"/SET_FAILURE"),ADD_REQUEST:"".concat(n,"/ADD_REQUEST"),ADD_SUCCESS:"".concat(n,"/ADD_SUCCESS"),ADD_FAILURE:"".concat(n,"/ADD_FAILURE"),UPDATE_REQUEST:"".concat(n,"/UPDATE_REQUEST"),UPDATE_SUCCESS:"".concat(n,"/UPDATE_SUCCESS"),UPDATE_FAILURE:"".concat(n,"/UPDATE_FAILURE"),DELETE_REQUEST:"".concat(n,"/DELETE_REQUEST"),DELETE_SUCCESS:"".concat(n,"/DELETE_SUCCESS"),DELETE_FAILURE:"".concat(n,"/DELETE_FAILURE"),ATTACH_LISTENER:"".concat(n,"/ATTACH_LISTENER"),LISTENER_RESPONSE:"".concat(n,"/LISTENER_RESPONSE"),LISTENER_ERROR:"".concat(n,"/LISTENER_ERROR"),ON_SNAPSHOT_REQUEST:"".concat(n,"/ON_SNAPSHOT_REQUEST"),ON_SNAPSHOT_SUCCESS:"".concat(n,"/ON_SNAPSHOT_SUCCESS"),ON_SNAPSHOT_FAILURE:"".concat(n,"/ON_SNAPSHOT_FAILURE"),DOCUMENT_ADDED:"".concat(n,"/DOCUMENT_ADDED"),DOCUMENT_MODIFIED:"".concat(n,"/DOCUMENT_MODIFIED"),DOCUMENT_REMOVED:"".concat(n,"/DOCUMENT_REMOVED"),TRANSACTION_START:"".concat(n,"/TRANSACTION_START"),TRANSACTION_SUCCESS:"".concat(n,"/TRANSACTION_SUCCESS"),TRANSACTION_FAILURE:"".concat(n,"/TRANSACTION_FAILURE")};t.actionTypes=r;var i={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};t.defaultConfig=i;var o=["collection","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];t.methodsToAddFromFirestore=o;var a={actionsPrefix:n,actionTypes:r,defaultConfig:i};t.default=a},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):u(e)}var i=n(275),o=n(276),a=n(38),s=n(1),u=n(385);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?o(e):a(e)}var i=n(23),o=n(310),a=n(340),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(58);e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.actionsPrefix="@@reactReduxFirebase",r=t.actionTypes={START:n+"/START",SET:n+"/SET",REMOVE:n+"/REMOVE",MERGE:n+"/MERGE",SET_PROFILE:n+"/SET_PROFILE",LOGIN:n+"/LOGIN",LOGOUT:n+"/LOGOUT",LOGIN_ERROR:n+"/LOGIN_ERROR",NO_VALUE:n+"/NO_VALUE",UNAUTHORIZED_ERROR:n+"/UNAUTHORIZED_ERROR",ERROR:n+"/ERROR",CLEAR_ERRORS:n+"/CLEAR_ERRORS",SET_LISTENER:n+"/SET_LISTENER",UNSET_LISTENER:n+"/UNSET_LISTENER",AUTHENTICATION_INIT_STARTED:n+"/AUTHENTICATION_INIT_STARTED",AUTHENTICATION_INIT_FINISHED:n+"/AUTHENTICATION_INIT_FINISHED",SESSION_START:n+"/SESSION_START",SESSION_END:n+"/SESSION_END",FILE_UPLOAD_START:n+"/FILE_UPLOAD_START",FILE_UPLOAD_ERROR:n+"/FILE_UPLOAD_ERROR",FILE_UPLOAD_PROGRESS:n+"/FILE_UPLOAD_PROGRESS",FILE_UPLOAD_COMPLETE:n+"/FILE_UPLOAD_COMPLETE",FILE_DELETE_START:n+"/FILE_DELETE_START",FILE_DELETE_ERROR:n+"/FILE_DELETE_ERROR",FILE_DELETE_COMPLETE:n+"/FILE_DELETE_COMPLETE",AUTH_UPDATE_START:n+"/AUTH_UPDATE_START",AUTH_UPDATE_SUCCESS:n+"/AUTH_UPDATE_SUCCESS",AUTH_UPDATE_ERROR:n+"/AUTH_UPDATE_ERROR",PROFILE_UPDATE_START:n+"/PROFILE_UPDATE_START",PROFILE_UPDATE_SUCCESS:n+"/PROFILE_UPDATE_SUCCESS",PROFILE_UPDATE_ERROR:n+"/PROFILE_UPDATE_ERROR",EMAIL_UPDATE_START:n+"/EMAIL_UPDATE_START",EMAIL_UPDATE_SUCCESS:n+"/EMAIL_UPDATE_SUCCESS",EMAIL_UPDATE_ERROR:n+"/EMAIL_UPDATE_ERROR",AUTH_RELOAD_START:n+"/AUTH_RELOAD_START",AUTH_RELOAD_ERROR:n+"/AUTH_RELOAD_ERROR",AUTH_RELOAD_SUCCESS:n+"/AUTH_RELOAD_SUCCESS",AUTH_LINK_START:n+"/AUTH_LINK_START",AUTH_LINK_ERROR:n+"/AUTH_LINK_ERROR",AUTH_LINK_SUCCESS:n+"/AUTH_LINK_SUCCESS",AUTH_EMPTY_CHANGE:n+"/AUTH_EMPTY_CHANGE"},i=t.defaultConfig={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};t.supportedAuthProviders=["google","github","twitter","facebook"],t.topLevelPaths=["auth","profile","ordered","data"];t.default={actionTypes:r,defaultConfig:i}},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(4),o=n(110);e.exports=r},function(e,t,n){e.exports=n(404)()},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(41),o=1/0;e.exports=r},function(e,t,n){function r(e){return"string"==typeof e||!o(e)&&a(e)&&i(e)==s}var i=n(9),o=n(1),a=n(5),s="[object String]";e.exports=r},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(130),o=n(59),a=n(12);e.exports=r},function(e,t,n){var r=n(136),i=n(297),o=i(r);e.exports=o},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(1),o=n(101),a=n(169),s=n(22);e.exports=r},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):i(n,c,l)}return n}var i=n(53),o=n(25);e.exports=r},function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(270),o=n(311);e.exports=r},function(e,t,n){var r=n(249),i=n(78),o=n(251),a=n(126),s=n(128),u=n(9),c=n(170),l="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",m="[object DataView]",y=c(r),v=c(i),g=c(o),b=c(a),w=c(s),E=u;(r&&E(new r(new ArrayBuffer(1)))!=m||i&&E(new i)!=l||o&&E(o.resolve())!=h||a&&E(new a)!=p||s&&E(new s)!=d)&&(E=function(e){var t=u(e),n=t==f?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case y:return m;case v:return l;case g:return h;case b:return p;case w:return d}return t}),e.exports=E},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(89);e.exports=r},function(e,t,n){var r=n(6),i=r.Symbol;e.exports=i},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(149);e.exports=r},function(e,t){function n(e,t){var n=typeof e;return t=null==t?r:t,!!t&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){var n=s(e)?i:a;return n(e,o(t,3))}var i=n(24),o=n(8),a=n(274),s=n(1);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=void 0;var i=n(420),o=r(i),a=n(195),s=r(a),u=n(421),c=r(u);t.Provider=o.default,t.createProvider=i.createProvider,t.connectAdvanced=s.default,t.connect=c.default},function(e,t,n){"use strict";e.exports=n(430)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return c(e)||u(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function l(e){return e?e.split(/\//).filter(function(e){return!!e}):[]}function f(e){return(0,b.default)((0,w.default)(e,/[.]/g,"/"),"/")}function h(e){return l(e).join(".")}function p(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object.keys(e).reduce(function(r,i){return r[i]=e[i](t[i],n),r},{})}}function d(e){if(!e)throw new Error("Action meta is required to build path for reducers.");var t=e.collection,n=e.doc,r=e.subcollections,i=e.storeAs;if(i)return n?[i,n]:[i];if(e.path)return e.path.split("/");if(!t)throw new Error("Collection is required to construct reducer path.");var o=[t];if(n&&(o=[].concat(a(o),[n])),!r)return o;var s=r.map(d);return[].concat(a(o),a((0,g.default)(s)))}function m(e,t,n){var r=!1,i=Array.isArray(e)?e.map(function(e){if(!e||e.id!==t)return e;r=!0;var i=n(e);return i}):[];return r||i.push(n({id:t})),i}function y(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(r.type)?t[r.type](n,r):n}}function v(e,t,n){if((0,_.default)(t))return n?i({},e,n):e;if((0,S.default)(t))return t(e,n);if((0,T.default)(t))return(0,E.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")}Object.defineProperty(t,"__esModule",{value:!0}),t.pathToArr=l,t.getSlashStrPath=f,t.getDotStrPath=h,t.combineReducers=p,t.pathFromMeta=d,t.updateItemInArray=m,t.createReducer=y,t.preserveValuesFromState=v;var g=r(n(172)),b=r(n(396)),w=r(n(182)),E=r(n(70)),T=r(n(1)),_=r(n(177)),S=r(n(4))},function(e,t,n){e.exports=n(225)},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(38),o=n(163),a=n(105);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;e.exports=n},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t){e.exports={}},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(265),i=n(5),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(6),i=n(390),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(75)(e))},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(9),o=n(5),a="[object Symbol]";e.exports=r},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(88);e.exports=r},function(e,t,n){function r(e){if(null==e)return 0;if(a(e))return s(e)?u(e):e.length;var t=o(e);return t==c||t==l?e.size:i(e).length}var i=n(59),o=n(21),a=n(12),s=n(15),u=n(351),c="[object Map]",l="[object Set]";e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stringToDate=t.wrapDisplayName=t.getDisplayName=t.createCallable=t.getEventsFromInput=void 0;var i=n(4),o=r(i),a=n(416);Object.defineProperty(t,"getEventsFromInput",{enumerable:!0,get:function(){return a.getEventsFromInput}});var s=(t.createCallable=function(e){return(0,o.default)(e)?e:function(){return e}},t.getDisplayName=function(e){if("string"==typeof e)return e;if(e)return e.displayName||e.name||"Component"});t.wrapDisplayName=function(e,t){return t+"("+s(e)+")"},t.stringToDate=function(e){try{return new Date(JSON.parse(e))}catch(t){return console.error("Error parsing string to date:",t.message||t),e}}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function o(e,t,n){function r(){m===d&&(m=d.slice())}function a(){if(v)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function s(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(v)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return r(),m.push(e),function(){if(t){if(v)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function u(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,p=h(p,e)}finally{v=!1}for(var t=d=m,n=0;n<t.length;n++){var r=t[n];r()}return e}function c(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,u({type:g.REPLACE})}function l(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[y]=function(){return this},e}var f;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,p=t,d=[],m=d,v=!1;return u({type:g.INIT}),f={dispatch:u,subscribe:s,getState:a,replaceReducer:c},f[y]=l,f}function a(e,t){var n=t&&t.type,r=n&&'action "'+String(n)+'"'||"an action";return"Given "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:g.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"==typeof n(void 0,{type:g.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+g.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,u=Object.keys(n);try{s(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<u.length;s++){var c=u[s],l=n[c],f=e[c],h=l(f,t);if("undefined"==typeof h){var p=a(c,t);throw new Error(p)}i[c]=h,r=r||h!==f}return r?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function l(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=c(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map(function(e){return e(i)});return r=d.apply(void 0,o)(n.dispatch),p({},n,{dispatch:r})}}}Object.defineProperty(t,"__esModule",{value:!0});var y=r(n(454)),v=function(){return Math.random().toString(36).substring(7).split("").join(".")},g={INIT:"@@redux/INIT"+v(),REPLACE:"@@redux/REPLACE"+v(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+v()}};t.__DO_NOT_USE__ActionTypes=g,t.applyMiddleware=m,t.bindActionCreators=l,t.combineReducers=u,t.compose=d,t.createStore=o},function(e,t,n){"use strict";function r(e){function t(e){var t=c[e];a(t,"delete"),delete c[e]}function n(e){if(e=e||f,!s.contains(c,e))throw l.create("no-app",{appName:e});return c[e]}function r(t,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var i=n;void 0===i.name&&(i.name=f);var o=i.name;if("string"!=typeof o||!o)throw l.create("bad-app-name",{appName:String(o)});if(s.contains(c,o))throw l.create("duplicate-app",{appName:o});var u=new e(t,i,m);return c[o]=u,a(u,"create"),u}function i(){return Object.keys(c).map(function(e){return c[e]})}function o(t,r,o,a,u){function c(e){if(void 0===e&&(e=n()),"function"!=typeof e[t])throw l.create("invalid-app-argument",{appName:t});return e[t]()}if(void 0===u&&(u=!1),h[t])throw l.create("duplicate-service",{appName:t});return h[t]=r,a&&(p[t]=a,i().forEach(function(e){a("create",e)})),void 0!==o&&s.deepExtend(c,o),m[t]=c,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,u?e:[])},c}function a(e,t){for(var n=0,r=Object.keys(h);n<r.length;n++){var i=r[n],o=u(e,i);if(null===o)return;p[o]&&p[o](t,e)}}function u(e,t){if("serverAuth"===t)return null;var n=t;return n}var c={},h={},p={},m={__esModule:!0,initializeApp:r,app:n,apps:null,SDK_VERSION:d,INTERNAL:{registerService:o,removeApp:t,factories:h,useAsService:u}};return m.default=m,Object.defineProperty(m,"apps",{get:i}),n.App=e,m}function i(){function e(e){s.deepExtend(t,e)}var t=r(p);return t.INTERNAL=a.__assign({},t.INTERNAL,{createFirebaseNamespace:i,extendNamespace:e,createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(74),s=n(120),u=n(119),c=(o={},o["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",o["bad-app-name"]="Illegal App name: '{$appName}",o["duplicate-app"]="Firebase App named '{$appName}' already exists",o["app-deleted"]="Firebase App named '{$appName}' already deleted",o["duplicate-service"]="Firebase service named '{$appName}' already registered",o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",o),l=new s.ErrorFactory("app","Firebase",c),f="[DEFAULT]",h=[],p=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){h.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){h=h.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=f),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==f?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;s.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(h.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),h=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d="6.3.2",m=new u.Logger("@firebase/app");if(s.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=i(),g=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.isNode()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,e)};var b=v;t.default=b,t.firebase=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(240),o=r(i);n(242),n(241),n(243);var a={apiKey:"AIzaSyCfu9_-R11LlgDD_mAoSIQ_tKFTC66Aabs",authDomain:"book-a-book-c17db.firebaseapp.com",databaseURL:"https://book-a-book-c17db.firebaseio.com",projectId:"book-a-book-c17db",storageBucket:"book-a-book-c17db.appspot.com",messagingSenderId:"7113660046",appId:"1:7113660046:web:e6cae22c1b212b81"};o.default.initializeApp(a),t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=function(){return o.default.createElement("div",{className:"loader-container margin-top-4"},o.default.createElement("div",{className:"loader"}))};t.default=a},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(325),o=n(326),a=n(327),s=n(328),u=n(329);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(50),o=n(345),a=n(346),s=n(347),u=n(348),c=n(349);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(25),o=n(36),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(36);e.exports=r},function(e,t,n){function r(e,t,n,k,O,N){var R,L=t&I,M=t&A,U=t&x;if(n&&(R=O?n(e,k,O,N):n(e)),void 0!==R)return R;if(!T(e))return e;var F=b(e);if(F){if(R=y(e),!L)return l(e,R)}else{var q=m(e),B=q==P||q==D;if(w(e))return c(e,L);if(q==j||q==C||B&&!O){if(R=M||B?{}:g(e),!L)return M?h(e,u(R,e)):f(e,s(R,e))}else{if(!ee[q])return O?e:{};R=v(e,q,L)}}N||(N=new i);var V=N.get(e);if(V)return V;N.set(e,R),_(e)?e.forEach(function(i){R.add(r(i,t,n,i,e,N))}):E(e)&&e.forEach(function(i,o){R.set(o,r(i,t,n,o,e,N))});var W=U?M?d:p:M?keysIn:S,z=F?void 0:W(e);return o(z||e,function(i,o){z&&(o=i,i=e[o]),a(R,o,r(i,t,n,o,e,N))}),R}var i=n(51),o=n(52),a=n(53),s=n(133),u=n(258),c=n(142),l=n(34),f=n(293),h=n(294),p=n(152),d=n(153),m=n(21),y=n(318),v=n(319),g=n(158),b=n(1),w=n(40),E=n(376),T=n(3),_=n(378),S=n(16),I=1,A=2,x=4,C="[object Arguments]",k="[object Array]",O="[object Boolean]",N="[object Date]",R="[object Error]",P="[object Function]",D="[object GeneratorFunction]",L="[object Map]",M="[object Number]",j="[object Object]",U="[object RegExp]",F="[object Set]",q="[object String]",B="[object Symbol]",V="[object WeakMap]",W="[object ArrayBuffer]",z="[object DataView]",H="[object Float32Array]",K="[object Float64Array]",G="[object Int8Array]",Q="[object Int16Array]",Y="[object Int32Array]",X="[object Uint8Array]",$="[object Uint8ClampedArray]",J="[object Uint16Array]",Z="[object Uint32Array]",ee={};ee[C]=ee[k]=ee[W]=ee[z]=ee[O]=ee[N]=ee[H]=ee[K]=ee[G]=ee[Q]=ee[Y]=ee[L]=ee[M]=ee[j]=ee[U]=ee[F]=ee[q]=ee[B]=ee[X]=ee[$]=ee[J]=ee[Z]=!0,ee[R]=ee[P]=ee[V]=!1,e.exports=r},function(e,t,n){var r=n(3),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){function r(e,t,n,a,s){var u=-1,c=e.length;for(n||(n=o),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(83),o=n(321);e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(18),o=n(14);e.exports=r},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(35),o=n(338),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=i(e.prototype),r=e.apply(n,t);return o(r)?r:n}}var i=n(56),o=n(3);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(322);e.exports=r},function(e,t,n){var r=n(20),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e,t){var n=s(e)?i:o;return n(e,a(t))}var i=n(52),o=n(17),a=n(288),s=n(1);e.exports=r},function(e,t,n){function r(e,t,n){return i(o,e,t,n)}var i=n(368),o=n(370);e.exports=r},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}var i=n(9),o=n(97),a=n(5),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=l.call(Object);e.exports=r},function(e,t,n){var r=n(272),i=n(60),o=n(102),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return a(e)?i(e,!0):o(e)}var i=n(130),o=n(273),a=n(12);e.exports=r},function(e,t,n){var r=n(24),i=n(55),o=n(90),a=n(18),s=n(19),u=n(305),c=n(96),l=n(153),f=1,h=2,p=4,d=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=i(n,f|h|p,u));for(var d=t.length;d--;)o(n,t[d]);return n});e.exports=d},function(e,t,n){var r=n(278),i=n(96),o=i(function(e,t){return null==e?{}:r(e,t);
});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.promisesForPopulate=t.populateList=t.getPopulateChild=t.getPopulates=t.getPopulateObjs=t.getChildType=t.getPopulateObj=void 0;var i=n(112),o=r(i),a=n(107),s=r(a),u=n(43),c=r(u),l=n(64),f=r(l),h=n(10),p=r(h),d=n(27),m=r(d),y=n(3),v=r(y),g=n(4),b=r(g),w=n(1),E=r(w),T=n(15),_=r(T),S=n(366),I=r(S),A=t.getPopulateObj=function(e){if(!(0,_.default)(e))return e;var t=e.split(":");return{child:t[0],root:t[1]}},x=(t.getChildType=function(e){return(0,_.default)(e)?"string":(0,E.default)(e)?"array":(0,v.default)(e)?"object":"other"},t.getPopulateObjs=function(e){return(0,E.default)(e)?e.map(function(e){return(0,v.default)(e)?e:A(e)}):e}),C=(t.getPopulates=function(e){var t=(0,I.default)(e,function(e){return e.indexOf("populate")!==-1||(0,v.default)(e)&&e.populates}).map(function(e){return e.split("=")[1]});return t.length?t.map(A):null},t.getPopulateChild=function(e,t,n){return e.database().ref().child(t.root+"/"+n).once("value").then(function(e){return e.val()})}),k=t.populateList=function(e,t,n,r){return r[n.root]||(0,c.default)(r,n.root,{}),Promise.all((0,m.default)(t,function(t,i){var o=t===!0||n.populateByKey?i:t;return C(e,n,o).then(function(e){return e?(0,c.default)(r,n.root+"."+o,e):r})}))},O=t.promisesForPopulate=function(e,t,n,r){var i=[],a={},u=x((0,b.default)(r)?r(t,n):r),l=(0,o.default)(u,function(e){return(0,s.default)(n,e.child)});return l?(0,f.default)(u,function(t){return(0,_.default)((0,p.default)(n,t.child))?i.push(C(e,t,(0,p.default)(n,t.child)).then(function(e){e&&(0,c.default)(a,t.root+"."+(0,p.default)(n,t.child),e)})):i.push(k(e,(0,p.default)(n,t.child),t,a))}):(0,f.default)(n,function(t,n){var o=A((0,b.default)(r)?r(n,t):r);(0,f.default)(o,function(n){var r=(0,p.default)(t,n.child);if(r)return(0,_.default)(r)?i.push(C(e,n,r).then(function(e){return e&&(0,c.default)(a,n.root+"."+r,e),a})):(0,E.default)(r)||(0,v.default)(r)?i.push(k(e,r,n,a)):void 0})}),Promise.all(i).then(function(){return a})};t.default={promisesForPopulate:O}},function(e,t){"use strict";function n(e,t,f){if("string"!=typeof t){if(l){var h=c(t);h&&h!==l&&n(e,h,f)}var p=a(t);s&&(p=p.concat(s(t)));for(var d=0;d<p.length;++d){var m=p[d];if(!(r[m]||i[m]||f&&f[m])){var y=u(t,m);try{o(e,m,y)}catch(e){}}}return e}return e}var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return a(e)||p(e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e){if(Array.isArray(e))return e}function s(e,t){if(null==e)return{};var n,r,i=u(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return d(e)||p(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function m(e,t){if(!(0,ee.default)(t))throw new Error("where parameter must be an array.");return(0,te.default)(t[0])?t.length>1?e.where.apply(e,f(t)):e.where(t[0]):t.reduce(function(e,t){return m(e,t)},e)}function y(e,t){if(!(0,ee.default)(t)&&!(0,te.default)(t))throw new Error("orderBy parameter must be an array or string.");return(0,te.default)(t)?e.orderBy(t):(0,te.default)(t[0])?e.orderBy.apply(e,f(t)):t.reduce(function(e,t){return y(e,t)},e)}function v(e,t){return t&&(0,G.default)(t,function(t){if(t.collection){if(!(0,Z.default)(e.collection))throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'.concat(t.collection,'" contains a doc parameter.'));e=e.collection(t.collection)}t.doc&&(e=e.doc(t.doc)),t.where&&(e=m(e,t.where)),t.orderBy&&(e=y(e,t.orderBy)),t.limit&&(e=e.limit(t.limit)),t.startAt&&(e=e.startAt(t.startAt)),t.startAfter&&(e=e.startAfter(t.startAfter)),t.endAt&&(e=e.endAt(t.endAt)),t.endBefore&&(e=e.endBefore(t.endBefore)),e=v(e,t.subcollections)}),e}function g(e,t){if(!e.firestore)throw new Error("Firestore must be required and initalized.");var n=t.collection,r=t.doc,i=t.subcollections,o=t.where,a=t.orderBy,s=t.limit,u=t.startAt,c=t.startAfter,l=t.endAt,f=t.endBefore,h=e.firestore().collection(n);return r&&(h=h.doc(r)),h=v(h,i),o&&(h=m(h,o)),a&&(h=y(h,a)),s&&(h=h.limit(s)),u&&(h=h.startAt(u)),c&&(h=h.startAfter(c)),l&&(h=h.endAt(l)),f&&(h=h.endBefore(f)),h}function b(e,t){return(0,te.default)(t)||(0,$.default)(t)?"".concat(e,"=").concat(t):(0,te.default)(t[0])?"".concat(e,"=").concat(t.join(":")):t&&t.toString?"".concat(e,"=").concat(t.toString()):t.map(function(t){return b(e,t)})}function w(e){return["where","orderBy","limit","startAfter","startAt","endAt","endBefore"].reduce(function(t,n){return e[n]?c({},t,l({},n,e[n])):t},{})}function E(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return b(t,e[t])}).join("&")}function T(e){if((0,te.default)(e))return e;var t=e.collection,n=e.doc,r=e.subcollections,i=e.storeAs,o=s(e,["collection","doc","subcollections","storeAs"]);if(!t)throw new Error("Collection is required to build query name");if(i)return i;var a=t;if(n&&(a=a.concat("/".concat(n))),r){var u=r.map(function(e){return T(e)});a="".concat(a,"/").concat(u.join("/"))}var c=w(o);if(!(0,X.default)(c)){if(c.where&&!(0,ee.default)(c.where))throw new Error("where parameter must be an array.");a=a.concat("?",E(c))}return a}function _(e){if((0,te.default)(e))return e;var t=e.collection,n=e.subcollections,r=s(e,["collection","subcollections"]);if(!t)throw new Error("Collection is required to build query name");var i=t;if(n){var o=n.map(function(e){return T(e)});i="".concat(i,"/").concat(o.join("/"))}var a=w(r);if(!(0,X.default)(a)){if(a.where&&!(0,ee.default)(a.where))throw new Error("where parameter must be an array.");i=i.concat("?",E(a))}return i}function S(e,t){if(!t)throw new Error("Meta data is required to attach listener.");if(!(0,K.default)(e,"_.listeners"))throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function I(e,t){S(e,t);var n=T(t);return!!e._.listeners[n]}function A(e,t,n,r){S(e,n);var i=T(n);return e._.listeners[i]||(e._.listeners[i]=r),t({type:ne.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),e._.listeners}function x(e,t,n){var r=T(n);e._.listeners[r]&&(e._.listeners[r](),delete e._.listeners[r]),t({type:ne.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})}function C(e,t){var n=t||(0,Q.default)(e,["/"]).split("/"),r=i(n),o=r[0],a=r[1],s=r.slice(2),u={};return o&&(u.collection=o),a&&(u.doc=a),s.length&&(u.subcollections=[C("",s)]),u}function k(e){if((0,te.default)(e))return C(e);if((0,J.default)(e)){if(!e.collection&&!e.doc)throw new Error("Collection and/or Doc are required parameters within query definition object.");return e}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function O(e){if((0,ee.default)(e))return e.map(k);if((0,te.default)(e))return C(e);if((0,J.default)(e))return[k(e)];throw new Error("Querie(s) must be an Array or a string.")}function N(e){var t=[];if(e.data&&e.exists){var n=(0,J.default)(e.data())?c({id:e.id},e.data()||e.data):{id:e.id,data:e.data()};t.push(n)}else e.forEach&&e.forEach(function(e){var n=(0,J.default)(e.data())?c({id:e.id},e.data()||e.data):{id:e.id,data:e.data()};t.push(n)});return t}function R(e){var t={};return e.data?t[e.id]=e.exists?e.data():null:e.forEach&&e.forEach(function(e){t[e.id]=e.data()||e}),(0,Y.default)(t)?t:null}function P(e,t,n){return g(e,{collection:t.root,doc:n}).get().then(function(e){return Object.assign({id:n},e.data())})}function D(e,t,n,r){return r[n.root]||(0,W.default)(r,n.root,{}),Promise.all((0,H.default)(t,function(t,i){var o=t===!0||n.populateByKey?i:t;return P(e,n,o).then(function(e){return e?(0,W.default)(r,"".concat(n.root,".").concat(o),e):r})}))}function L(e){if(!(0,te.default)(e))return e;var t=e.split(":");return{child:t[0],root:t[1]}}function M(e){return(0,ee.default)(e)?e.map(function(e){return(0,J.default)(e)?e:L(e)}):e}function j(e,t,n,r){var i=[],o={},a=M((0,Z.default)(r)?r(t,n):r),s=(0,V.default)(a,function(e){return(0,K.default)(n,e.child)});return s?(0,G.default)(a,function(t){return(0,te.default)((0,z.default)(n,t.child))?i.push(P(e,t,(0,z.default)(n,t.child)).then(function(e){e&&(0,W.default)(o,"".concat(t.root,".").concat((0,z.default)(n,t.child)),e)})):i.push(D(e,(0,z.default)(n,t.child),t,o))}):(0,G.default)(n,function(t,n){var a=L((0,Z.default)(r)?r(n,t):r);(0,G.default)(a,function(n){var r=(0,z.default)(t,n.child);if(r)return(0,te.default)(r)?i.push(P(e,n,r).then(function(e){return e&&(0,W.default)(o,"".concat(n.root,".").concat(r),e),o})):(0,ee.default)(r)||(0,J.default)(r)?i.push(D(e,r,n,o)):void 0})}),Promise.all(i).then(function(){return o})}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c({},(0,B.default)(t),{path:e.doc.ref.path});return t.subcollections&&!t.storeAs?n.subcollections[0]=c({},n.subcollections[0],{doc:e.doc.id}):n.doc=e.doc.id,{type:re[e.type]||ne.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:e.doc.data(),ordered:{oldIndex:e.oldIndex,newIndex:e.newIndex}}}}function F(e){var t=e.dispatch,n=e.docData,r=e.meta,i=e.firebase,o=i._.config||{},a=o.mergeOrdered,s=o.mergeOrderedDocUpdates,u=o.mergeOrderedCollectionUpdates,c="function"==typeof n.docChanges?n.docChanges():n.docChanges;c&&c.length<n.size?c.forEach(function(e){t(U(e,r))}):t({type:ne.actionTypes.LISTENER_RESPONSE,meta:r,payload:{data:R(n),ordered:N(n)},merge:{docs:a&&s,collections:a&&u}})}function q(e){var t=e.firebase,n=e.docData,r=e.meta;return j(t,n.id,R(n),r.populates).then(function(e){return Object.keys(e).map(function(t){return{meta:{collection:t},payload:{data:e[t]},requesting:!1,requested:!0}})}).catch(function(e){return console.error("Error with populate:",e,r),Promise.reject(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.firestoreRef=g,t.getQueryName=T,t.getBaseQueryName=_,t.listenerExists=I,t.attachListener=A,t.detachListener=x,t.queryStrToObj=C,t.getQueryConfig=k,t.getQueryConfigs=O,t.orderedFromSnap=N,t.dataByIdSnapshot=R,t.getPopulateChild=P,t.populateList=D,t.promisesForPopulate=j,t.dispatchListenerResponse=F,t.getPopulateActions=q;var B=r(n(360)),V=r(n(112)),W=r(n(43)),z=r(n(10)),H=r(n(27)),K=r(n(107)),G=r(n(64)),Q=r(n(395)),Y=r(n(44)),X=r(n(374)),$=r(n(178)),J=r(n(3)),Z=r(n(4)),ee=r(n(1)),te=r(n(15)),ne=n(7),re={added:ne.actionTypes.DOCUMENT_ADDED,removed:ne.actionTypes.DOCUMENT_REMOVED,modified:ne.actionTypes.DOCUMENT_MODIFIED}},function(e,t,n){var r,i;(function(n){var o,a,s,u,c,l,f,h,p,d,m,y,v,g,b,w,E,T,_,S;!function(o){function a(e,t){return e!==s&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}var s="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};r=[t],i=function(e){o(a(s,a(e)))}.apply(t,r),!(void 0!==i&&(e.exports=i))}(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};o=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=function(e,t){return function(n,r){t(n,r,e)}},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},h=function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},p=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},d=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e},v=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},g=function(e){return this instanceof g?(this.v=e,this):new g(e)},b=function(e,t,n){function r(e){l[e]&&(c[e]=function(t){return new Promise(function(n,r){f.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(l[e](t))}catch(e){u(f[0][3],e)}}function o(e){e.value instanceof g?Promise.resolve(e.value.v).then(a,s):u(f[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),f.shift(),f.length&&i(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(e,t||[]),f=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c},w=function(e){function t(t,i){n[t]=e[t]?function(n){return(r=!r)?{value:g(e[t](n)),done:"return"===t}:i?i(n):n}:i}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},E=function(e){function t(t){r[t]=e[t]&&function(r){return new Promise(function(i,o){r=e[t](r),n(i,o,r.done,r.value)})}}function n(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof d?d(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)},T=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},S=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",o),e("__assign",a),e("__rest",s),e("__decorate",u),e("__param",c),e("__metadata",l),e("__awaiter",f),e("__generator",h),e("__exportStar",p),e("__values",d),e("__read",m),e("__spread",y),e("__spreadArrays",v),e("__await",g),e("__asyncGenerator",b),e("__asyncDelegator",w),e("__asyncValues",E),e("__makeTemplateObject",T),e("__importStar",_),e("__importDefault",S)})}).call(t,function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.searchBook=t.changeFilter=t.ChangeGetUsers=t.addBook=void 0;var o=n(31),a=r(o),s=(t.addBook=function(e){return function(t,n,r){var i=r.getFirebase,o=r.getFirestore,a=o(),s=i(),u=s.storage().ref("images/"+e.imageFile.name),c=u.put(e.imageFile);c.on("state_changed",function(n){var r=n.bytesTransferred/n.totalBytes*100;100===r&&u.getDownloadURL().then(function(n){console.log("the url is: ",n);var r=Object.assign({},e);delete r.imageFile,r.image=n,a.collection("books").add(Object.assign({},r,{title_norm:r.title.toLowerCase(),author_norm:r.author.toLowerCase(),addedBy:s.auth().currentUser.uid,addedAt:new Date})).then(function(){t({type:"ADD_BOOK",book:e})}).catch(function(e){t({type:"ADD_BOOK_ERROR",error:e})})})})}},function(){var e=i(a.default.mark(function e(t,n,r){var i,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=a.default.mark(function e(i){var o,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t[i],s={},e.next=4,n.collection("users").doc(o.addedBy).get().then(function(e){s.name=e.data().firstName+" "+e.data().lastName,s.phone=e.data().phoneNumber,s.email=e.data().email,r[o.addedBy]=Object.assign({},s)});case 4:case"end":return e.stop()}},e,void 0)}),o=0;case 2:if(!(o<t.length)){e.next=7;break}return e.delegateYield(i(o),"t0",4);case 4:o++,e.next=2;break;case 7:case"end":return e.stop()}},e,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}());t.ChangeGetUsers=function(e){return function(){var t=i(a.default.mark(function t(n,r,i){var o,u,c=(i.getFirebase,i.getFirestore);return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c(),u={},t.next=4,s(e,o,u);case 4:n({type:"CHANGE_FILTER",books:e,usersData:u});case 5:case"end":return t.stop()}},t,void 0)}));return function(e,n,r){return t.apply(this,arguments)}}()},t.changeFilter=function(e){return function(t,n,r){var o=(r.getFirebase,r.getFirestore),u=o();u.collection("books").orderBy(e[0],e[1]).onSnapshot(function(){var e=i(a.default.mark(function e(n){var r,o;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n.forEach(function(){var e=i(a.default.mark(function e(t){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},n.id=t.id,n=Object.assign({},n,t.data()),r.push(n);case 4:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()),o={},e.next=5,s(r,u,o);case 5:t({type:"CHANGE_FILTER",books:r,usersData:o});case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}())}},t.searchBook=function(e){return function(){var t=i(a.default.mark(function t(n,r,i){var o,s,u,c,l,f=(i.getFirebase,i.getFirestore);return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=f(),s=o.collection("books"),u=[],c=s.where("title_norm","==",e.toLowerCase()).get().then(function(e){e.forEach(function(e){var t={};t.id=e.id,t=Object.assign({},t,e.data()),u.push(t)})}),l=s.where("author_norm","==",e.toLowerCase()).get().then(function(e){e.forEach(function(e){var t={};t.id=e.id,t=Object.assign({},t,e.data()),u.push(t)})}),Promise.all([c,l]).then(function(){n({type:"SEARCH_BOOK",searchedBooks:u})});case 6:case"end":return t.stop()}},t,void 0)}));return function(e,n,r){return t.apply(this,arguments)}}()}},function(e,t,n){function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var i=n(56),o=n(86),a=4294967295;r.prototype=i(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){var r=n(20),i=n(6),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(330),o=n(331),a=n(332),s=n(333),u=n(334);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(79),o=n(343),a=n(344);r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},function(e,t,n){function r(e,t){var n=null==e?0:e.length;return!!n&&i(e,t,0)>-1}var i=n(84);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e,t,n){return t===t?a(e,t,n):i(e,o,n)}var i=n(261),o=n(269),a=n(350);e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(266),o=n(5);e.exports=r},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e,t,n,f,h){e!==t&&a(t,function(a,c){if(h||(h=new i),u(a))s(e,t,c,n,r,f,h);else{var p=f?f(l(e,c),a,c+"",e,t,h):void 0;void 0===p&&(p=a),o(e,c,p)}},c)}var i=n(51),o=n(132),a=n(135),s=n(277),u=n(3),c=n(68),l=n(165);e.exports=r},function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=o(t,e);for(var c=-1,l=t.length,f=l-1,h=e;null!=h&&++c<l;){var p=u(t[c]),d=n;if(c!=f){var m=h[p];d=r?r(m,p,h):void 0,void 0===d&&(d=s(m)?m:a(t[c+1])?[]:{})}i(h,p,d),h=h[p]}return e}var i=n(53),o=n(18),a=n(26),s=n(3),u=n(14);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(23),o=n(24),a=n(1),s=n(41),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t,n){function r(e,t){return t=i(t,e),e=a(e,t),null==e||delete e[s(o(t))]}var i=n(18),o=n(42),a=n(164),s=n(14);e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var i=n(140);e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(127);e.exports=r},function(e,t,n){function r(e){return i(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}var i=n(33),o=n(100);e.exports=r},function(e,t,n){function r(e,t,n,r,T,_,S,I){var A=t&y;if(!A&&"function"!=typeof e)throw new TypeError(d);var x=r?r.length:0;if(x||(t&=~(b|w),r=T=void 0),S=void 0===S?S:E(p(S),0),I=void 0===I?I:p(I),x-=T?T.length:0,t&w){var C=r,k=T;r=T=void 0}var O=A?void 0:c(e),N=[e,t,n,r,T,C,k,_,S,I];if(O&&l(N,O),e=N[0],t=N[1],n=N[2],r=N[3],T=N[4],I=N[9]=void 0===N[9]?A?0:e.length:E(N[9]-x,0),!I&&t&(v|g)&&(t&=~(v|g)),t&&t!=m)R=t==v||t==g?a(e,t,I):t!=b&&t!=(m|b)||T.length?s.apply(void 0,N):u(e,t,n,r);else var R=o(e,t,n);var P=O?i:f;return h(P(R,N),e,t)}var i=n(139),o=n(299),a=n(301),s=n(147),u=n(302),c=n(154),l=n(337),f=n(166),h=n(167),p=n(184),d="Expected a function",m=1,y=2,v=8,g=16,b=32,w=64,E=Math.max;e.exports=r},function(e,t,n){function r(e){return a(o(e,void 0,i),e+"")}var i=n(172),o=n(163),a=n(105);e.exports=r},function(e,t,n){var r=n(162),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var r=n(81),i=n(183),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return a.call(e,t)}))}:i;e.exports=u},function(e,t){function n(e){return l.test(e)}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=i+o+a,u="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+r+s+u+"]");e.exports=n},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(36),o=n(12),a=n(26),s=n(3);e.exports=r},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(1),o=n(41),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){(function(e){var r=n(151),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(75)(e))},function(e,t){function n(e,t){for(var n=-1,i=e.length,o=0,a=[];++n<i;){var s=e[n];s!==t&&s!==r||(e[n]=r,a[o++]=n)}return a}var r="__lodash_placeholder__";e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){var r=n(283),i=n(168),o=i(r);e.exports=o},function(e,t,n){function r(e){return o(e)?a(e):i(e)}var i=n(256),o=n(99),a=n(353);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(262),o=n(157);e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)}var i=n(12),o=n(5);e.exports=r},function(e,t,n){function r(e,t){return i(e,t)}var i=n(85);e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e,t){var n={};return t=a(t,3),o(e,function(e,r,o){i(n,r,t(e,r,o))}),n}var i=n(25),o=n(136),a=n(8);e.exports=r},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return n&&u(e,t,n)&&(t=void 0),r(e,o(t,3))}var i=n(131),o=n(8),a=n(284),s=n(1),u=n(100);e.exports=r},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var l in r)o.call(r,l)&&(u[l]=r[l]);if(i){s=i(r);for(var f=0;f<s.length;f++)a.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.database&&t.database.ServerValue){var n=t.database().ref(),r=t._,i=r.config,o=i.presence,s=i.sessions,u=r.authUid,c=n.child(".info/connected"),l=n.child((0,a.default)(o)?o(t.auth().currentUser,t):o).child(u),f=(0,a.default)(s)?s(t.auth().currentUser,t):s;f&&(f=n.child(s)),c.on("value",function(n){if(n.val()){if(f){e({type:p.actionTypes.SESSION_START,payload:u});var r=f.push({startedAt:t.database.ServerValue.TIMESTAMP,user:u});(0,a.default)(r.setPriority)&&r.setPriority(u),r.child("endedAt").onDisconnect().set(t.database.ServerValue.TIMESTAMP,function(){e({type:p.actionTypes.SESSION_END})})}l.set(!0),l.onDisconnect().remove()}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateProfileOnFirestore=t.updateProfileOnRTDB=t.createAuthIsReady=t.authIsReady=t.getLoginMethodAndParams=void 0;var o=n(4),a=r(o),s=n(15),u=r(s),c=n(1),l=r(c),f=n(358),h=r(f);t.setupPresence=i;var p=n(11),d=function(e,t,n){var r=(0,h.default)(t)+"AuthProvider",i=new e.auth[r],o=e._.config.customAuthParameters;return o&&o[t]&&i.setCustomParameters(o[t]),"twitter"!==t.toLowerCase()&&(0,a.default)(i.addScope)?(i.addScope("email"),n&&((0,l.default)(n)&&n.forEach(function(e){i.addScope(e)}),(0,u.default)(n)&&i.addScope(n)),i):i},m=(t.getLoginMethodAndParams=function(e,t){var n=t.email,r=t.password,i=t.provider,o=t.type,a=t.token,s=t.scopes,u=t.phoneNumber,c=t.applicationVerifier,l=t.credential;if(l)return{method:"signInWithCredential",params:[l]};if(i){if(p.supportedAuthProviders.indexOf(i.toLowerCase())===-1)throw new Error(i+" is not a valid Auth Provider");if(a)throw new Error("provider with token no longer supported, use credential parameter instead");var f=d(e,i,s);return"popup"===o?{method:"signInWithPopup",params:[f]}:{method:"signInWithRedirect",params:[f]}}if(a){var h=e.auth().signInAndRetrieveDataWithCustomToken;return h?{method:"signInAndRetrieveDataWithCustomToken",params:[a]}:{method:"signInWithCustomToken",params:[a]}}if(u){if(!c)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[u,c]}}var m=e.auth().signInAndRetrieveDataWithEmailAndPassword;return m?{method:"signInAndRetrieveDataWithEmailAndPassword",params:[n,r]}:{method:"signInWithEmailAndPassword",params:[n,r]}},function(e,t){var n=e.getState(),r=t?n[t]:n,i=r&&r.auth;if(!i)throw new Error("The Firebase auth state could not be found in the store under the attribute '"+(t?t+".":"")+"auth'. Make sure your react-redux-firebase reducer is correctly set in the store");return r.auth.isLoaded}),y=t.authIsReady=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"firebase";return new Promise(function(n){if(m(e,t))n();else var r=e.subscribe(function(){m(e,t)&&(r(),n())})})};t.createAuthIsReady=function(e,t){return(0,a.default)(t.authIsReady)?t.authIsReady(e,t):y(e,t.firebaseStateName)},t.updateProfileOnRTDB=function(e,t){var n=e.database,r=e._,i=r.config,o=r.authUid,a=n().ref(i.userProfile+"/"+o);return a.update(t).then(function(){return a.once("value")})},t.updateProfileOnFirestore=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useSet,i=void 0===r||r,o=n.merge,a=void 0===o||o,s=e.firestore,u=e._,c=u.config,l=u.authUid,f=s().doc(c.userProfile+"/"+l),h=i?f.set(t,{
merge:a}):f.update(t);return h.then(function(){return f.get()})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e?e.split(/\//).filter(function(e){return!!e}):[]}function o(e){return i(e).join("/")}function a(e){return i(e).join(".")}Object.defineProperty(t,"__esModule",{value:!0}),t.recursiveUnset=t.preserveValuesFromState=t.combineReducers=void 0;var s=n(371),u=r(s),c=n(1),l=r(c),f=n(70),h=r(f),p=n(177),d=r(p),m=n(4),y=r(m),v=n(44),g=r(v),b=n(182),w=r(b),E=n(10),T=r(E),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.pathToArr=i,t.getSlashStrPath=o,t.getDotStrPath=a;t.combineReducers=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(e).reduce(function(r,i){return r[i]=e[i](t[i],n),r},{})}},t.preserveValuesFromState=function(e,t,n){if((0,y.default)(t))return t(e,n);if((0,d.default)(t)&&t)return n?_({},e,n):e;if((0,l.default)(t))return(0,h.default)(e,t);throw new Error("Invalid preserve parameter. It must be an Object or an Array")},t.recursiveUnset=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return n;if((0,g.default)((0,T.default)(n,t))>0&&r)return n;var i=(0,u.default)(t,n),o=t.match(/\./)?(0,w.default)(t,/\.[^.]*$/,""):"";return e(o,i,!0)}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e,t){if(!e)throw i?new Error(o):new Error(o+": "+(t||""))}var i=!0,o="Invariant failed";e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!i){if(e)return;var n="Warning: "+t;"undefined"!=typeof console&&console.warn(n);try{throw Error(n)}catch(e){}}}var i=!0;e.exports=r},function(e,t){"use strict";function n(e){r.forEach(function(t){t.logLevel=e})}Object.defineProperty(t,"__esModule",{value:!0});var r=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(t.LogLevel||(t.LogLevel={}));var i=t.LogLevel.INFO,o=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(n<e.logLevel)){var o=(new Date).toISOString();switch(n){case t.LogLevel.DEBUG:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case t.LogLevel.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case t.LogLevel.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case t.LogLevel.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case t.LogLevel.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+n+")")}}},a=function(){function e(e){this.name=e,this._logLevel=i,this._logHandler=o,r.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logHandler.apply(this,[this,t.LogLevel.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logHandler.apply(this,[this,t.LogLevel.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logHandler.apply(this,[this,t.LogLevel.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logHandler.apply(this,[this,t.LogLevel.WARN].concat(e))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logHandler.apply(this,[this,t.LogLevel.ERROR].concat(e))},e}();t.Logger=a,t.setLogLevel=n},function(e,t,n){(function(e){"use strict";function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=i(e[r],t[r]));return e}function o(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())}function s(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}function u(){return"object"==typeof self&&self.self===self}function c(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function l(){return k.NODE_CLIENT===!0||k.NODE_ADMIN===!0}function f(e,t){return e.replace(B,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}function h(e){return JSON.parse(e)}function p(e){return JSON.stringify(e)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function y(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function v(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function g(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return t.length?"&"+t.join("&"):""}function b(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}function w(e,t){var n=new Q(e,t);return n.subscribe.bind(n)}function E(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function T(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}function _(){}function S(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function I(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(e,t,r)+"must be a valid firebase namespace.")}function A(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(e,t,r)+"must be a valid function.")}function x(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(e,t,r)+"must be a valid context object.")}Object.defineProperty(t,"__esModule",{value:!0});var C=n(74),k={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},O=function(e,t){if(!e)throw N(t)},N=function(e){return new Error("Firebase Database ("+k.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},R=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},P=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(R(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):P(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==f)throw Error();var h=o<<2|s>>4;if(r.push(h),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==f){var d=c<<6&192|f;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},L=function(e){var t=R(e);return D.encodeByteArray(t,!0)},M=function(e){try{return D.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},j=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),U="FirebaseError",F=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=U,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,q.prototype.create),i}return C.__extends(t,e),t}(Error),q=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?f(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new F(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}(),B=/\{\$([^}]+)}/g,V=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=h(M(o[0])||""),n=h(M(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},W=function(e){var t=V(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},z=function(e){var t=V(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},H=function(e){var t=V(e),n=t.claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},K=function(e){var t=V(e).claims;return"object"==typeof t&&t.admin===!0},G=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),Q=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=T(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}(),Y=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},X=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,O(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};t.CONSTANTS=k,t.Deferred=j,t.ErrorFactory=q,t.FirebaseError=F,t.Sha1=G,t.assert=O,t.assertionError=N,t.async=E,t.base64=D,t.base64Decode=M,t.base64Encode=L,t.contains=d,t.createSubscribe=w,t.decode=V,t.deepCopy=r,t.deepExtend=i,t.errorPrefix=S,t.getUA=o,t.isAdmin=K,t.isBrowser=u,t.isEmpty=y,t.isMobileCordova=a,t.isNode=s,t.isNodeSdk=l,t.isReactNative=c,t.isValidFormat=H,t.isValidTimestamp=W,t.issuedAtTime=z,t.jsonEval=h,t.map=v,t.querystring=g,t.querystringDecode=b,t.safeGet=m,t.stringLength=$,t.stringToByteArray=X,t.stringify=p,t.validateArgCount=Y,t.validateCallback=A,t.validateContextObject=x,t.validateNamespace=I}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.signup=t.signin=void 0;var o=n(31),a=r(o);t.signin=function(e){return function(){var t=i(a.default.mark(function t(n,r,i){var o,s,u=i.getFirebase,c=i.getFirestore;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=u(),s=c(),console.log("user to sign in: ",e),t.next=5,o.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var r=o.auth().currentUser;localStorage.setItem("uid",r.uid),n({type:"SIGNIN",user:e})}).catch(function(e){console.log(e.message),localStorage.setItem("uid",void 0),n({type:"ERROR",error:e})});case 5:case"end":return t.stop()}},t,void 0)}));return function(e,n,r){return t.apply(this,arguments)}}()},t.signup=function(e){return function(){var t=i(a.default.mark(function t(n,r,i){var o,s,u=i.getFirebase,c=i.getFirestore;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=u(),s=c(),console.log("user to sign up: ",e),t.next=5,o.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(){var t=o.auth().currentUser;localStorage.setItem("uid",t.uid),s.collection("users").doc(t.uid).set(e).then(function(){n({type:"SIGNUP",user:e})})}).catch(function(e){localStorage.removeItem("uid"),n({type:"ERROR",error:e})});case 5:case"end":return t.stop()}},t,void 0)}));return function(e,n,r){return t.apply(this,arguments)}}()}},function(e,t){},function(e,t,n){"use strict";e.exports=n(245)},function(e,t,n){(function(e){"use strict";function n(e,t,n,o,a,s){n&&(Array.isArray(a)?r(e,t,n,o,a,s):i(e,t,n,o,a,s))}function r(e,t,n,r,i,o){for(var a=Math.min(i.length,o.length),s=0;s<a;s++)if(e.assigned[s]&&i[s]!==o[s]){var u=t.concat(s);n.push({op:"replace",path:u,value:o[s]}),r.push({op:"replace",path:u,value:i[s]})}if(a<o.length){for(var c=a;c<o.length;c++){var l=t.concat(c);n.push({op:"add",path:l,value:o[c]})}r.push({op:"replace",path:t.concat("length"),value:i.length})}else if(a<i.length){n.push({op:"replace",path:t.concat("length"),value:o.length});for(var f=a;f<i.length;f++){var h=t.concat(f);r.push({op:"add",path:h,value:i[f]})}}}function i(e,t,n,r,i,o){d(e.assigned,function(e,a){var s=i[e],u=o[e],c=a?e in i?"replace":"add":"remove";if(s!==i||"replace"!==c){var l=t.concat(e);n.push("remove"===c?{op:c,path:l}:{op:c,path:l,value:u}),r.push("add"===c?{op:"remove",path:l}:"remove"===c?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}})}function o(e,t){for(var n=function(n){var r=t[n];if(0===r.path.length&&"replace"===r.op)e=r.value;else{var i=r.path.slice(),o=i.pop(),a=i.reduce(function(e,t){if(!e)throw new Error("Cannot apply patch, path doesn't resolve: "+r.path.join("/"));return e[t]},e);if(!a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.path.join("/"));switch(r.op){case"replace":case"add":a[o]=r.value;break;case"remove":if(Array.isArray(a)){if(o!==a.length-1)throw new Error("Remove can only remove the last key of an array, index: "+o+", length: "+a.length);a.length-=1}else delete a[o];break;default:throw new Error("Unsupported patch operation: "+r.op)}}},r=0;r<t.length;r++)n(r);return e}function a(){}function s(e){J=e}function u(e){Z=e}function c(){return Z}function l(e){return!!e&&!!e[Y]}function f(e){if(!e)return!1;if("object"!==("undefined"==typeof e?"undefined":Q(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){return J&&Object.freeze(e),e}function p(e){if(Array.isArray(e))return e.slice();var t=void 0===e.__proto__?Object.create(null):{};return ee(t,e)}function d(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n]);else for(var r in e)t(r,e[r])}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t,r,i){if(l(e)){var o=e[Y];if(o.modified===!0){if(o.finalized===!0)return o.copy;o.finalized=!0;var a=v(Z?o.copy:o.copy=p(e),o,t,r,i);return n(o,t,r,i,o.base,a),a}return o.base}return g(e),e}function v(e,t,n,r,i){var o=t.base;return d(e,function(a,s){if(s!==o[a]){var u=r&&!m(t.assigned,a);e[a]=y(s,u&&n.concat(a),u&&r,i)}}),h(e)}function g(e){f(e)&&(Object.isFrozen(e)||(d(e,function(t,n){l(n)?e[t]=y(n):g(n)}),h(e)))}function b(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function w(e,t){return{modified:!1,assigned:{},finalized:!1,parent:e,base:t,copy:void 0,proxies:{}}}function E(e){return e.modified===!0?e.copy:e.base}function T(e,t){if(t===Y)return e;if(e.modified){var n=e.copy[t];return n===e.base[t]&&f(n)?e.copy[t]=C(e,n):n}if(m(e.proxies,t))return e.proxies[t];var r=e.base[t];return!l(r)&&f(r)?e.proxies[t]=C(e,r):r}function _(e,t,n){if(e.assigned[t]=!0,!e.modified){if(t in e.base&&b(e.base[t],n)||m(e.proxies,t)&&e.proxies[t]===n)return!0;x(e)}return e.copy[t]=n,!0}function S(e,t){return e.assigned[t]=!1,x(e),delete e.copy[t],!0}function I(e,t){var n=e.modified?e.copy:m(e.proxies,t)?e.proxies:e.base,r=Reflect.getOwnPropertyDescriptor(n,t);return!r||Array.isArray(n)&&"length"===t||(r.configurable=!0),r}function A(){throw new Error("Immer does not support defining properties on draft objects.")}function x(e){e.modified||(e.modified=!0,e.copy=p(e.base),Object.assign(e.copy,e.proxies),e.parent&&x(e.parent))}function C(e,t,n){if(l(t))throw new Error("Immer bug. Plz report.");var r=w(e,t,n),i=Array.isArray(t)?Proxy.revocable([r],re):Proxy.revocable(r,ne);return te.push(i),i.proxy}function k(e,t,n){if(l(e)){var r=t.call(e,e);return void 0===r?e:r}var i=te;te=[];var o=n&&[],a=n&&[];try{var s=C(void 0,e),u=t.call(s,s),c=void 0;if(void 0!==u&&u!==s){if(s[Y].modified)throw new Error(X);c=y(u),o&&(o.push({op:"replace",path:[],value:c}),a.push({op:"replace",path:[],value:e}))}else c=y(s,[],o,a);return d(te,function(e,t){return t.revoke()}),n&&n(o,a),c}finally{te=i}}function O(e,t,n){return{modified:!1,assigned:{},hasCopy:!1,parent:e,base:n,proxy:t,copy:void 0,finished:!1,finalizing:!1,finalized:!1}}function N(e){return e.hasCopy?e.copy:e.base}function R(e,t){U(e);var n=N(e)[t];return!e.finalizing&&n===e.base[t]&&f(n)?(L(e),e.copy[t]=M(e,n)):n}function P(e,t,n){if(U(e),e.assigned[t]=!0,!e.modified){if(b(N(e)[t],n))return;D(e),L(e)}e.copy[t]=n}function D(e){e.modified||(e.modified=!0,e.parent&&D(e.parent))}function L(e){e.hasCopy||(e.hasCopy=!0,e.copy=p(e.base))}function M(e,t){var n=p(t);d(t,function(e){Object.defineProperty(n,""+e,j(""+e))});var r=O(e,n,t);return K(n,Y,r),oe.push(r),n}function j(e){return ie[e]||(ie[e]={configurable:!0,enumerable:!0,get:function(){return R(this[Y],e)},set:function(t){P(this[Y],e,t)}})}function U(e){if(e.finished===!0)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(e.copy||e.base))}function F(){for(var e=oe.length-1;e>=0;e--){var t=oe[e];t.modified===!1&&(Array.isArray(t.base)?W(t)&&D(t):V(t)&&D(t))}}function q(e){if(e&&"object"===("undefined"==typeof e?"undefined":Q(e))){var t=e[Y];if(t){var n=t.proxy,r=t.base;if(Array.isArray(e)){if(W(t)){if(D(t),t.assigned.length=!0,n.length<r.length)for(var i=n.length;i<r.length;i++)t.assigned[i]=!1;else for(var o=r.length;o<n.length;o++)t.assigned[o]=!0;d(n,function(e,n){t.assigned[e]||q(n)})}}else{var a=B(r,n),s=a.added,u=a.removed;(s.length>0||u.length>0)&&D(t),d(s,function(e,n){t.assigned[n]=!0}),d(u,function(e,n){t.assigned[n]=!1}),d(n,function(e,n){t.assigned[e]||q(n)})}}}}function B(e,t){var n=Object.keys(e),r=Object.keys(t);return{added:r.filter(function(e){return n.indexOf(e)===-1}),removed:n.filter(function(e){return r.indexOf(e)===-1})}}function V(e){var t=Object.keys(e.base),n=Object.keys(e.proxy);return!H(t,n)}function W(e){var t=e.proxy;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}function z(e,t,n){if(l(e)){var r=t.call(e,e);return void 0===r?e:r}var i=oe;oe=[];var o=n&&[],a=n&&[];try{var s=M(void 0,e),u=t.call(s,s);d(oe,function(e,t){t.finalizing=!0});var c=void 0;if(void 0!==u&&u!==s){if(s[Y].modified)throw new Error(X);c=y(u),o&&(o.push({op:"replace",path:[],value:c}),a.push({op:"replace",path:[],value:e}))}else n&&q(s),F(),c=y(s,[],o,a);return d(oe,function(e,t){t.finished=!0}),n&&n(o,a),c}finally{oe=i}}function H(e,t){if(b(e,t))return!0;if("object"!==("undefined"==typeof e?"undefined":Q(e))||null===e||"object"!==("undefined"==typeof t?"undefined":Q(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!b(e[n[i]],t[n[i]]))return!1;return!0}function K(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})}function G(e,t,n){if(arguments.length<1||arguments.length>3)throw new Error("produce expects 1 to 3 arguments, got "+arguments.length);if("function"==typeof e){if("function"==typeof t)throw new Error("if first argument is a function (curried invocation), the second argument to produce cannot be a function");var r=t,i=e;return function(){var e=arguments,t=void 0===e[0]&&void 0!==r?r:e[0];return G(t,function(t){return e[0]=t,i.apply(t,e)})}}if("function"!=typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("the third argument of a producer should not be set or a function");if("object"!==("undefined"==typeof e?"undefined":Q(e))||null===e){var o=t(e);return void 0===o?e:o}if(!f(e))throw new Error("the first argument to an immer producer should be a primitive, plain object or array, got "+("undefined"==typeof e?"undefined":Q(e))+': "'+e+'"');return c()?k(e,t,n):z(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y="undefined"!=typeof Symbol?Symbol("immer-proxy-state"):"__$immer_state",X="An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",$="undefined"!=typeof e&&!0||"verifyMinified"!==a.name,J=!$,Z="undefined"!=typeof Proxy,ee=Object.assign||function(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return e},te=null,ne={get:T,has:function(e,t){return t in E(e)},ownKeys:function(e){return Reflect.ownKeys(E(e))},set:_,deleteProperty:S,getOwnPropertyDescriptor:I,defineProperty:A,setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},re={};d(ne,function(e,t){re[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});var ie={},oe=null,ae=G(o);t.produce=G,t.default=G,t.applyPatches=ae,t.setAutoFreeze=s,t.setUseProxies=u}).call(t,n(401))},function(e,t,n){function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var i=n(56),o=n(86);r.prototype=i(o.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,n){var r=n(20),i=n(6),o=r(i,"Set");e.exports=o},function(e,t,n){var r=n(6),i=r.Uint8Array;e.exports=i},function(e,t,n){var r=n(20),i=n(6),o=r(i,"WeakMap");e.exports=o},function(e,t){function n(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),l=!n&&!r&&s(e),h=!n&&!r&&!l&&c(e),p=n||r||l||h,d=p?i(e.length,String):[],m=d.length;for(var y in e)!t&&!f.call(e,y)||p&&("length"==y||l&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||d.push(y);return d}var i=n(285),o=n(39),a=n(1),s=n(40),u=n(26),c=n(67),l=Object.prototype,f=l.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||i(e,t,n)}var i=n(25),o=n(36);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(19),o=n(16);e.exports=r},function(e,t,n){function r(e,t){var n=[];return i(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}var i=n(17);e.exports=r},function(e,t,n){var r=n(298),i=r();e.exports=i},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(135),o=n(16);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(83),o=n(1);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){var r=n(38),i=n(161),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&i(t,e[n],0)>-1;);return n}var i=n(84);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var i=n(6),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(75)(e))},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(93);e.exports=r},function(e,t){function n(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=r(a-s,0),f=Array(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}var r=Math.max;e.exports=n},function(e,t){function n(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=r(a-u,0),h=Array(f+l),p=!i;++o<f;)h[o]=e[o];for(var d=o;++c<l;)h[d+c]=t[c];for(;++s<u;)(p||o<a)&&(h[d+n[s]]=e[o++]);return h}var r=Math.max;e.exports=n},function(e,t,n){function r(e,t){return function(n,r){var u=s(n)?i:o,c=t?t():{};return u(n,e,a(r,2),c)}}var i=n(252),o=n(257),a=n(8),s=n(1);e.exports=r},function(e,t,n){function r(e,t,n,b,w,E,T,_,S,I){function A(){for(var p=arguments.length,d=Array(p),m=p;m--;)d[m]=arguments[m];if(O)var y=c(A),v=a(d,y);if(b&&(d=i(d,b,w,O)),E&&(d=o(d,E,T,O)),p-=v,O&&p<I){var g=f(d,y);return u(e,t,r,A.placeholder,n,d,g,_,S,I-p)}var P=C?n:this,D=k?P[e]:e;return p=d.length,_?d=l(d,_):N&&p>1&&d.reverse(),x&&S<p&&(d.length=S),
this&&this!==h&&this instanceof A&&(D=R||s(D)),D.apply(P,d)}var x=t&v,C=t&p,k=t&d,O=t&(m|y),N=t&g,R=k?void 0:s(e);return A}var i=n(144),o=n(145),a=n(296),s=n(61),u=n(148),c=n(155),l=n(342),f=n(103),h=n(6),p=1,d=2,m=8,y=16,v=128,g=512;e.exports=r},function(e,t,n){function r(e,t,n,r,p,d,m,y,v,g){var b=t&l,w=b?m:void 0,E=b?void 0:m,T=b?d:void 0,_=b?void 0:d;t|=b?f:h,t&=~(b?h:f),t&c||(t&=~(s|u));var S=[e,t,p,T,w,_,E,y,v,g],I=n.apply(void 0,S);return i(e)&&o(I,S),I.placeholder=r,a(I,e,t)}var i=n(323),o=n(166),a=n(167),s=1,u=2,c=4,l=8,f=32,h=64;e.exports=r},function(e,t,n){var r=n(20),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){function r(e,t,n,r,c,l){var f=n&s,h=e.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var m=-1,y=!0,v=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++m<h;){var g=e[m],b=t[m];if(r)var w=f?r(b,g,m,t,e,l):r(g,b,m,e,t,l);if(void 0!==w){if(w)continue;y=!1;break}if(v){if(!o(t,function(e,t){if(!a(v,t)&&(g===e||c(g,e,n,r,l)))return v.push(t)})){y=!1;break}}else if(g!==b&&!c(g,b,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y}var i=n(80),o=n(131),a=n(91),s=1,u=2;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){return i(e,a,o)}var i=n(137),o=n(98),a=n(16);e.exports=r},function(e,t,n){function r(e){return i(e,a,o)}var i=n(137),o=n(156),a=n(68);e.exports=r},function(e,t,n){var r=n(161),i=n(180),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t){function n(e){var t=e;return t.placeholder}e.exports=n},function(e,t,n){var r=n(83),i=n(97),o=n(98),a=n(183),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=u},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,f=!1;++r<l;){var h=c(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=l?f:(l=null==e?0:e.length,!!l&&u(l)&&s(h,l)&&(a(e)||o(e)))}var i=n(18),o=n(39),a=n(1),s=n(26),u=n(110),c=n(14);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}var i=n(56),o=n(97),a=n(35);e.exports=r},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(3);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){var r=n(128),i=r&&new r;e.exports=i},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),u=Array(s);++a<s;)u[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(u),i(e,this,c)}}var i=n(32),o=Math.max;e.exports=r},function(e,t,n){function r(e,t){return t.length<2?e:i(e,o(t,0,-1))}var i=n(58),o=n(140);e.exports=r},function(e,t){function n(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},function(e,t,n){var r=n(139),i=n(168),o=i(r);e.exports=o},function(e,t,n){function r(e,t,n){var r=t+"";return a(e,o(r,s(i(r),n)))}var i=n(312),o=n(320),a=n(105),s=n(354);e.exports=r},function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},function(e,t,n){var r=n(336),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){var r=s(e)?i:o;return n&&u(e,t,n)&&(t=void 0),r(e,a(t,3))}var i=n(253),o=n(260),a=n(8),s=n(1),u=n(100);e.exports=r},function(e,t,n){function r(e){var t=null==e?0:e.length;return t?i(e,1):[]}var i=n(57);e.exports=r},function(e,t,n){var r=n(65),i=r("assign",n(357));i.placeholder=n(37),e.exports=i},function(e,t,n){var r=n(65),i=r("merge",n(179));i.placeholder=n(37),e.exports=i},function(e,t,n){var r=n(65),i=r("setWith",n(389));i.placeholder=n(37),e.exports=i},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(263),o=n(157);e.exports=r},function(e,t,n){function r(e){return e===!0||e===!1||o(e)&&i(e)==a}var i=n(9),o=n(5),a="[object Boolean]";e.exports=r},function(e,t,n){function r(e){return"number"==typeof e||o(e)&&i(e)==a}var i=n(9),o=n(5),a="[object Number]";e.exports=r},function(e,t,n){var r=n(87),i=n(94),o=i(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t){function n(){}e.exports=n},function(e,t,n){function r(e,t,n){var r=u(e)?i:s,c=arguments.length<3;return r(e,a(t,4),n,c,o)}var i=n(254),o=n(17),a=n(8),s=n(282),u=n(1);e.exports=r},function(e,t,n){function r(){var e=arguments,t=i(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var i=n(22);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(391);e.exports=r},function(e,t,n){function r(e,t){return null==e||i(e,t)}var i=n(90);e.exports=r},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,g}}function o(e,t){try{return e(t)}catch(e){return v=e,g}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,g}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&m(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new d(t,n,a))})}function c(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void l(e,t)}function l(e,t){y(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):h(t.promise,e._65));var r=o(n,e._65);r===g?h(t.promise,v):f(t.promise,r)})}function f(e,t){if(t===e)return h(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===g)return h(e,v);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void p(e);if("function"==typeof n)return void m(n.bind(t),e)}e._81=1,e._65=t,p(e)}function h(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),p(e)}function p(e){if(1===e._45&&(c(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)c(e,e._54[t]);e._54=null}}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,h(t,e))});n||r!==g||(n=!0,h(t,v))}var y=n(207),v=null,g={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new d(e,t,n)),n}},function(e,t,n){"use strict";e.exports=n(408)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.storageActions=t.queryActions=t.authActions=void 0;var i=n(409),o=r(i),a=n(189),s=r(a),u=n(410),c=r(u);t.authActions=o,t.queryActions=s,t.storageActions=c,t.default={authActions:o,queryActions:s,storageActions:c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.unWatchEvents=t.watchEvents=t.unWatchEvent=t.watchEvent=void 0;var i=n(1),o=r(i),a=n(11),s=n(194),u=t.watchEvent=function(e,t,n){if(!e.database||"function"!=typeof e.database)throw new Error("Firebase database is required to create watchers");var r=n.type,i=n.path,o=n.populates,u=n.queryParams,c=n.queryId,l=n.isQuery,f=n.storeAs,h=e._.config.logErrors,p=f?i+"@"+f:i,d=c||(0,s.getQueryIdFromPath)(i),m=(0,s.getWatcherCount)(e,r,p,d);if(m>0&&d&&(0,s.unsetWatcher)(e,t,r,i,d),(0,s.setWatcher)(e,t,r,p,d),"first_child"===r)return e.database().ref().child(i).orderByKey().limitToFirst(1).once("value").then(function(e){return null===e.val()&&t({type:a.actionTypes.NO_VALUE,path:f||i}),e}).catch(function(e){return t({type:a.actionTypes.ERROR,path:f||i,payload:e}),Promise.reject(e)});var y=e.database().ref().child(i);return l&&(y=(0,s.applyParamsToQuery)(u,y)),t({type:a.actionTypes.START,path:f||i}),"once"===r?y.once("value").then(function(n){return null===n.val()?t({type:a.actionTypes.NO_VALUE,path:f||i}):o?(0,s.populateAndDispatch)(e,t,{path:i,storeAs:f,snapshot:n,data:n.val(),populates:o}):t({type:a.actionTypes.SET,path:f||i,data:n.val(),ordered:(0,s.orderedFromSnapshot)(n)})}).catch(function(e){return t({type:a.actionTypes.UNAUTHORIZED_ERROR,payload:e}),Promise.reject(e)}):void y.on(r,function(n){var u="child_removed"===r?void 0:n.val(),c=f||"value"===r?i:i+"/"+n.key;if(!o){var l="child_added"===r?[{key:n.key,value:n.val()}]:(0,s.orderedFromSnapshot)(n);return t({type:a.actionTypes.SET,path:f||c,data:u,ordered:l})}return(0,s.populateAndDispatch)(e,t,{path:i,storeAs:f,snapshot:n,data:n.val(),populates:o})},function(e){h&&console.log("RRF: Error retrieving data for path: "+i+", storeAs: "+f+". Firebase:",e),t({type:a.actionTypes.ERROR,storeAs:f,path:i,payload:e})})},c=t.unWatchEvent=function(e,t,n){var r=n.type,i=n.path,o=n.storeAs,a=n.queryId,u=o?i+"@"+o:i;(0,s.unsetWatcher)(e,t,r,u,a)},l=t.watchEvents=function(e,t,n){if(!(0,o.default)(n))throw new Error("Events config must be an Array");return n.map(function(n){return u(e,t,n)})},f=t.unWatchEvents=function(e,t,n){return n.forEach(function(n){return c(e,t,n)})},h=t.remove=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.dispatchAction,o=void 0===i||i,s=e._.config.dispatchRemoveAction;return e.database().ref(n).remove().then(function(){return s&&o&&t({type:a.actionTypes.REMOVE,path:n}),n}).catch(function(e){return t({type:a.actionTypes.ERROR,payload:e}),Promise.reject(e)})};t.default={watchEvents:l,unWatchEvents:f,remove:h}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseInstance=void 0;var o=n(3),a=r(o),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(45),c=n(193),l=n(188);t.createFirebaseInstance=function(e,t,n){t.enableLogging&&e.database&&"function"==typeof e.database.enableLogging&&e.database.enableLogging(t.enableLogging);var r={watchers:{},listeners:{},callbacks:{},queries:{},config:t,authUid:null};Object.defineProperty(e,"_",{value:r,writable:!0,enumerable:!0,configurable:!0});var o=function(t,n,r,o){if((0,a.default)(r)){var u="update"===t?"updated":"created",c=s({},r,i({},u+"At",e.database.ServerValue.TIMESTAMP));return e.auth().currentUser&&(c[u+"By"]=e.auth().currentUser.uid),e.database().ref(n)[t](c,o)}return e.database().ref(n)[t](r,o)},f=function(t,n,r){return e.database().ref(t).set(n,r)},h=function(e,t,n){return o("set",e,t,n)},p=function(t,n,r){return e.database().ref(t).push(n,r)},d=function(e,t,n){return o("push",e,t,n)},m=function(t,n,r){return e.database().ref(t).update(n,r)},y=function(e,t,n){return o("update",e,t,n)},v=function(t,r,i){return l.queryActions.remove(e,n,t,i).then(function(){return"function"==typeof r&&r(),t})},g=function(t,n,r){return e.database().ref(t).transaction(function(e){return null===e?n:void 0}).then(function(e){var t=e.committed,n=e.snapshot;if(!t){var i=new Error("Path already exists.");return r&&r(i),Promise.reject(i)}return r&&r(n),n})},b=function(t,r,i,o){return l.storageActions.uploadFile(n,e,{path:t,file:r,dbPath:i,options:o})},w=function(t,r,i,o){return l.storageActions.uploadFiles(n,e,{path:t,files:r,dbPath:i,options:o})},E=function(t,r){return l.storageActions.deleteFile(n,e,{path:t,dbPath:r})},T=function(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.queryActions.watchEvent(e,n,s({type:t,path:r,storeAs:i},o))},_=function(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l.queryActions.unWatchEvent(e,n,s({type:t,path:r,queryId:i},o))},S=function(t,r){var i=(0,u.createCallable)(t),o=i(r,e),a=(0,u.getEventsFromInput)(o);return Promise.all(a.map(function(t){return l.queryActions.watchEvent(e,n,t)}))},I=function(t){return l.authActions.login(n,e,t)},A=function(){return l.authActions.logout(n,e)},x=function(t,r){return l.authActions.createUser(n,e,t,r)},C=function(t){return l.authActions.resetPassword(n,e,t)},k=function(t,r){return l.authActions.confirmPasswordReset(n,e,t,r)},O=function(t){return l.authActions.verifyPasswordResetCode(n,e,t)},N=function(t,r){return l.authActions.updateProfile(n,e,t,r)},R=function(t,r){return l.authActions.updateAuth(n,e,t,r)},P=function(t,r){return l.authActions.updateEmail(n,e,t,r)},D=function(){return l.authActions.reloadAuth(n,e)},L=function(t){return l.authActions.linkWithCredential(n,e,t)},M=(0,c.mapWithFirebaseAndDispatch)(e,n,{signInWithPhoneNumber:l.authActions.signInWithPhoneNumber}),j=s({ref:function(t){return e.database().ref(t)},set:f,setWithMeta:h,uniqueSet:g,push:p,pushWithMeta:d,remove:v,update:m,updateWithMeta:y,login:I,logout:A,updateAuth:R,updateEmail:P,updateProfile:N,uploadFile:b,uploadFiles:w,deleteFile:E,createUser:x,resetPassword:C,confirmPasswordReset:k,verifyPasswordResetCode:O,watchEvent:T,unWatchEvent:_,reloadAuth:D,linkWithCredential:L,promiseEvents:S},M);return s(e,j,{helpers:j})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.populate=t.fixPath=t.isEmpty=t.isLoaded=t.getVal=void 0;var a=n(4),s=r(a),u=n(1),c=r(u),l=n(112),f=r(l),h=n(361),p=r(h),d=n(15),m=r(d),y=n(364),v=r(y),g=n(181),b=r(g),w=n(171),E=r(w),T=n(111),_=r(T),S=n(27),I=r(S),A=n(42),x=r(A),C=n(107),k=r(C),O=n(10),N=r(O),R=n(43),P=r(R),D=n(44),L=r(D),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=n(11),U=n(71),F=n(115),q=(t.getVal=function(e,t,n){if(!e)return n;var r=(0,F.getDotStrPath)(t),i=(0,N.default)(e,r,n);return i},t.isLoaded=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t||!t.length||(0,E.default)(t,function(e){return void 0!==e&&(0,N.default)(e,"isLoaded")!==!1})},t.isEmpty=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,f.default)(t,function(e){return!(e&&(0,L.default)(e))||e.isEmpty===!0})},t.fixPath=function(e){return("/"===e.substring(0,1)?"":"/")+e},function(e,t,n){return(0,_.default)(t,function(t,r){var i=t;(t===!0||n.populateByKey)&&(i=r);var a=(0,p.default)(n.root.split("/")).join("."),s=[a,i];n.childParam&&s.push(n.childParam);var u=s.join(".");return(0,N.default)(e.data,u)?n.keyProp?M(o({},n.keyProp,i),(0,N.default)(e.data,u)):(0,N.default)(e.data,u):t===!0||n.populateByKey?t:i})}),B=function(e,t,n){var r=(0,N.default)(t,n.child);if(!t||!r)return null;if((0,m.default)(r)){var i=(0,p.default)(n.root.split("/")).join("."),a=[i,r];n.childParam&&a.push(n.childParam);var s=a.join("."),u=(0,N.default)(e.data,s);return u?(0,P.default)({},n.childAlias||n.child,n.keyProp?M(o({},n.keyProp,r),u):u):t}return(0,P.default)({},n.childAlias||n.child,q(e,r,n))};t.populate=function(e,t,n,r){var o=(0,p.default)(t.split("/")),a=j.topLevelPaths.indexOf(o[0])===-1?["data"].concat(i(o)):o,u=a.join("."),l=(0,N.default)(e,u,r);if(!e||l===r)return r;if(null===l)return null;var h=(0,U.getPopulateObjs)((0,s.default)(n)?n((0,x.default)(a),l):n);if((0,c.default)(l)){var d=function(e){return function(t){return(0,f.default)(e,function(e){return(0,k.default)(e,t)})}},m=(0,f.default)(h,function(e){return d(l)(["value",e.child])});return m?l.map(function(t){var n=t.key,r=t.value,i=h.map(function(t){return B(e,r,t)}).reduce(function(e,t){return(0,v.default)(t,e)},r);return{key:n,value:i}}):l}var y=(0,f.default)(h,function(e){return(0,k.default)(l,e.child)});return y?h.map(function(t){return B(e,l,t)}).reduce(function(e,t){return(0,v.default)(t,e)},l):a.indexOf("profile")!==-1?l:(0,_.default)(l,function(t,r){var i="ordered"===a[0]?t.key:r,o=(0,U.getPopulateObjs)((0,s.default)(n)?n(i,t):n),u=(0,f.default)(o,function(e){return(0,k.default)(t,e.child)});return u?(0,b.default)((0,I.default)(o,function(n){return B(e,t,n)}),function(e,t){return(0,v.default)(t,e)},t):t})}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(190),s=n(412),u=i(s),c=n(413),l=i(c),f=n(418),h=i(f),p=n(419),d=i(p),m=n(411),y=i(m),v=n(414),g=i(v),b=n(11),w=i(b),E=n(114),T=n(191),_=r(T);t.default=o({firebase:u.default,createFirebaseInstance:a.createFirebaseInstance,firebaseConnect:u.default,createFirebaseConnect:s.createFirebaseConnect,firestoreConnect:l.default,createFirestoreConnect:c.createFirestoreConnect,withFirebase:h.default,createWithFirebase:f.createWithFirebase,withFirestore:d.default,createWithFirestore:p.createWithFirestore,reducer:g.default,firebaseReducer:g.default,firebaseStateReducer:g.default,reduxReactFirebase:y.default,reactReduxFirebase:y.default,reduxFirebase:y.default,constants:w.default,actionTypes:b.actionTypes,getFirebase:m.getFirebase,authIsReady:E.authIsReady,helpers:_},_),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.mapWithFirebaseAndDispatch=t.wrapInDispatch=void 0;var a=n(111),s=r(a),u=n(3),c=r(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=(t.wrapInDispatch=function(e,t){var n=(t.ref,t.meta),r=t.method,i=t.args,a=void 0===i?[]:i,s=t.types,u=f(s,3),l=u[0],h=u[1],p=u[2];return e({type:(0,c.default)(l)?l.type:l,meta:n,payload:(0,c.default)(l)?l.payload:{args:a}}),r.apply(void 0,o(a)).then(function(t){return e({type:(0,c.default)(h)?h.type:h,meta:n,payload:(0,c.default)(h)?h.payload:t}),t}).catch(function(t){return e({type:p,meta:n,payload:t}),Promise.reject(t)})},function(e,t,n){return function(r){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.apply(e,n?[t,e].concat(o):[e,t].concat(o))}}});t.mapWithFirebaseAndDispatch=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=h(e,t);return l({},(0,s.default)(n,o),r.reduce(function(e,t){var n=t.action,r=t.name;return l({},e,i({},r,o(n)))},{}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.populateAndDispatch=t.orderedFromSnapshot=t.applyParamsToQuery=t.unsetWatcher=t.getWatcherCount=t.setWatcher=t.getQueryIdFromPath=t.getWatchPath=void 0;var i=n(15),o=r(i),a=n(44),s=r(a),u=n(64),c=r(u),l=n(377),f=r(l),h=n(11),p=n(71),d=function(e){var t=Number(e);return(0,f.default)(t)?e:t},m=t.getWatchPath=function(e,t){if(!e||""===e||!t)throw new Error("Event and path are required");return e+":"+("/"===t.substring(0,1)?"":"/")+t},y=t.getQueryIdFromPath=function(e,t){if(!(0,o.default)(e))throw new Error("Query path must be a string");var n=e,r=e.split("#");e=r[0];var i=r.length>1,a=i?r[1].split("&"):[],s=i?a.map(function(e){var t=e.split("=");if("queryId"===t[0])return t[1]}).filter(function(e){return e}):void 0;return s&&s.length>0?t?t+":/"+s:s[0]:i?n:void 0},v=(t.setWatcher=function(e,t,n,r,i){var o=i||y(r,n)||m(n,r);return e._.watchers[o]?e._.watchers[o]++:e._.watchers[o]=1,t({type:h.actionTypes.SET_LISTENER,path:r,payload:{id:o}}),e._.watchers[o]},t.getWatcherCount=function(e,t,n,r){var i=r||y(n,t)||m(t,n);return e._.watchers[i]},t.unsetWatcher=function(e,t,n,r,i){var o=i||y(r,n)||m(n,r);r=r.split("#")[0];var a=e._.watchers;a[o]<=1?(delete a[o],"first_child"!==n&&"once"!==n&&e.database().ref().child(r).off(n)):a[o]&&a[o]--,t({type:h.actionTypes.UNSET_LISTENER,path:r,payload:{id:o}})},t.applyParamsToQuery=function(e,t){var n=!1;return e&&e.forEach(function(e){switch(e=e.split("="),e[0]){case"orderByValue":t=t.orderByValue(),n=!0;break;case"orderByPriority":t=t.orderByPriority(),n=!0;break;case"orderByKey":t=t.orderByKey(),n=!0;break;case"orderByChild":t=t.orderByChild(e[1]);break;case"limitToFirst":t=t.limitToFirst(parseInt(e[1],10));break;case"limitToLast":t=t.limitToLast(parseInt(e[1],10));break;case"notParsed":n=!0;break;case"parsed":n=!1;break;case"equalTo":var r=n?e[1]:d(e[1]);r="null"===r?null:r,r="false"!==r&&r,r="true"===r||r,t=3===e.length?t.equalTo(r,e[2]):t.equalTo(r);break;case"startAt":var i=n?e[1]:d(e[1]);i="null"===i?null:i,t=3===e.length?t.startAt(i,e[2]):t.startAt(i);break;case"endAt":var o=n?e[1]:d(e[1]);o="null"===o?null:o,t=3===e.length?t.endAt(o,e[2]):t.endAt(o)}}),t},t.orderedFromSnapshot=function(e){if(e.hasChildren&&!e.hasChildren())return null;var t=[];return e.forEach&&e.forEach(function(e){t.push({key:e.key,value:e.val()})}),(0,s.default)(t)?t:null});t.populateAndDispatch=function(e,t,n){var r=n.data,i=n.populates,o=n.snapshot,a=n.path,s=n.storeAs;return(0,p.promisesForPopulate)(e,o.key,r,i).then(function(e){return(0,c.default)(e,function(e,n){t({type:h.actionTypes.MERGE,path:n,data:e})}),t({type:h.actionTypes.SET,path:s||a,data:r,ordered:v(o)}),e}).catch(function(e){return t({type:h.actionTypes.ERROR,payload:e}),Promise.reject(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function c(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function l(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=r.getDisplayName,h=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,d=r.methodName,v=void 0===d?"connectAdvanced":d,T=r.renderCountProp,_=void 0===T?void 0:T,S=r.shouldHandleStateChanges,I=void 0===S||S,A=r.storeKey,x=void 0===A?"store":A,C=r.withRef,k=void 0!==C&&C,O=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),N=x+"Subscription",R=w++,P=(t={},t[x]=b.storeShape,t[N]=b.subscriptionShape,t),D=(n={},n[N]=b.subscriptionShape,n);return function(t){(0,m.default)("function"==typeof t,"You must pass a component to the function returned by "+(v+". Instead received "+JSON.stringify(t)));var n=t.displayName||t.name||"Component",r=h(n),s=f({},O,{getDisplayName:h,methodName:v,renderCountProp:_,shouldHandleStateChanges:I,storeKey:x,withRef:k,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=function(n){function l(e,t){i(this,l);var a=o(this,n.call(this,e,t));return a.version=R,a.state={},a.renderCount=0,a.store=e[x]||t[x],a.propsMode=Boolean(e[x]),a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,m.default)(a.store,'Could not find "'+x+'" in either the context or props of '+('"'+r+'". Either wrap the root component in a <Provider>, ')+('or explicitly pass "'+x+'" as a prop to "'+r+'".')),a.initSelector(),a.initSubscription(),a}return a(l,n),l.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[N]=t||this.context[N],e},l.prototype.componentDidMount=function(){I&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},l.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},l.prototype.getWrappedInstance=function(){return(0,m.default)(k,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+v+"() call.")),this.wrappedInstance},l.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},l.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=c(t,this.store),this.selector.run(this.props)},l.prototype.initSubscription=function(){if(I){var e=(this.propsMode?this.props:this.context)[N];this.subscription=new g.default(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(E)):this.notifyNestedSubs()},l.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.prototype.addExtraProps=function(e){if(!(k||_||this.propsMode&&this.subscription))return e;var t=f({},e);return k&&(t.ref=this.setWrappedInstance),_&&(t[_]=this.renderCount++),this.propsMode&&this.subscription&&(t[N]=this.subscription),t},l.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,y.createElement)(t,this.addExtraProps(e.props))},l}(y.Component);return l.WrappedComponent=t,l.displayName=r,l.childContextTypes=D,l.contextTypes=P,l.propTypes=P,(0,p.default)(l,t)}}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=l;var h=n(429),p=r(h),d=n(247),m=r(d),y=n(2),v=n(427),g=r(v),b=n(197),w=0,E={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function a(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=o,t.wrapMapToPropsFunc=a;var s=n(198);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=void 0;var i=n(13),o=r(i);t.subscriptionShape=o.default.shape({trySubscribe:o.default.func.isRequired,tryUnsubscribe:o.default.func.isRequired,notifyNestedSubs:o.default.func.isRequired,isSubscribed:o.default.func.isRequired}),t.storeShape=o.default.shape({subscribe:o.default.func.isRequired,dispatch:o.default.func.isRequired,getState:o.default.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,a.default)(e)||(0,u.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t.default=i;var o=n(66),a=r(o),s=n(116),u=r(s)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.firestoreActions=t.default=void 0;var i=r(n(438));t.firestoreActions=i;var o={firestoreActions:i};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){var r={listeners:{},config:i({},f.defaultConfig,t)};e._=(0,s.default)(r,e._);var a=[{action:c.firestoreActions.deleteRef,name:"delete"},{action:c.firestoreActions.setListener,name:"onSnapshot"}],h=(0,l.mapWithFirebaseAndDispatch)(e,n,c.firestoreActions,a),p=(0,u.default)(f.methodsToAddFromFirestore,function(t,n){return e.firestore&&"function"==typeof e.firestore()[n]?i({},t,o({},n,e.firestore()[n].bind(e.firestore()))):t},{});return Object.assign(p,e.firestore,{_:e._},t.helpersNamespace?o({},t.helpersNamespace,h):h)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=r(n(174)),u=r(n(181)),c=n(199),l=n(202),f=n(7)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"enhancer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"reduxFirestore",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getFirestore",{enumerable:!0,get:function(){return o.getFirestore}}),Object.defineProperty(t,"reducer",{enumerable:!0,
get:function(){return a.default}}),Object.defineProperty(t,"firestoreReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"actions",{enumerable:!0,get:function(){return s.firestoreActions}}),Object.defineProperty(t,"createFirestoreInstance",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"constants",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"actionTypes",{enumerable:!0,get:function(){return c.actionTypes}}),Object.defineProperty(t,"middleware",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"CALL_FIRESTORE",{enumerable:!0,get:function(){return l.CALL_FIRESTORE}}),t.default=t.version=void 0;var o=i(n(439)),a=r(n(441)),s=n(199),u=r(n(200)),c=i(n(7)),l=i(n(440)),f="0.8.0";t.version=f;var h={version:f,reducer:a.default,firestoreReducer:a.default,enhancer:o.default,reduxFirestore:o.default,createFirestoreInstance:u.default,actions:s.firestoreActions,getFirestore:o.getFirestore,constants:c.default,actionTypes:c.actionTypes,middleware:l.default,CALL_FIRESTORE:l.CALL_FIRESTORE};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return c(e)||u(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function l(e,t){return p(e)||h(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function p(e){if(Array.isArray(e))return e}function d(e,t){var n=e.payload;return(0,b.default)(n)?n(t):n}function m(e,t){var n=t.ref,r=t.meta,i=void 0===r?{}:r,o=t.method,s=t.args,u=void 0===s?[]:s,c=t.types,f=l(c,3),h=f[0],p=f[1],m=f[2];return e({type:(0,w.default)(h)?h.type:h,meta:i,payload:(0,w.default)(h)?h.payload:{args:u}}),n[o].apply(n,a(u)).then(function(t){var n=(0,w.default)(p),r={type:n?p.type:p,meta:i,payload:n&&p.payload?d(p,t):{args:u}};return n&&p.preserve&&(r.preserve=p.preserve),n&&p.merge&&(r.merge=p.merge),e(r),t}).catch(function(t){return e({type:m,meta:i,payload:t}),Promise.reject(t)})}function y(e,t){return function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(e,[e,t].concat(i))}}}function v(e,t,n,r){var a=y(e,t);return i({},(0,g.default)(n,a),r.reduce(function(e,t){var n=t.action,r=t.name;return i({},e,o({},r,a(n)))},{}))}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapInDispatch=m,t.mapWithFirebaseAndDispatch=v;var g=r(n(111)),b=r(n(4)),w=r(n(3))},function(e,t,n){(function(e){(function(){function t(e,t){if(t){var n=Ju;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&null!=t&&$u(n,e,{configurable:!0,writable:!0,value:t})}}function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}function o(e){return"string"==typeof e}function a(e){return"boolean"==typeof e}function s(){}function u(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function c(e){return null===e}function l(e){return"array"==u(e)}function f(e){var t=u(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){return"function"==u(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function d(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:m,y.apply(null,arguments)}function v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function g(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.cd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function b(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function w(e){if(Error.captureStackTrace)Error.captureStackTrace(this,w);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function E(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");w.call(this,n+e[r])}function T(e,t){throw new E("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function _(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function S(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function I(){this.b=this.a=null}function A(){var e=Mc,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function x(){this.next=this.b=this.a=null}function C(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||ec,r.Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(p(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;T("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function k(e,t){for(var n=o(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}function O(e){e:{for(var t=li,n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:o(e)?e.charAt(t):e[t]}function N(e,t){return 0<=sc(e,t)}function R(e,t){t=sc(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function P(e,t){var n=0;k(e,function(r,i){t.call(void 0,r,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&n++})}function D(e){return Array.prototype.concat.apply([],arguments)}function L(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function M(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function j(e){for(var t in e)return!1;return!0}function U(e){var t,n={};for(t in e)n[t]=e[t];return n}function F(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<fc.length;o++)n=fc[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e,t){this.a=e===pc&&t||"",this.b=hc}function B(e){return e instanceof q&&e.constructor===q&&e.b===hc?e.a:(T("expected object of type Const, got '"+e+"'"),"type_error:Const")}function V(){this.a="",this.b=vc}function W(e){return e instanceof V&&e.constructor===V&&e.b===vc?e.a:(T("expected object of type TrustedResourceUrl, got '"+e+"' of type "+u(e)),"type_error:TrustedResourceUrl")}function z(e,t){var n=B(e);if(!yc.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(mc,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof q?B(e):encodeURIComponent(String(e))}),H(e)}function H(e){var t=new V;return t.a=e,t}function K(e,t){return-1!=e.indexOf(t)}function G(e,t){return e<t?-1:e>t?1:0}function Q(){this.a="",this.b=xc}function Y(e){return e instanceof Q&&e.constructor===Q&&e.b===xc?e.a:(T("expected object of type SafeUrl, got '"+e+"' of type "+u(e)),"type_error:SafeUrl")}function X(e){return e instanceof Q?e:(e="object"==typeof e&&e.na?e.ma():String(e),Ac.test(e)||(e="about:invalid#zClosurez"),$(e))}function $(e){var t=new Q;return t.a=e,t}function J(e){return K(Cc,e)}function Z(){this.a="",this.b=Nc}function ee(e){return e instanceof Z&&e.constructor===Z&&e.b===Nc?e.a:(T("expected object of type SafeHtml, got '"+e+"' of type "+u(e)),"type_error:SafeHtml")}function te(e){var t=new Z;return t.a=e,t}function ne(e){var t=H(B(dc));C(e,"HTMLIFrameElement"),e.src=W(t).toString()}function re(e,t){C(e,"HTMLScriptElement"),e.src=W(t),null===nc&&(t=ec.document,nc=(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&tc.test(t)?t:""),t=nc,t&&e.setAttribute("nonce",t)}function ie(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function oe(e){return Ic.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(bc,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(wc,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Ec,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(Tc,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(_c,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Sc,"&#0;"))),e}function ae(e){ec.setTimeout(function(){throw e},0)}function se(){var e=ec.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!J("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",ne(e),document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(ee(Rc)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=y(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!=typeof e&&!J("Trident")&&!J("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){ec.setTimeout(e,0)}}function ue(e,t){Dc||ce(),Lc||(Dc(),Lc=!0),Mc.add(e,t)}function ce(){if(ec.Promise&&ec.Promise.resolve){var e=ec.Promise.resolve(void 0);Dc=function(){e.then(le)}}else Dc=function(){var e=le;!h(ec.setImmediate)||ec.Window&&ec.Window.prototype&&!J("Edge")&&ec.Window.prototype.setImmediate==ec.setImmediate?(Pc||(Pc=se()),Pc(e)):ec.setImmediate(e)}}function le(){for(var e;e=A();){try{e.a.call(e.b)}catch(e){ae(e)}S(ac,e)}Lc=!1}function fe(e,t){if(this.a=jc,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=s)try{var n=this;e.call(t,function(e){Te(n,Uc,e)},function(e){if(!(e instanceof Oe))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Te(n,Fc,e)})}catch(e){Te(this,Fc,e)}}function he(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function pe(e,t,n){var r=qc.get();return r.g=e,r.b=t,r.f=n,r}function de(e){if(e instanceof fe)return e;var t=new fe(s);return Te(t,Uc,e),t}function me(e){return new fe(function(t,n){n(e)})}function ye(e,t,n){_e(e,t,n,null)||ue(v(t,e))}function ve(e){return new fe(function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],ye(o,v(a,u),s);else t(i)})}function ge(e){return new fe(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],ye(i,v(o,a,!0),v(o,a,!1));else t(r)})}function be(e,t){if(e.a==jc)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==jc&&1==r?be(n,t):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Ae(n),xe(n,i,Fc,t)))}e.c=null}else Te(e,Fc,t)}function we(e,t){e.b||e.a!=Uc&&e.a!=Fc||Ie(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ee(e,t,n,r){var i=pe(null,null,null);return i.a=new fe(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Oe?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,we(e,i),i.a}function Te(e,t,n){e.a==jc&&(e===n&&(t=Fc,n=new TypeError("Promise cannot resolve to itself")),e.a=1,_e(n,e.Lc,e.Mc,e)||(e.i=n,e.a=t,e.c=null,Ie(e),t!=Fc||n instanceof Oe||ke(e,n)))}function _e(e,t,n,r){if(e instanceof fe)return we(e,pe(t||s,n||null,r)),!0;if(b(e))return e.then(t,n,r),!0;if(p(e))try{var i=e.then;if(h(i))return Se(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Se(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}function Ie(e){e.h||(e.h=!0,ue(e.Wb,e))}function Ae(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function xe(e,t,n,r){if(n==Fc&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ce(t,n,r);else try{t.c?t.g.call(t.f):Ce(t,n,r)}catch(e){Bc.call(null,e)}S(qc,t)}function Ce(e,t,n){t==Uc?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function ke(e,t){e.g=!0,ue(function(){e.g&&Bc.call(null,t)})}function Oe(e){w.call(this,e)}function Ne(){0!=Vc&&(Wc[this[rc]||(this[rc]=++ic)]=this),this.qa=this.qa,this.ja=this.ja}function Re(e){if(!e.qa&&(e.qa=!0,e.va(),0!=Vc)){var t=e[rc]||(e[rc]=++ic);if(0!=Vc&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wc[t]}}function Pe(e){return Pe[" "](e),e}function De(e,t){var n=tl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function Le(){var e=ec.document;return e?e.documentMode:void 0}function Me(e){return De(e,function(){for(var t=0,n=gc(String(zc)).split("."),r=gc(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=G(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||G(0==a[2].length,0==s[2].length)||G(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function je(e,t){this.type=e,this.b=this.target=t,this.Kb=!0}function Ue(e,t){if(je.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Yc){e:{try{Pe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=o(e.pointerType)?e.pointerType:al[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}function Fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++ul,this.oa=this.Ia=!1}function qe(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function Be(e){this.src=e,this.a={},this.b=0}function Ve(e,t){var n=t.type;n in e.a&&R(e.a[n],t)&&(qe(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function We(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.oa&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}function ze(e,t,n,r,i){if(r&&r.once)Ge(e,t,n,r,i);else if(l(t))for(var o=0;o<t.length;o++)ze(e,t[o],n,r,i);else n=tt(n),e&&e[sl]?rt(e,t,n,p(r)?!!r.capture:!!r,i):He(e,t,n,!1,r,i)}function He(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=et(e);if(s||(e[cl]=s=new Be(e)),n=s.add(t,n,r,a,o),!n.proxy){if(r=Ke(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ol||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}fl++}}function Ke(){var e=Ze,t=rl?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Ge(e,t,n,r,i){if(l(t))for(var o=0;o<t.length;o++)Ge(e,t[o],n,r,i);else n=tt(n),e&&e[sl]?it(e,t,n,p(r)?!!r.capture:!!r,i):He(e,t,n,!0,r,i)}function Qe(e,t,n,r,i){if(l(t))for(var o=0;o<t.length;o++)Qe(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=tt(n),e&&e[sl]?(e=e.m,t=String(t).toString(),t in e.a&&(o=e.a[t],n=We(o,n,r,i),-1<n&&(qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=et(e))&&(t=e.a[t.toString()],e=-1,t&&(e=We(t,n,r,i)),(n=-1<e?t[e]:null)&&Ye(n))}function Ye(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[sl])Ve(t.m,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),fl--,(n=et(t))?(Ve(n,e),0==n.b&&(n.src=null,t[cl]=null)):qe(e)}}}function Xe(e){return e in ll?ll[e]:ll[e]="on"+e}function $e(e,t,n,r){var i=!0;if((e=et(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.oa&&(o=Je(o,r),i=i&&!1!==o)}return i}function Je(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Ye(e),n.call(r,t)}function Ze(e,t){if(e.oa)return!0;if(!rl){if(!t)e:{t=["window","event"];for(var n=ec,r=0;r<t.length;r++)if(n=n[t[r]],null==n){t=null;break e}t=n}if(r=t,t=new Ue(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=$e(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=$e(r[i],e,!1,t),n=n&&o}return n}return Je(e,new Ue(t,this))}function et(e){return e=e[cl],e instanceof Be?e:null}function tt(e){return h(e)?e:(e[hl]||(e[hl]=function(t){return e.handleEvent(t)}),e[hl])}function nt(){Ne.call(this),this.m=new Be(this),this.Pb=this,this.Wa=null}function rt(e,t,n,r,i){e.m.add(String(t),n,!1,r,i)}function it(e,t,n,r,i){e.m.add(String(t),n,!0,r,i)}function ot(e,t,n,r){if(t=e.m.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Ve(e.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Kb}function at(e,t,n){if(h(e))n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:ec.setTimeout(e,t||0)}function st(e){var t=null;return new fe(function(n,r){t=at(function(){n(void 0)},e),-1==t&&r(Error("Failed to schedule timer."))}).s(function(e){throw ec.clearTimeout(t),e})}function ut(e){if(e.S&&"function"==typeof e.S)return e.S();if(o(e))return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ct(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(f(e)||o(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(var r in e)t[n++]=r;return t}}function lt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||o(e))uc(e,t,void 0);else for(var n=ct(e),r=ut(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}function ft(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ft)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ht(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];pt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],pt(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function mt(e,t){this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1;var n;e instanceof mt?(this.h=void 0!==t?t:e.h,yt(this,e.f),this.i=e.i,this.b=e.b,vt(this,e.m),this.c=e.c,gt(this,Rt(e.a)),this.g=e.g):e&&(n=String(e).match(pl))?(this.h=!!t,yt(this,n[1]||"",!0),this.i=_t(n[2]||""),this.b=_t(n[3]||"",!0),vt(this,n[4]),this.c=_t(n[5]||"",!0),gt(this,n[6]||"",!0),this.g=_t(n[7]||"")):(this.h=!!t,this.a=new At(null,this.h))}function yt(e,t,n){e.f=n?_t(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gt(e,t,n){t instanceof At?(e.a=t,Dt(e.a,e.h)):(n||(t=St(t,vl)),e.a=new At(t,e.h))}function bt(e,t,n){e.a.set(t,n)}function wt(e,t){return e.a.get(t)}function Et(e){return e instanceof mt?new mt(e):new mt(e,void 0)}function Tt(e,t){var n=new mt(null,void 0);return yt(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function St(e,t,n){return o(e)?(e=encodeURI(e).replace(t,It),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function It(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function At(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function xt(e){e.a||(e.a=new ft,e.b=0,e.c&&dt(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e){var t=ct(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new At(null,void 0);e=ut(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];l(o)?Nt(n,i,o):n.add(i,o)}return n}function kt(e,t){xt(e),t=Pt(e,t),pt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,pt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ht(e)))}function Ot(e,t){return xt(e),t=Pt(e,t),pt(e.a.b,t)}function Nt(e,t,n){kt(e,t),0<n.length&&(e.c=null,e.a.set(Pt(e,t),L(n)),e.b+=n.length)}function Rt(e){var t=new At;return t.c=e.c,e.a&&(t.a=new ft(e.a),t.b=e.b),t}function Pt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Dt(e,t){t&&!e.f&&(xt(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),Nt(this,n,e))},e)),e.f=t}function Lt(e){var t=document;return o(e)?t.getElementById(e):e}function Mt(e,t){M(t,function(t,n){t&&"object"==typeof t&&t.na&&(t=t.ma()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:wl.hasOwnProperty(n)?e.setAttribute(wl[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function jt(e,t,n){var r=arguments,i=document,a=String(r[0]),s=r[1];if(!bl&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',oe(s.name),'"'),s.type){a.push(' type="',oe(s.type),'"');var u={};F(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=i.createElement(a),s&&(o(s)?a.className=s:l(s)?a.className=s.join(" "):Mt(a,s)),2<r.length&&Ut(i,a,r),a}function Ut(e,t,n){function r(n){n&&t.appendChild(o(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!f(a)||p(a)&&0<a.nodeType?r(a):uc(Ft(a)?L(a):a,r)}}function Ft(e){if(e&&"number"==typeof e.length){if(p(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1}function qt(e){var t=[];return Vt(new Bt,e,t),t.join("")}function Bt(){}function Vt(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(l(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),Vt(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),i="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o=t[r],"function"!=typeof o&&(n.push(i),Wt(r,n),n.push(":"),Vt(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Wt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function Wt(e,t){t.push('"',e.replace(Tl,function(e){var t=El[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),El[e]=t),t}),'"')}function zt(){var e=ln();return Kc&&!!el&&11==el||/Edge\/\d+/.test(e)}function Ht(){return ec.window&&ec.window.location.href||self&&self.location&&self.location.href||""}function Kt(e,t){t=t||ec.window;var n="about:blank";e&&(n=Y(X(e)).toString()),t.location.href=n}function Gt(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Gt(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function Qt(){var e=ln();return e=un(e)!=Al?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null,!(e&&30>e)&&(!Kc||!el||9<el)}function Yt(e){return e=(e||ln()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Xt(e){e=e||ec.window;try{e.close()}catch(e){}}function $t(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ln().toLowerCase(),r&&(t.target=r,K(n,"crios/")&&(t.target="_blank")),un(ln())==Il&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Q?n:X("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((J("iPhone")&&!J("iPod")&&!J("iPad")||J("iPad")||J("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),C(a,"HTMLAnchorElement"),t instanceof Q||t instanceof Q||(t="object"==typeof t&&t.na?t.ma():String(t),Ac.test(t)||(t="about:invalid#zClosurez"),t=$(t)),a.href=Y(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Y(t).toString(),a&&(Qc&&K(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=te('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+oe(e)+'">'),a.document.write(ee(e)),a.document.close())):(a=r.open(Y(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}function Jt(e){return new fe(function(t){function n(){st(2e3).then(function(){return e&&!e.closed?n():void t()})}return n()})}function Zt(){var e=null;return new fe(function(t){"complete"==ec.document.readyState?t():(e=function(){t()},Ge(window,"load",e))}).s(function(t){throw Qe(window,"load",e),t})}function en(){return tn(void 0)?Zt().then(function(){return new fe(function(e,t){var n=ec.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):me(Error("Cordova must run in an Android or iOS file scheme."))}function tn(e){return e=e||ln(),!("file:"!==mn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nn(){var e=ec.window;try{return!(!e||e==e.top)}catch(e){return!1}}function rn(){return"undefined"!=typeof ec.WorkerGlobalScope&&"function"==typeof ec.importScripts}function on(){return Xu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Xu.INTERNAL.hasOwnProperty("node")?"Node":rn()?"Worker":"Browser"}function an(){var e=on();return"ReactNative"===e||"Node"===e}function sn(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function un(e){var t=e.toLowerCase();return K(t,"opera/")||K(t,"opr/")||K(t,"opios/")?"Opera":K(t,"iemobile")?"IEMobile":K(t,"msie")||K(t,"trident/")?"IE":K(t,"edge/")?"Edge":K(t,"firefox/")?Il:K(t,"silk/")?"Silk":K(t,"blackberry")?"Blackberry":K(t,"webos")?"Webos":!K(t,"safari/")||K(t,"chrome/")||K(t,"crios/")||K(t,"android")?!K(t,"chrome/")&&!K(t,"crios/")||K(t,"edge/")?K(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Al:"Safari"}function cn(e,t){t=t||[];var n,r=[],i={};for(n in xl)i[xl[n]]=!0;for(n=0;n<t.length;n++)"undefined"!=typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),t=r,t.length||(t=["FirebaseCore-web"]),r=on(),"Browser"===r?(i=ln(),r=un(i)):"Worker"===r&&(i=ln(),r=un(i)+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function ln(){return ec.navigator&&ec.navigator.userAgent||""}function fn(e,t){e=e.split("."),t=t||ec;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function hn(){try{var e=ec.localStorage,t=wn();if(e)return e.setItem(t,"1"),e.removeItem(t),!zt()||!!ec.indexedDB}catch(e){return rn()&&!!ec.indexedDB}return!1}function pn(){return(dn()||"chrome-extension:"===mn()||tn())&&!an()&&hn()&&!rn()}function dn(){return"http:"===mn()||"https:"===mn()}function mn(){return ec.location&&ec.location.protocol||null}function yn(e){return e=e||ln(),!Yt(e)&&un(e)!=Il}function vn(e){return"undefined"==typeof e?null:qt(e)}function gn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function bn(e){if(null!==e)return JSON.parse(e)}function wn(e){return e?e:Math.floor(1e9*Math.random()).toString()}function En(e){return e=e||ln(),"Safari"!=un(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Tn(){var e=ec.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function _n(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=ln(),t=on(),this.b=Yt(e)||"ReactNative"===t}function Sn(){var e=ec.document;return!e||"undefined"==typeof e.visibilityState||"visible"==e.visibilityState}function In(){var e=ec.document,t=null;
return Sn()||!e?de():new fe(function(n){t=function(){Sn()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function An(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function xn(){return!(!fn("fireauth.oauthhelper",ec)&&!fn("fireauth.iframe",ec))}function Cn(){var e=ec.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}function kn(){var e=ec.navigator;return e&&e.serviceWorker?de().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):de(null)}function On(e){kl[e]||(kl[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}function Nn(e,t,n){Cl?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Rn(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Nn(e,n,t[n])}function Pn(e){var t={};return Rn(t,e),t}function Dn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ln(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Mn(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)Nn(t,n,Mn(e[n]))}return t}function jn(e){var t={},n=e[Rl],r=e[Pl];if(e=e[Dl],!e||e!=Nl&&!n)throw Error("Invalid provider user info!");t[Ml]=r||null,t[Ll]=n||null,Nn(this,Ul,e),Nn(this,jl,Mn(t))}function Un(e,t){this.code=Fl+e,this.message=t||ql[e]||""}function Fn(e){var t=e&&e.code;return t?new Un(t.substring(Fl.length),e.message):null}function qn(e){var t=e[Hl];if("undefined"==typeof t)throw new Un("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Un("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Bl];if(n&&"object"==typeof n){t=n[Ql];var r=n[Kl];if(n=n[Gl],"string"==typeof t&&t.length){if(this.a=t,"undefined"!=typeof r&&"boolean"!=typeof r)throw new Un("argument-error",Kl+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Un("argument-error",Gl+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!=typeof t)throw new Un("argument-error",Ql+" property must be a non empty string when specified.");if("undefined"!=typeof r||"undefined"!=typeof n)throw new Un("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new Un("argument-error",Bl+" property must be a non null object when specified.");if(this.f=null,(t=e[zl])&&"object"==typeof t){if(t=t[Yl],"string"==typeof t&&t.length)this.f=t;else if("undefined"!=typeof t)throw new Un("argument-error",Yl+" property must be a non empty string when specified.")}else if("undefined"!=typeof t)throw new Un("argument-error",zl+" property must be a non null object when specified.");if(t=e[Wl],"undefined"!=typeof t&&"boolean"!=typeof t)throw new Un("argument-error",Wl+" property must be a boolean when specified.");if(this.c=!!t,e=e[Vl],"undefined"!=typeof e&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Un("argument-error",Vl+" property must be a non empty string when specified.");this.i=e||null}function Bn(e){var t={};t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i;for(var n in t)null===t[n]&&delete t[n];return t}function Vn(e){return cc(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function Wn(e){var t="";return zn(e,function(e){t+=String.fromCharCode(e)}),t}function zn(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=$l[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Hn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function Hn(){if(!Xl){Xl={},$l={};for(var e=0;65>e;e++)Xl[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),$l[Xl[e]]=e,62<=e&&($l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function Kn(e){this.c=e.sub,oc(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Gn(e){return(e=Qn(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Kn(e):null}function Qn(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Wn(e))}catch(e){}return null}function Yn(e){for(var t in Zl)if(Zl[t].id===e)return e=Zl[t],{firebaseEndpoint:e.bb,secureTokenEndpoint:e.jb};return null}function Xn(e){for(var t in nf)if(nf[t].Pa==e)return nf[t];return null}function $n(e){var t={};t["facebook.com"]=er,t["google.com"]=nr,t["github.com"]=tr,t["twitter.com"]=rr;var n=e&&e[of];try{if(n)return t[n]?new t[n](e):new Zn(e);if("undefined"!=typeof e[rf])return new Jn(e)}catch(e){}return null}function Jn(e){var t=e[of];if(!t&&e[rf]){var n=Gn(e[rf]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!=typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Nn(this,"providerId",t),Nn(this,"isNewUser",n)}function Zn(e){Jn.call(this,e),e=bn(e.rawUserInfo||"{}"),Nn(this,"profile",Mn(e||{}))}function er(e){if(Zn.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function tr(e){if(Zn.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Nn(this,"username",this.profile&&this.profile.login||null)}function nr(e){if(Zn.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function rr(e){if(Zn.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Nn(this,"username",e.screenName||null)}function ir(e){this.a=Et(e)}function or(e){var t=Et(e),n=wt(t,"link"),r=wt(Et(n),"link");return t=wt(t,"deep_link_id"),wt(Et(t),"link")||t||r||n||e}function ar(){}function sr(e,t){return e.then(function(e){if(e[_f]){var n=Gn(e[_f]);if(!n||t!=n.c)throw new Un("user-mismatch");return e}throw new Un("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==Fl+"user-not-found"?new Un("user-mismatch"):e})}function ur(e,t){if(!t)throw new Un("internal-error","failed to construct a credential");this.a=t,Nn(this,"providerId",e),Nn(this,"signInMethod",e)}function cr(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function lr(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ur(e.providerId,e.pendingToken)}catch(e){}return null}function fr(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Nn(this,"idToken",t.idToken),t.accessToken&&Nn(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Nn(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Un("internal-error","failed to construct a credential");Nn(this,"accessToken",t.oauthToken),Nn(this,"secret",t.oauthTokenSecret)}Nn(this,"providerId",e),Nn(this,"signInMethod",n)}function hr(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Ct(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function pr(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fr(e.providerId,t,e.signInMethod)}catch(e){}}return null}function dr(e,t){this.Cc=t||[],Rn(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Xn(e)||{}).Oa||null,this.ab=null}function mr(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Un("argument-error",'SAML provider IDs must be prefixed with "saml."');dr.call(this,e,[])}function yr(e){dr.call(this,e,tf),this.a=[]}function vr(){yr.call(this,"facebook.com")}function gr(e){if(!e)throw new Un("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new vr).credential({accessToken:t})}function br(){yr.call(this,"github.com")}function wr(e){if(!e)throw new Un("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new br).credential({accessToken:t})}function Er(){yr.call(this,"google.com"),this.ua("profile")}function Tr(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new Er).credential({idToken:n,accessToken:t})}function _r(){dr.call(this,"twitter.com",ef)}function Sr(e,t){var n=e;if(p(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Un("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fr("twitter.com",n,"twitter.com")}function Ir(e,t,n){this.a=e,this.c=t,Nn(this,"providerId","password"),Nn(this,"signInMethod",n===xr.EMAIL_LINK_SIGN_IN_METHOD?xr.EMAIL_LINK_SIGN_IN_METHOD:xr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ar(e){return e&&e.email&&e.password?new Ir(e.email,e.password,e.signInMethod):null}function xr(){Rn(this,{providerId:"password",isOAuthProvider:!1})}function Cr(e,t){if(t=kr(t),!t)throw new Un("argument-error","Invalid email link!");return new Ir(e,t,xr.EMAIL_LINK_SIGN_IN_METHOD)}function kr(e){e=or(e),e=new ir(e);var t=wt(e.a,"oobCode")||null;return"signIn"===(wt(e.a,"mode")||null)&&t?t:null}function Or(e){if(!(e.Ua&&e.Ta||e.Fa&&e.$))throw new Un("internal-error");this.a=e,Nn(this,"providerId","phone"),Nn(this,"signInMethod","phone")}function Nr(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return uc(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Or(t)}return null}function Rr(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function Pr(e){try{this.a=e||Xu.auth()}catch(e){throw new Un("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Rn(this,{providerId:"phone",isOAuthProvider:!1})}function Dr(e,t){if(!e)throw new Un("missing-verification-id");if(!t)throw new Un("missing-verification-code");return new Or({Ua:e,Ta:t})}function Lr(e){if(e.temporaryProof&&e.phoneNumber)return new Or({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Tr(o,n);case"facebook.com":return gr(n);case"github.com":return wr(n);case"twitter.com":return Sr(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ur(t,a):new fr(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new yr(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Mr(e){if(!e.isOAuthProvider)throw new Un("invalid-oauth-provider")}function jr(e,t,n,r,i,o){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Un("invalid-auth-event");if(this.g&&this.a)throw new Un("invalid-auth-event");if(this.g&&!this.f)throw new Un("invalid-auth-event")}function Ur(e){return e=e||{},e.type?new jr(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Fn(e.error),e.postBody):null}function Fr(){this.b=null,this.a=[]}function qr(e){var t="unauthorized-domain",n=void 0,r=Et(e);e=r.b,r=r.f,"chrome-extension"==r?n=ie("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ie("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Un.call(this,t,n)}function Br(e,t,n){Un.call(this,e,n),e=t||{},e.Ab&&Nn(this,"email",e.Ab),e.$&&Nn(this,"phoneNumber",e.$),e.credential&&Nn(this,"credential",e.credential)}function Vr(e){if(e.code){var t=e.code||"";0==t.indexOf(Fl)&&(t=t.substring(Fl.length));var n={credential:Lr(e)};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new Un(t,e.message||void 0);return new Br(t,n,e.message)}return null}function Wr(){}function zr(e){return e.c||(e.c=e.b())}function Hr(){}function Kr(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Gr(){}function Qr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=y(this.cc,this),this.a.onerror=y(this.Gb,this),this.a.onprogress=y(this.dc,this),this.a.ontimeout=y(this.hc,this)}function Yr(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Xr(e,t,n){this.reset(e,t,n,void 0,void 0)}function $r(e){this.f=e,this.b=this.c=this.a=null}function Jr(e,t){this.name=e,this.value=t}function Zr(e){return e.c?e.c:e.a?Zr(e.a):(T("Root logger has no level set."),null)}function ei(e){df||(df=new $r(""),pf[""]=df,df.c=ff);var t;if(!(t=pf[e])){t=new $r(e);var n=e.lastIndexOf("."),r=e.substr(n+1);n=ei(e.substr(0,n)),n.b||(n.b={}),n.b[r]=t,t.a=n,pf[e]=t}return t}function ti(e,t){e&&e.log(hf,t,void 0)}function ni(e){this.f=e}function ri(e){nt.call(this),this.u=e,this.readyState=mf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=ei("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}function ii(e){e.c.read().then(e.bc.bind(e)).catch(e.Ma.bind(e))}function oi(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,ai(e)}function ai(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function si(e){nt.call(this),this.headers=new ft,this.D=e||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=yf,this.v=this.O=!1}function ui(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.N=n,e.G=!1,e.c=!0,e.a=e.D?e.D.a():sf.a(),e.A=zr(e.D?e.D:sf),e.a.onreadystatechange=y(e.Jb,e);try{ti(e.b,bi(e,"Opening Xhr")),e.I=!0,e.a.open(n,String(t),!0),e.I=!1}catch(t){return ti(e.b,bi(e,"Error opening Xhr: "+t.message)),void fi(e,t)}t=r||"";var o=new ft(e.headers);i&&lt(i,function(e,t){o.set(t,e)}),i=O(o.U()),r=ec.FormData&&t instanceof ec.FormData,!N(gf,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{mi(e),0<e.g&&(e.v=ci(e.a),ti(e.b,bi(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=y(e.Ga,e)):e.u=at(e.Ga,e.g,e)),ti(e.b,bi(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ti(e.b,bi(e,"Send error: "+t.message)),fi(e,t)}}function ci(e){return Kc&&Me(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function li(e){return"content-type"==e.toLowerCase()}function fi(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,hi(e),di(e)}function hi(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function pi(e){if(e.c&&"undefined"!=typeof Zu)if(e.A[1]&&4==yi(e)&&2==vi(e))ti(e.b,bi(e,"Local request error detected and ignored"));else if(e.i&&4==yi(e))at(e.Jb,0,e);else if(e.dispatchEvent("readystatechange"),4==yi(e)){ti(e.b,bi(e,"Request complete")),e.c=!1;try{var t=vi(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.l).match(pl)[1]||null;if(!o&&ec.self&&ec.self.location){var a=ec.self.location.protocol;o=a.substr(0,a.length-1)}i=!vf.test(o?o.toLowerCase():"")}r=i}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<yi(e)?e.a.statusText:""}catch(t){ti(e.b,"Can not get status: "+t.message),s=""}e.h=s+" ["+vi(e)+"]",hi(e)}}finally{di(e)}}}function di(e,t){if(e.a){mi(e);var n=e.a,r=e.A[0]?s:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(cf,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function mi(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(ec.clearTimeout(e.u),e.u=null)}function yi(e){return e.a?e.a.readyState:0}function vi(e){try{return 2<yi(e)?e.a.status:-1}catch(e){return-1}}function gi(e){try{return e.a?e.a.responseText:""}catch(t){return ti(e.b,"Can not get responseText: "+t.message),""}}function bi(e,t){return t+" ["+e.N+" "+e.l+" "+vi(e)+"]"}function wi(e){var t=Ri;this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function Ei(e,t,n){e.a=!0,e.c=n,e.f=!t,Ai(e)}function Ti(e){if(e.a){if(!e.l)throw new xi(e);e.l=!1}}function _i(e,t){Si(e,null,t,void 0)}function Si(e,t,n,r){e.g.push([t,n,r]),e.a&&Ai(e)}function Ii(e){return lc(e.g,function(e){return h(e[1])})}function Ai(e){if(e.h&&e.a&&Ii(e)){var t=e.h,n=bf[t];n&&(ec.clearTimeout(n.a),delete bf[t]),e.h=0}e.b&&(e.b.m--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.u,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(b(t)||"function"==typeof ec.Promise&&t instanceof ec.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ii(e)||(n=!0)}}e.c=t,r&&(s=y(e.o,e,!0),r=y(e.o,e,!1),t instanceof wi?(Si(t,s,r),t.A=!0):t.then(s,r)),n&&(t=new ki(t),bf[t.a]=t,e.h=t.a)}function xi(){w.call(this)}function Ci(){w.call(this)}function ki(e){this.a=ec.setTimeout(y(this.c,this),0),this.b=e}function Oi(e){var t={},n=t.document||document,r=W(e).toString(),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},a=new wi(o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Pi(i,!0);var e=new Di(Ef,"Timeout reached for loading script "+r);Ti(a),Ei(a,!1,e)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Pi(i,t.dd||!1,s),Ti(a),Ei(a,!0,null))},i.onerror=function(){Pi(i,!0,s);var e=new Di(wf,"Error while loading script "+r);Ti(a),Ei(a,!1,e)},o=t.attributes||{},F(o,{type:"text/javascript",charset:"UTF-8"}),Mt(i,o),re(i,e),Ni(n).appendChild(i),a}function Ni(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function Ri(){if(this&&this.Lb){var e=this.Lb;e&&"SCRIPT"==e.tagName&&Pi(e,!0,this.Ga)}}function Pi(e,t,n){null!=n&&ec.clearTimeout(n),e.onload=s,e.onerror=s,e.onreadystatechange=s,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function Di(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),w.call(this,n),this.code=e}function Li(e){this.f=e}function Mi(e,t,n){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Sf,this.f=U(e.secureTokenHeaders||If),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||Af,this.a=U(e.firebaseHeaders||xf),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==on(),n=ec.XMLHttpRequest||n&&Xu.INTERNAL.node&&Xu.INTERNAL.node.XMLHttpRequest,!n&&!rn())throw new Un("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,rn()?this.c=new ni(self):an()?this.c=new Li(n):this.c=new Gr}function ji(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ui(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function Fi(e,t,n,r,i,o,a){Qt()||rn()?e=y(e.o,e):(Tf||(Tf=new fe(function(e,t){qi(e,t)})),e=y(e.l,e)),e(t,n,r,i,o,a)}function qi(e,t){if(((window.gapi||{}).client||{}).request)e();else{ec[kf]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=z(Cf,{onload:kf});_i(Oi(n),function(){t(Error("CORS_UNSUPPORTED"))})}}function Bi(e,t){return new fe(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Fi(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?r(ao(e)):e.access_token&&e.refresh_token?n(e):r(new Un("internal-error")):r(new Un("network-request-failed"))},"POST",Ct(t).toString(),e.f,e.m.get()):r(new Un("internal-error"))})}function Vi(e,t,n,r,i,o){var a=Et(e.g+t);bt(a,"key",e.b),o&&bt(a,"cb",oc().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&bt(a,u,r[u]);return new fe(function(t,o){Fi(e,a.toString(),function(e){e?e.error?o(ao(e,i||{})):t(e):o(new Un("network-request-failed"))},n,s?void 0:qt(gn(r)),e.a,e.h.get())})}function Wi(e){if(e=e.email,!o(e)||!Sl.test(e))throw new Un("invalid-email")}function zi(e){"email"in e&&Wi(e)}function Hi(e,t){return io(e,Df,{identifier:t,continueUri:dn()?Ht():"http://localhost"}).then(function(e){return e.signinMethods||[]})}function Ki(e){return io(e,Wf,{}).then(function(e){return e.authorizedDomains||[]})}function Gi(e){if(!e[_f])throw new Un("internal-error")}function Qi(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Un("internal-error")}else{if(!e.sessionInfo)throw new Un("missing-verification-id");if(!e.code)throw new Un("missing-verification-code")}}function Yi(e,t){return io(e,Kf,t)}function Xi(e,t,n){return io(e,Mf,{idToken:t,deleteProvider:n})}function $i(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Un("internal-error")}function Ji(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(e=new At(e.postBody),Ot(e,"nonce")&&(t.nonce=e.get("nonce")))),t}function Zi(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Vr(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Vr(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Vr(e)):e.errorMessage&&(t=oo(e.errorMessage)),t)throw t;if(!e[_f])throw new Un("internal-error")}function eo(e,t){return t.returnIdpCredential=!0,io(e,Xf,t)}function to(e,t){return t.returnIdpCredential=!0,io(e,Jf,t)}function no(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,io(e,$f,t)}function ro(e){if(!e.oobCode)throw new Un("invalid-action-code")}function io(e,t,n){if(!Ln(n,t.T))return me(new Un("internal-error"));var r,i=t.Ib||"POST";return de(n).then(t.C).then(function(){return t.R&&(n.returnSecureToken=!0),Vi(e,t.endpoint,i,n,t.Vb,t.wb||!1)}).then(function(e){return r=e,t.Qa?t.Qa(n,r):r}).then(t.J).then(function(){if(!t.da)return r;if(!(t.da in r))throw new Un("internal-error");return r[t.da]})}function oo(e){return ao({error:{errors:[{message:e}],code:400,message:e}})}function ao(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Un(r[n]):null)return n;n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},F(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Un(r[i],t);return!t&&e&&(t=vn(e)),new Un("internal-error",t)}function so(e){this.b=e,this.a=null,this.gb=uo(this)}function uo(e){return fo().then(function(){return new fe(function(t,n){fn("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:fn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ah.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function co(e,t){return e.gb.then(function(){return new fe(function(n){e.a.send(t.type,t,n,fn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function lo(e,t){e.gb.then(function(){e.a.register("authEvent",t,fn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function fo(){return sh?sh:sh=new fe(function(e,t){function n(){Tn(),fn("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Tn(),t(Error("Network Error"))},timeout:oh.get()})}if(fn("gapi.iframes.Iframe"))e();else if(fn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();ec[r]=function(){fn("gapi.load")?n():t(Error("Network Error"))},r=z(ih,{onload:r}),de(Oi(r)).s(function(){t(Error("Network Error"))})}}).s(function(e){throw sh=null,e})}function ho(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Tt(this.i,"/__/auth/iframe"),bt(this.a,"apiKey",this.g),bt(this.a,"appName",this.h),this.b=null,this.c=[]}function po(e,t,n,r,i){this.o=e,this.l=t,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function mo(e){try{return Xu.app(e).auth().ya()}catch(e){return[]}}function yo(e,t,n,r,i){this.l=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function vo(e){var t=Ht();return Ki(e).then(function(e){e:{var n=Et(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Et(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:_l.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new qr(Ht())})}function go(e){return e.m?e.m:(e.m=Zt().then(function(){if(!e.u){var t=e.c,n=e.h,r=mo(e.b),i=new ho(e.l,e.f,e.b);i.f=t,i.b=n,i.c=L(r||[]),e.u=i.toString()}e.i=new so(e.u),Eo(e)}),e.m)}function bo(e){return e.o||(e.v=e.c?cn(e.c,mo(e.b)):null,e.o=new Mi(e.f,Yn(e.h),e.v)),e.o}function wo(e,t,n,r,i,o,a,s,u,c){return e=new po(e,t,n,r,i),e.i=o,e.g=a,e.h=s,e.b=U(u||null),e.f=c,e.toString()}function Eo(e){if(!e.i)throw Error("IfcHandler must be initialized!");lo(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ur(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return n={},n.status=r?"ACK":"ERROR",de(n)}return n.status="ERROR",de(n)})}function To(e){var t={type:"webStorageSupport"};return go(e).then(function(){return co(e.i,t)}).then(function(e){if(e&&e.length&&"undefined"!=typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function _o(e){if(this.a=e||Xu.INTERNAL.reactNative&&Xu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Un("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function So(e){this.b=e,this.a={},this.c=y(this.f,this)}function Io(){var e=rn()?self:null;if(uc(uh,function(n){n.b==e&&(t=n)}),!t){var t=new So(e);uh.push(t)}return t}function Ao(e){this.a=e}function xo(e){this.c=e,this.b=!1,this.a=[]}function Co(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return me(Error("connection_unavailable"));var l=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new fe(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!=typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(t){return ko(e,c),t}).s(function(t){throw ko(e,c),t})}function ko(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),P(e.a,function(e){return e==t})}}function Oo(){if(!Do())throw new Un("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=ec.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var e=this;rn()&&self?(this.m=Io(),this.m.subscribe("keyChanged",function(t,n){return Fo(e).then(function(t){return 0<t.length&&uc(e.a,function(e){e(t)}),{keyProcessed:N(t,n.key)}})}),this.m.subscribe("ping",function(){return de(["keyChanged"])})):kn().then(function(t){(e.h=t)&&(e.g=new xo(new Ao(t)),Co(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&N(t[0].value,"keyChanged")&&(e.u=!0)}).s(function(){}))})}function No(e){return new fe(function(t,n){var r=e.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){
n(Error(e.target.error))}})}function Ro(e){return new fe(function(t,n){var r=e.l.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?t(r):No(e).then(function(){return Ro(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function Po(e){return e.o||(e.o=Ro(e)),e.o}function Do(){try{return!!ec.indexedDB}catch(e){return!1}}function Lo(e){return e.objectStore("firebaseLocalStorage")}function Mo(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function jo(e){return new fe(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Uo(e,t){return e.g&&e.h&&Cn()===e.h?Co(e.g,"keyChanged",{key:t},e.u).then(function(){}).s(function(){}):de()}function Fo(e){return Po(e).then(function(e){var t=Lo(Mo(e,!1));return t.getAll?jo(t.getAll()):new fe(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=Gt(e.c,n),e.c=n}return r})}function qo(e){function t(){e.f=setTimeout(function(){e.i=Fo(e).then(function(t){0<t.length&&uc(e.a,function(e){e(t)})}).then(function(){t()}).s(function(e){"STOP_EVENT"!=e.message&&t()})},800)}Bo(e),t()}function Bo(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Vo(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=de().then(function(){if(Do()){var e=wn(),r="__sak"+e;return ch||(ch=new Oo),n=ch,n.set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){uc(t.a,function(t){t(e)})}),e})}function Wo(){this.a={},this.type="inMemory"}function zo(){if(!Ko()){if("Node"==on())throw new Un("internal-error","The LocalStorage compatibility library was not found.");throw new Un("web-storage-unsupported")}this.a=Ho()||Xu.INTERNAL.node.localStorage,this.type="localStorage"}function Ho(){try{var e=ec.localStorage,t=wn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Ko(){var e="Node"==on();if(e=Ho()||e&&Xu.INTERNAL.node&&Xu.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function Go(){this.type="nullStorage"}function Qo(){if(!Xo()){if("Node"==on())throw new Un("internal-error","The SessionStorage compatibility library was not found.");throw new Un("web-storage-unsupported")}this.a=Yo()||Xu.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yo(){try{var e=ec.sessionStorage,t=wn();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Xo(){var e="Node"==on();if(e=Yo()||e&&Xu.INTERNAL.node&&Xu.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function $o(){var e={};e.Browser=hh,e.Node=ph,e.ReactNative=dh,e.Worker=mh,this.a=e[on()]}function Jo(e){var t=new Un("invalid-persistence-type"),n=new Un("unsupported-persistence-type");e:{for(r in yh)if(yh[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(on()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!hn()&&"none"!==e)throw n}}function Zo(){var e=!(En(ln())||!nn()),t=yn(),n=hn();this.o=e,this.h=t,this.m=n,this.a={},lh||(lh=new $o),e=lh;try{this.g=!zt()&&xn()||!ec.indexedDB?new e.a.B:new Vo(rn()?new Wo:new e.a.B)}catch(e){this.g=new Wo,this.h=!0}try{this.i=new e.a.Sa}catch(e){this.i=new Wo}this.l=new Wo,this.f=y(this.Nb,this),this.b={}}function ea(){return fh||(fh=new Zo),fh}function ta(e,t){switch(t){case"session":return e.i;case"none":return e.l;default:return e.g}}function na(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ra(e,t,n){var r=na(t,n),i=ta(e,t.B);return e.get(t,n).then(function(o){var a=null;try{a=bn(ec.localStorage.getItem(r))}catch(e){}return a&&!o?(ec.localStorage.removeItem(r),e.set(t,a,n)):void(a&&o&&"localStorage"!=i.type&&ec.localStorage.removeItem(r))})}function ia(e,t,n){return n=na(t,n),"local"==t.B&&(e.b[n]=null),ta(e,t.B).P(n)}function oa(e){aa(e),e.c=setInterval(function(){for(var t in e.a){var n=ec.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Ue({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Nb(n))}},1e3)}function aa(e){e.c&&(clearInterval(e.c),e.c=null)}function sa(e){this.a=e,this.b=ea()}function ua(e){return e.b.get(gh,e.a).then(function(e){return Ur(e)})}function ca(){this.a=ea()}function la(){this.b=-1}function fa(e,t){this.b=bh,this.f=ec.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.m=ec.Int32Array?new Int32Array(64):Array(64),void 0!==vh||(vh=ec.Int32Array?new Int32Array(Sh):Sh),this.reset()}function ha(e){for(var t=e.f,n=e.m,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&f,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|vh[t])|0,a=o+(a+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function pa(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(o(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(ha(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[i++]=a,i==e.b&&(ha(e),i=0)}}e.c=i,e.g+=n}function da(){fa.call(this,8,Ih)}function ma(e,t,n,r,i){this.l=e,this.i=t,this.m=n,this.o=r||null,this.u=i||null,this.h=t+":"+n,this.v=new ca,this.g=new sa(this.h),this.f=null,this.b=[],this.a=this.c=null}function ya(e){return new Un("invalid-cordova-configuration",e)}function va(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function ga(e){var t=new da;pa(t,e),e=[];var n=8*t.g;56>t.c?pa(t,_h,56-t.c):pa(t,_h,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(ha(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return Vn(e)}function ba(e,t,n,r){var i=va(),o=new jr(t,r,null,i,new Un("no-auth-event")),a=fn("BuildInfo.packageName",ec);if("string"!=typeof a)throw new Un("invalid-cordova-configuration");var s=fn("BuildInfo.displayName",ec),u={};if(ln().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!ln().toLowerCase().match(/android/))return me(new Un("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=ga(i),u.sessionId=i;var c=wo(e.l,e.i,e.m,t,n,null,r,e.o,u,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(gh,o.w(),t)}).then(function(){var t=fn("cordova.plugins.browsertab.isAvailable",ec);if("function"!=typeof t)throw new Un("invalid-cordova-configuration");var n=null;t(function(t){if(t){if(n=fn("cordova.plugins.browsertab.openUrl",ec),"function"!=typeof n)throw new Un("invalid-cordova-configuration");n(c)}else{if(n=fn("cordova.InAppBrowser.open",ec),"function"!=typeof n)throw new Un("invalid-cordova-configuration");t=ln(),e.a=n(c,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function wa(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ea(e){return e.f||(e.f=e.ga().then(function(){return new fe(function(t){function n(r){return t(r),e.La(n),!1}e.wa(n),_a(e)})})),e.f}function Ta(e){var t=null;return ua(e.g).then(function(n){return t=n,n=e.g,ia(n.b,gh,n.a)}).then(function(){return t})}function _a(e){function t(t){r=!0,i&&i.cancel(),Ta(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;i=or(t.url),-1!=i.indexOf("/__/auth/callback")&&(o=Et(i),o=bn(wt(o,"firebaseError")||null),o=(o="object"==typeof o?Fn(o):null)?new jr(r.c,r.b,null,null,o):new jr(r.c,r.b,i,r.f)),i=o||n}wa(e,i)})}var n=new jr("unknown",null,null,null,new Un("no-auth-event")),r=!1,i=st(500).then(function(){return Ta(e).then(function(){r||wa(e,n)})}),o=ec.handleOpenURL;ec.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(fn("BuildInfo.packageName",ec).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},af||(af=new Fr),af.subscribe(t)}function Sa(e){this.a=e,this.b=ea()}function Ia(e){return e.b.set(Ah,"pending",e.a)}function Aa(e){return ia(e.b,Ah,e.a)}function xa(e){return e.b.get(Ah,e.a).then(function(e){return"pending"==e})}function Ca(e,t,n){this.i={},this.u=0,this.A=e,this.l=t,this.o=n,this.h=[],this.f=!1,this.m=y(this.cb,this),this.b=new La,this.v=new Va,this.g=new Sa(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=ka(this.A,this.l,this.o,Jl)}function ka(e,t,n,r){var i=Xu.SDK_VERSION||null;return tn()?new ma(e,t,n,i,r):new yo(e,t,n,i,r)}function Oa(e){e.f||(e.f=!0,e.a.wa(e.m));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function Na(e){e.a.Mb()&&Oa(e).s(function(t){var n=new jr("unknown",null,null,null,new Un("operation-not-supported-in-this-environment"));Pa(t)&&e.cb(n)}),e.a.Hb()||Ma(e.b)}function Ra(e,t,n,r,i,o){return e.a.Db(t,n,r,function(){e.f||(e.f=!0,e.a.wa(e.m))},function(){e.reset()},i,o)}function Pa(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Da(e,t,n){var r=t+":"+n;return kh[r]||(kh[r]=new Ca(e,t,n)),kh[r]}function La(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ma(e){e.g||(e.g=!0,qa(e,!1,null,null))}function ja(e,t,n){n=n.xa(t.c,t.b);var r=t.g,i=t.f,o=t.h,a=!!t.c.match(/Redirect$/);n(r,i,o).then(function(t){qa(e,a,t,null)}).s(function(t){qa(e,a,null,t)})}function Ua(e,t){if(e.b=function(){return me(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function Fa(e,t){if(e.b=function(){return de(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function qa(e,t,n,r){t?r?Ua(e,r):Fa(e,n):Fa(e,{user:null}),e.f=[],e.c=[]}function Ba(e){var t=new Un("timeout");e.a&&e.a.cancel(),e.a=st(Ch.get()).then(function(){e.b||(e.g=!0,qa(e,!0,null,t))})}function Va(){}function Wa(e,t){var n=e.b,r=e.c;t.xa(r,n)(e.g,e.f,e.h).then(function(e){t.ha(r,e,null,n)}).s(function(e){t.ha(r,null,e,n)})}function za(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(e){this.ub=e},enumerable:!1})}function Ha(e,t){this.a=t,Nn(this,"verificationId",e)}function Ka(e,t,n,r){return new Pr(e).Va(t,n).then(function(e){return new Ha(e,r)})}function Ga(e){var t=Qn(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Un("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Rn(this,{token:e,expirationTime:An(1e3*t.exp),authTime:An(1e3*t.auth_time),issuedAtTime:An(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Qa(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ya(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function Xa(e,t){e.stop(),e.b=st(Ya(e,t)).then(function(){return In()}).then(function(){return e.h()}).then(function(){Xa(e,!0)}).s(function(t){e.i(t)&&Xa(e,!1)})}function $a(e){this.f=e,this.b=this.a=null,this.c=0}function Ja(e,t){var n=t[_f],r=t.refreshToken;t=es(t.expiresIn),e.b=n,e.c=t,e.a=r}function Za(e,t){e.b=t.b,e.a=t.a,e.c=t.c}function es(e){return oc()+1e3*parseInt(e,10)}function ts(e,t){return Bi(e.f,t).then(function(t){return e.b=t.access_token,e.c=es(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function ns(e,t){this.a=e||null,this.b=t||null,Rn(this,{lastSignInTime:An(t||null),creationTime:An(e||null)})}function rs(e){return new ns(e.a,e.b)}function is(e,t,n,r,i,o){Rn(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function os(e,t){je.call(this,e);for(var n in t)this[n]=t[n]}function as(e,t,n){this.G=[],this.l=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=Xu.SDK_VERSION?cn(Xu.SDK_VERSION):null,this.c=new Mi(this.l,Yn(Jl),e),this.h=new $a(this.c),ds(this,t[_f]),Ja(this.h,t),Nn(this,"refreshToken",this.h.a),gs(this,n||{}),nt.call(this),this.I=!1,this.u&&pn()&&(this.a=Da(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=fs(this),this.V=y(this.Ha,this);var r=this;this.ka=null,this.ta=function(e){r.pa(e.g)},this.X=null,this.O=[],this.sa=function(e){us(r,e.c)},this.W=null}function ss(e,t){e.X&&Qe(e.X,"languageCodeChanged",e.ta),(e.X=t)&&ze(t,"languageCodeChanged",e.ta)}function us(e,t){e.O=t,Ui(e.c,Xu.SDK_VERSION?cn(Xu.SDK_VERSION,e.O):null)}function cs(e,t){e.W&&Qe(e.W,"frameworkChanged",e.sa),(e.W=t)&&ze(t,"frameworkChanged",e.sa)}function ls(e){try{return Xu.app(e.o).auth()}catch(t){throw new Un("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function fs(e){return new Qa(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-oc()-3e5;return 0<t?t:0})}function hs(e){e.D||e.A.b||(e.A.start(),Qe(e,"tokenChanged",e.V),ze(e,"tokenChanged",e.V))}function ps(e){Qe(e,"tokenChanged",e.V),e.A.stop()}function ds(e,t){e.ra=t,Nn(e,"_lat",t)}function ms(e,t){P(e.N,function(e){return e==t})}function ys(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return ge(t).then(function(){return e})}function vs(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function gs(e,t){Rn(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new ns(t.createdAt,t.lastLoginAt),providerData:[]})}function bs(){}function ws(e){return de().then(function(){if(e.D)throw new Un("app-deleted")})}function Es(e){return cc(e.providerData,function(e){return e.providerId})}function Ts(e,t){t&&(_s(e,t.providerId),e.providerData.push(t))}function _s(e,t){P(e.providerData,function(e){return e.providerId==t})}function Ss(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Nn(e,t,n)}function Is(e,t){e!=t&&(Rn(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Nn(e,"metadata",rs(t.metadata)):Nn(e,"metadata",new ns),uc(t.providerData,function(t){Ts(e,t)}),Za(e.h,t.h),Nn(e,"refreshToken",e.h.a))}function As(e){return e.F().then(function(t){var n=e.isAnonymous;return Cs(e,t).then(function(){return n||Ss(e,"isAnonymous",!1),t})})}function xs(e,t){t[_f]&&e.ra!=t[_f]&&(Ja(e.h,t),e.dispatchEvent(new os("tokenChanged")),ds(e,t[_f]),Ss(e,"refreshToken",e.h.a))}function Cs(e,t){return io(e.c,Ff,{idToken:t}).then(y(e.wc,e))}function ks(e){return(e=e.providerUserInfo)&&e.length?cc(e,function(e){return new is(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function Os(e,t){return As(e).then(function(){if(N(Es(e),t))return ys(e).then(function(){throw new Un("provider-already-linked")})})}function Ns(e,t,n){var r=Lr(t);return t=$n(t),Pn({user:e,credential:r,additionalUserInfo:t,operationType:n})}function Rs(e,t){return xs(e,t),e.reload().then(function(){return e})}function Ps(e,t,n,r,i){if(!pn())return me(new Un("operation-not-supported-in-this-environment"));if(e.i&&!i)return me(e.i);var o=Xn(n.providerId),a=wn(e.uid+":::"),s=null;(!yn()||nn())&&e.u&&n.isOAuthProvider&&(s=wo(e.u,e.l,e.o,t,n,null,a,Xu.SDK_VERSION||null));var u=$t(s,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(Ls(e),!i)return e.F().then(function(){})}).then(function(){return Ra(e.a,u,t,n,a,!!s)}).then(function(){return new fe(function(n,r){e.ha(t,null,new Un("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=a,e.b=e.a.Ea(e,t,u,a)})}).then(function(e){return u&&Xt(u),e?Pn(e):null}).s(function(e){throw u&&Xt(u),e}),Ms(e,r,i)}function Ds(e,t,n,r,i){if(!pn())return me(new Un("operation-not-supported-in-this-environment"));if(e.i&&!i)return me(e.i);var o=null,a=wn(e.uid+":::");return r=r().then(function(){if(Ls(e),!i)return e.F().then(function(){})}).then(function(){return e.aa=a,ys(e)}).then(function(t){return e.ba&&(t=e.ba,t=t.b.set(Oh,e.w(),t.a)),t}).then(function(){return e.a.Ca(t,n,a)}).s(function(t){if(o=t,e.ba)return Vs(e.ba);throw o}).then(function(){if(o)throw o}),Ms(e,r,i)}function Ls(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Un("internal-error");throw new Un("auth-domain-config-required")}}function Ms(e,t,n){var r=js(e,t,n);return e.G.push(r),r.ia(function(){R(e.G,r)}),r}function js(e,t,n){return e.i&&!n?(t.cancel(),me(e.i)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new os("userInvalidated")),e.i=t),t})}function Us(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[_f]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-oc())/1e3;var r=new as(t,n,e);return e.providerData&&uc(e.providerData,function(e){e&&Ts(r,Pn(e))}),e.redirectEventId&&(r.aa=e.redirectEventId),r}function Fs(e,t,n,r){var i=new as(e,t);return n&&(i.ba=n),r&&us(i,r),i.reload().then(function(){return i})}function qs(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.u,appName:e.o};var i=e.h,o={};return o[_f]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-oc())/1e3,t=new as(t,o),n&&(t.ba=n),r&&us(t,r),Is(t,e),t}function Bs(e){this.a=e,this.b=ea()}function Vs(e){return ia(e.b,Oh,e.a)}function Ws(e,t){return e.b.get(Oh,e.a).then(function(e){return e&&t&&(e.authDomain=t),Us(e||{})})}function zs(e){this.a=e,this.b=ea(),this.c=null,this.f=Ks(this),this.b.addListener(Gs("local"),this.a,y(this.g,this))}function Hs(e,t){var n,r=[];for(n in yh)yh[n]!==t&&r.push(ia(e.b,Gs(yh[n]),e.a));return r.push(ia(e.b,Nh,e.a)),ve(r)}function Ks(e){var t=Gs("local"),n=Gs("session"),r=Gs("none");return ra(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(Nh,e.a).then(function(e){return e?Gs(e):t})})})}).then(function(t){return e.c=t,Hs(e,t.B)}).s(function(){e.c||(e.c=t)})}function Gs(e){return{name:"authUser",B:e}}function Qs(e){return Js(e,function(){return e.b.set(Nh,e.c.B,e.a)})}function Ys(e,t){return Js(e,function(){return e.b.set(e.c,t.w(),e.a)})}function Xs(e){return Js(e,function(){return ia(e.b,e.c,e.a)})}function $s(e,t){return Js(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Us(e||{})})})}function Js(e,t){return e.f=e.f.then(t,t),e.f}function Zs(e){if(this.l=!1,Nn(this,"settings",new za),Nn(this,"app",e),!fu(this).options||!fu(this).options.apiKey)throw new Un("invalid-api-key");e=Xu.SDK_VERSION?cn(Xu.SDK_VERSION):null,this.c=new Mi(fu(this).options&&fu(this).options.apiKey,Yn(Jl),e),this.N=[],this.o=[],this.I=[],this.Rb=Xu.INTERNAL.createSubscribe(y(this.kc,this)),this.O=void 0,this.Sb=Xu.INTERNAL.createSubscribe(y(this.mc,this)),au(this,null),this.h=new zs(fu(this).options.apiKey+":"+fu(this).name),this.A=new Bs(fu(this).options.apiKey+":"+fu(this).name),this.V=yu(this,uu(this)),this.i=yu(this,cu(this)),this.X=!1,this.ka=y(this.Kc,this),this.Ha=y(this.Z,this),this.ra=y(this.Zb,this),this.sa=y(this.ic,this),this.ta=y(this.jc,this),iu(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.sc,this),this.u=0,nt.call(this),nu(this),this.G=[]}function eu(e){je.call(this,"languageCodeChanged"),this.g=e}function tu(e){je.call(this,"frameworkChanged"),this.c=e}function nu(e){Object.defineProperty(e,"lc",{get:function(){return this.ea()},set:function(e){this.pa(e)},enumerable:!1}),e.W=null}function ru(e){return e.Qb||me(new Un("auth-domain-config-required"))}function iu(e){var t=fu(e).options.authDomain,n=fu(e).options.apiKey;t&&pn()&&(e.Qb=e.V.then(function(){if(!e.l){if(e.a=Da(t,n,fu(e).name),e.a.subscribe(e),hu(e)&&vs(hu(e)),e.D){vs(e.D);var r=e.D;r.pa(e.ea()),ss(r,e),r=e.D,us(r,e.G),cs(r,e),e.D=null}return e.a}}))}function ou(e,t){var n={};return n.apiKey=fu(e).options.apiKey,n.authDomain=fu(e).options.authDomain,n.appName=fu(e).name,e.V.then(function(){return Fs(n,t,e.A,e.ya())}).then(function(t){return hu(e)&&t.uid==hu(e).uid?(Is(hu(e),t),e.Z(t)):(au(e,t),vs(t),e.Z(t))}).then(function(){du(e)})}function au(e,t){hu(e)&&(ms(hu(e),e.Ha),Qe(hu(e),"tokenChanged",e.ra),Qe(hu(e),"userDeleted",e.sa),Qe(hu(e),"userInvalidated",e.ta),ps(hu(e))),t&&(t.N.push(e.Ha),ze(t,"tokenChanged",e.ra),ze(t,"userDeleted",e.sa),ze(t,"userInvalidated",e.ta),0<e.u&&hs(t)),Nn(e,"currentUser",t),t&&(t.pa(e.ea()),ss(t,e),us(t,e.G),cs(t,e))}function su(e){var t=Ws(e.A,fu(e).options.authDomain).then(function(t){return(e.D=t)&&(t.ba=e.A),Vs(e.A)});return yu(e,t)}function uu(e){var t=fu(e).options.authDomain,n=su(e).then(function(){return $s(e.h,t)}).then(function(t){return t?(t.ba=e.A,e.D&&(e.D.aa||null)==(t.aa||null)?t:t.reload().then(function(){return Ys(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:Xs(e.h)})):null}).then(function(t){au(e,t||null)});return yu(e,n)}function cu(e){return e.V.then(function(){return e.fa()}).s(function(){}).then(function(){if(!e.l)return e.ka()}).s(function(){}).then(function(){if(!e.l){e.X=!0;var t=e.h;t.b.addListener(Gs("local"),t.a,e.ka)}})}function lu(e,t){var n=null,r=null;return yu(e,t.then(function(t){return n=Lr(t),r=$n(t),ou(e,t)}).then(function(){return Pn({user:hu(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function fu(e){return e.app}function hu(e){return e.currentUser}function pu(e){return hu(e)&&hu(e)._lat||null}function du(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](pu(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](pu(e))}}function mu(e,t){e.I.push(t),yu(e,e.i.then(function(){!e.l&&N(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(pu(e)))}))}function yu(e,t){return e.N.push(t),t.ia(function(){R(e.N,t)}),t}function vu(){}function gu(){this.a={},this.b=1e12}function bu(e,t){return(t=wu(t))?e.a[t]||null:null}function wu(e){return(e="undefined"==typeof e?1e12:e)?e.toString():null}function Eu(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ze(this.f,"click",this.i)}function Tu(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function _u(){}function Su(){this.b=ec.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Iu(e,t,n,r,i,o,a){if(Nn(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=t,this.g=null,a?(Ph||(Ph=new _u),a=Ph):(Mh||(Mh=new Su),a=Mh),this.o=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new Un("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[qh],!ec.document)throw new Un("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Lt(t)||!this.i&&Lt(t).hasChildNodes())throw new Un("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Mi(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.m=[];var u=this.a[jh];this.a[jh]=function(e){if(Au(s,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=fn(u,ec);"function"==typeof t&&t(e)}};var c=this.a[Uh];this.a[Uh]=function(){if(Au(s,null),"function"==typeof c)c();else if("string"==typeof c){var e=fn(c,ec);"function"==typeof e&&e()}}}function Au(e,t){for(var n=0;n<e.m.length;n++)try{e.m[n](t)}catch(e){}}function xu(e,t){P(e.m,function(e){return e==t})}function Cu(e,t){return e.h.push(t),t.ia(function(){R(e.h,t)}),t}function ku(e){if(e.D)throw new Un("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ou(e,t,n){var r=!1;try{this.b=n||Xu.app()}catch(e){throw new Un("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Un("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Xu.SDK_VERSION?cn(Xu.SDK_VERSION,o):null,Iu.call(this,n,e,t,function(){try{var e=i.b.auth().ea()}catch(t){e=null}return e},o,Yn(Jl),r)}function Nu(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Un("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Bh.length)throw new Un("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new Un("argument-error",e+" failed: "+r)}function Ru(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:o}}function Pu(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:a}}function Du(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Lu(e,t){return{name:e||"",K:"a function",optional:!!t,M:h}}function Mu(e,t){return{name:e||"",K:"null",optional:!!t,M:c}}function ju(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function Uu(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Zs)}}}function Fu(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Xu.app.App)}}}function qu(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.la||!n)}}}function Bu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function Vu(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&o(e.type)&&h(e.verify))}}}function Wu(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function zu(e,t){for(var n in t){var r=t[n].name;e[r]=Gu(r,e[n],t[n].j)}}function Hu(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:v(function(e){return this[e]},n),set:v(function(e,t,n,r){Nu(e,[n],[r],!0),this[t]=r},r,n,t[n].vb),enumerable:!0})}}function Ku(e,t,n,r){e[t]=Gu(t,n,r)}function Gu(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Nu(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=Qu(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}function Qu(e){return e=e.split("."),e[e.length-1]}var Yu,Xu=n(47).default,$u="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},Ju="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;t("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var o=Ju.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.o),reject:e(this.g)}},t.prototype.o=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.u(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.m()},t.prototype.m=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.u=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var o=i(e),a=o.next();!a.done;a=o.next())r(a.value).Ja(t,n)})},t.all=function(e){var n=i(e),o=n.next();return o.done?r([]):new t(function(e,t){function i(t){return function(n){a[t]=n,s--,0==s&&e(a)}}var a=[],s=0;do a.push(void 0),s++,r(o.value).Ja(i(a.length-1),t),o=n.next();while(!o.done)})},t});var Zu=Zu||{},ec=this||self,tc=/^[\w+/_-]+[=]{0,2}$/,nc=null,rc="closure_uid_"+(1e9*Math.random()>>>0),ic=0,oc=Date.now||function(){return+new Date};g(w,Error),w.prototype.name="CustomError",g(E,w),E.prototype.name="AssertionError",_.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var ac=new _(function(){return new x},function(e){e.reset()});I.prototype.add=function(e,t){var n=ac.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},x.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},x.prototype.reset=function(){this.next=this.b=this.a=null};var sc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(o(e))return o(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},uc=Array.prototype.forEach?function(e,t,n){
Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=o(e)?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)},cc=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=o(e)?e.split(""):e,a=0;a<n;a++)a in i&&(r[a]=t.call(void 0,i[a],a,e));return r},lc=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=o(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1},fc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");q.prototype.na=!0,q.prototype.ma=function(){return this.a},q.prototype.toString=function(){return"Const{"+this.a+"}"};var hc={},pc={},dc=new q(pc,"");V.prototype.na=!0,V.prototype.ma=function(){return this.a.toString()},V.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var mc=/%{(\w+)}/g,yc=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,vc={},gc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},bc=/&/g,wc=/</g,Ec=/>/g,Tc=/"/g,_c=/'/g,Sc=/\x00/g,Ic=/[\x00&<>"']/;Q.prototype.na=!0,Q.prototype.ma=function(){return this.a.toString()},Q.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ac=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,xc={};$("about:blank");var Cc;e:{var kc=ec.navigator;if(kc){var Oc=kc.userAgent;if(Oc){Cc=Oc;break e}}Cc=""}Z.prototype.na=!0,Z.prototype.ma=function(){return this.a.toString()},Z.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nc={};te("<!DOCTYPE html>");var Rc=te("");te("<br>");var Pc,Dc,Lc=!1,Mc=new I,jc=0,Uc=2,Fc=3;he.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var qc=new _(function(){return new he},function(e){e.reset()});fe.prototype.then=function(e,t,n){return Ee(this,h(e)?e:null,h(t)?t:null,n)},fe.prototype.$goog_Thenable=!0,Yu=fe.prototype,Yu.ia=function(e,t){return e=pe(e,e,t),e.c=!0,we(this,e),this},Yu.s=function(e,t){return Ee(this,null,e,t)},Yu.cancel=function(e){this.a==jc&&ue(function(){var t=new Oe(e);be(this,t)},this)},Yu.Lc=function(e){this.a=jc,Te(this,Uc,e)},Yu.Mc=function(e){this.a=jc,Te(this,Fc,e)},Yu.Wb=function(){for(var e;e=Ae(this);)xe(this,e,this.a,this.i);this.h=!1};var Bc=ae;g(Oe,w),Oe.prototype.name="cancel";var Vc=0,Wc={};Ne.prototype.qa=!1,Ne.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Pe[" "]=s;var zc,Hc=J("Opera"),Kc=J("Trident")||J("MSIE"),Gc=J("Edge"),Qc=Gc||Kc,Yc=J("Gecko")&&!(K(Cc.toLowerCase(),"webkit")&&!J("Edge"))&&!(J("Trident")||J("MSIE"))&&!J("Edge"),Xc=K(Cc.toLowerCase(),"webkit")&&!J("Edge");e:{var $c="",Jc=function(){var e=Cc;return Yc?/rv:([^\);]+)(\)|;)/.exec(e):Gc?/Edge\/([\d\.]+)/.exec(e):Kc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xc?/WebKit\/(\S+)/.exec(e):Hc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jc&&($c=Jc?Jc[1]:""),Kc){var Zc=Le();if(null!=Zc&&Zc>parseFloat($c)){zc=String(Zc);break e}}zc=$c}var el,tl={};el=ec.document&&Kc?Le():void 0;var nl=Object.freeze||function(e){return e},rl=!Kc||9<=Number(el),il=Kc&&!Me("9"),ol=function(){if(!ec.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ec.addEventListener("test",s,t),ec.removeEventListener("test",s,t)}catch(e){}return e}();je.prototype.preventDefault=function(){this.Kb=!1},g(Ue,je);var al=nl({2:"touch",3:"pen",4:"mouse"});Ue.prototype.preventDefault=function(){Ue.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,il)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Ue.prototype.f=function(){return this.a};var sl="closure_listenable_"+(1e6*Math.random()|0),ul=0;Be.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.a[o],e||(e=this.a[o]=[],this.b++);var a=We(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):(t=new Fe(t,this.src,o,!!r,i),t.Ia=n,e.push(t)),t};var cl="closure_lm_"+(1e6*Math.random()|0),ll={},fl=0,hl="__closure_events_fn_"+(1e9*Math.random()>>>0);g(nt,Ne),nt.prototype[sl]=!0,nt.prototype.addEventListener=function(e,t,n,r){ze(this,e,t,n,r)},nt.prototype.removeEventListener=function(e,t,n,r){Qe(this,e,t,n,r)},nt.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Pb;var r=e.type||e;if(o(e))e=new je(e,n);else if(e instanceof je)e.target=e.target||n;else{var i=e;e=new je(r,n),F(e,i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.b=t[a];i=ot(s,r,!0,e)&&i}if(s=e.b=n,i=ot(s,r,!0,e)&&i,i=ot(s,r,!1,e)&&i,t)for(a=0;a<t.length;a++)s=e.b=t[a],i=ot(s,r,!1,e)&&i;return i},nt.prototype.va=function(){if(nt.qb.va.call(this),this.m){var e,t=this.m,n=0;for(e in t.a){for(var r=t.a[e],i=0;i<r.length;i++)++n,qe(r[i]);delete t.a[e],t.b--}}this.Wa=null},Yu=ft.prototype,Yu.S=function(){ht(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Yu.U=function(){return ht(this),this.a.concat()},Yu.clear=function(){this.b={},this.c=this.a.length=0},Yu.get=function(e,t){return pt(this.b,e)?this.b[e]:t},Yu.set=function(e,t){pt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Yu.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var pl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;mt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(St(t,dl,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(St(t,dl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(St(n,"/"==n.charAt(0)?yl:ml,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",St(n,gl)),e.join("")},mt.prototype.resolve=function(e){var t=new mt(this),n=!!e.f;n?yt(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.m;var r=e.c;if(n)vt(t,e.m);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(K(i,"./")||K(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?gt(t,Rt(e.a)):n=!!e.g,n&&(t.g=e.g),t};var dl=/[#\/\?@]/g,ml=/[#\?:]/g,yl=/[#\?]/g,vl=/[#\?@]/g,gl=/#/g;Yu=At.prototype,Yu.add=function(e,t){xt(this),this.c=null,e=Pt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Yu.clear=function(){this.a=this.c=null,this.b=0},Yu.forEach=function(e,t){xt(this),this.a.forEach(function(n,r){uc(n,function(n){e.call(t,n,r,this)},this)},this)},Yu.U=function(){xt(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Yu.S=function(e){xt(this);var t=[];if(o(e))Ot(this,e)&&(t=D(t,this.a.get(Pt(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=D(t,e[n])}return t},Yu.set=function(e,t){return xt(this),this.c=null,e=Pt(this,e),Ot(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Yu.get=function(e,t){return e?(e=this.S(e),0<e.length?String(e[0]):t):t},Yu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var bl=!Kc||9<=Number(el),wl={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},El={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Tl=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,_l=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sl=/^[^@]+@[^@]+$/,Il="Firefox",Al="Chrome",xl={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};_n.prototype.get=function(){var e=ec.navigator;return(e&&"boolean"==typeof e.onLine&&(dn()||"chrome-extension:"===mn()||"undefined"!=typeof e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var Cl,kl={};try{var Ol={};Object.defineProperty(Ol,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ol,"abcd",{configurable:!0,enumerable:!0,value:2}),Cl=2==Ol.abcd}catch(e){Cl=!1}var Nl="EMAIL_SIGNIN",Rl="email",Pl="newEmail",Dl="requestType",Ll="email",Ml="fromEmail",jl="data",Ul="operation";g(Un,Error),Un.prototype.w=function(){return{code:this.code,message:this.message}},Un.prototype.toJSON=function(){return this.w()};var Fl="auth/",ql={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Bl="android",Vl="dynamicLinkDomain",Wl="handleCodeInApp",zl="iOS",Hl="url",Kl="installApp",Gl="minimumVersion",Ql="packageName",Yl="bundleId",Xl=null,$l=null;Kn.prototype.f=function(){return this.b};var Jl,Zl={Yc:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Jl=Yn("__EID__")?"__EID__":void 0;var ef="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),tf=["client_id","response_type","scope","redirect_uri","state"],nf={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",ib:tf},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",ib:tf},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",ib:tf},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",ib:ef}},rf="idToken",of="providerId";g(Zn,Jn),g(er,Zn),g(tr,Zn),g(nr,Zn),g(rr,Zn),ur.prototype.la=function(e){return eo(e,cr(this))},ur.prototype.b=function(e,t){var n=cr(this);return n.idToken=t,to(e,n)},ur.prototype.f=function(e,t){return sr(no(e,cr(this)),t)},ur.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fr.prototype.la=function(e){return eo(e,hr(this))},fr.prototype.b=function(e,t){var n=hr(this);return n.idToken=t,to(e,n)},fr.prototype.f=function(e,t){var n=hr(this);return sr(no(e,n),t)},fr.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},dr.prototype.Da=function(e){return this.zb=U(e),this},g(mr,dr),g(yr,dr),yr.prototype.ua=function(e){return N(this.a,e)||this.a.push(e),this},yr.prototype.Fb=function(){return L(this.a)},yr.prototype.credential=function(e,t){var n;if(n=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null},!n.idToken&&!n.accessToken)throw new Un("argument-error","credential failed: must provide the ID token and/or the access token.");return new fr(this.providerId,n,this.providerId)},g(vr,yr),Nn(vr,"PROVIDER_ID","facebook.com"),Nn(vr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),g(br,yr),Nn(br,"PROVIDER_ID","github.com"),Nn(br,"GITHUB_SIGN_IN_METHOD","github.com"),g(Er,yr),Nn(Er,"PROVIDER_ID","google.com"),Nn(Er,"GOOGLE_SIGN_IN_METHOD","google.com"),g(_r,dr),Nn(_r,"PROVIDER_ID","twitter.com"),Nn(_r,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ir.prototype.la=function(e){return this.signInMethod==xr.EMAIL_LINK_SIGN_IN_METHOD?io(e,jf,{email:this.a,oobCode:this.c}):io(e,eh,{email:this.a,password:this.c})},Ir.prototype.b=function(e,t){return this.signInMethod==xr.EMAIL_LINK_SIGN_IN_METHOD?io(e,Uf,{idToken:t,email:this.a,oobCode:this.c}):io(e,Qf,{idToken:t,email:this.a,password:this.c})},Ir.prototype.f=function(e,t){return sr(this.la(e),t)},Ir.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Rn(xr,{PROVIDER_ID:"password"}),Rn(xr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Rn(xr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Or.prototype.la=function(e){return e.Va(Rr(this))},Or.prototype.b=function(e,t){var n=Rr(this);return n.idToken=t,io(e,nh,n)},Or.prototype.f=function(e,t){var n=Rr(this);return n.operation="REAUTH",e=io(e,rh,n),sr(e,t)},Or.prototype.w=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},Pr.prototype.Va=function(e,t){var n=this.a.c;return de(t.verify()).then(function(r){if(!o(r))throw new Un("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return Yi(n,{phoneNumber:e,recaptchaToken:r}).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new Un("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Rn(Pr,{PROVIDER_ID:"phone"}),Rn(Pr,{PHONE_SIGN_IN_METHOD:"phone"}),jr.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.i&&e.push(this.i),e.join("-")},jr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var af=null;Fr.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},e=fn("universalLinks.subscribe",ec),"function"==typeof e&&e(null,this.b))},Fr.prototype.unsubscribe=function(e){P(this.a,function(t){return t==e})},g(qr,Un),g(Br,Un),Br.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.w();return t&&F(e,t),e},Br.prototype.toJSON=function(){return this.w()},Wr.prototype.c=null;var sf;g(Hr,Wr),Hr.prototype.a=function(){var e=Kr(this);return e?new ActiveXObject(e):new XMLHttpRequest},Hr.prototype.b=function(){var e={};return Kr(this)&&(e[0]=!0,e[1]=!0),e},sf=new Hr,g(Gr,Wr),Gr.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Qr;throw Error("Unsupported browser")},Gr.prototype.b=function(){return{}},Yu=Qr.prototype,Yu.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},Yu.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},Yu.abort=function(){this.a.abort()},Yu.setRequestHeader=function(){},Yu.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},Yu.cc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yr(this,4)},Yu.Gb=function(){this.status=500,this.response=this.responseText="",Yr(this,4)},Yu.hc=function(){this.Gb()},Yu.dc=function(){this.status=200,Yr(this,1)},Yu.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xr.prototype.a=null;var uf=0;Xr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||uf++,r||oc(),delete this.a},Jr.prototype.toString=function(){return this.name};var cf=new Jr("SEVERE",1e3),lf=new Jr("WARNING",900),ff=new Jr("CONFIG",700),hf=new Jr("FINE",500);$r.prototype.log=function(e,t,n){if(e.value>=Zr(this).value)for(h(t)&&(t=t()),e=new Xr(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pf={},df=null;g(ni,Wr),ni.prototype.a=function(){return new ri(this.f)},ni.prototype.b=function(e){return function(){return e}}({}),g(ri,nt);var mf=0;Yu=ri.prototype,Yu.open=function(e,t){if(this.readyState!=mf)throw this.abort(),Error("Error reopening a connection");this.o=e,this.g=t,this.readyState=1,ai(this)},Yu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.o,credentials:void 0,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.g,t)).then(this.gc.bind(this),this.Ma.bind(this))},Yu.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,oi(this,!1)),this.readyState=mf},Yu.gc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,ai(this)),this.a&&(this.readyState=3,ai(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.ec.bind(this),this.Ma.bind(this)):"undefined"!=typeof ec.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ii(this)):e.text().then(this.fc.bind(this),this.Ma.bind(this)))))},Yu.bc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?oi(this,!0):ai(this),3==this.readyState&&ii(this)}},Yu.fc=function(e){this.a&&(this.response=this.responseText=e,oi(this,!0))},Yu.ec=function(e){this.a&&(this.response=e,oi(this,!0))},Yu.Ma=function(e){var t=this.h;t&&t.log(lf,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&oi(this,!0)},Yu.setRequestHeader=function(e,t){this.i.append(e,t)},Yu.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(lf,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},Yu.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(lf,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},g(si,nt);var yf="";si.prototype.b=ei("goog.net.XhrIo");var vf=/^https?$/i,gf=["POST","PUT"];Yu=si.prototype,Yu.Ga=function(){"undefined"!=typeof Zu&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ti(this.b,bi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},Yu.abort=function(){this.a&&this.c&&(ti(this.b,bi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),di(this))},Yu.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),di(this,!0)),si.qb.va.call(this)},Yu.Jb=function(){this.qa||(this.I||this.i||this.f?pi(this):this.vc())},Yu.vc=function(){pi(this)},Yu.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case yf:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(cf,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return ti(this.b,"Can not get response: "+e.message),null}},wi.prototype.cancel=function(e){if(this.a)this.c instanceof wi&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.m--,0>=t.m&&t.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(e=new Ci(this),Ti(this),Ei(this,!1,e))}},wi.prototype.o=function(e,t){this.i=!1,Ei(this,e,t)},wi.prototype.then=function(e,t,n){var r,i,o=new fe(function(e,t){r=e,i=t});return Si(this,r,function(e){e instanceof Ci?o.cancel():i(e)}),o.then(e,t,n)},wi.prototype.$goog_Thenable=!0,g(xi,w),xi.prototype.message="Deferred has already fired",xi.prototype.name="AlreadyCalledError",g(Ci,w),Ci.prototype.message="Deferred was canceled",Ci.prototype.name="CanceledError",ki.prototype.c=function(){throw delete bf[this.a],this.b};var bf={},wf=0,Ef=1;g(Di,w),g(Li,Wr),Li.prototype.a=function(){return new this.f},Li.prototype.b=function(){return{}};var Tf,_f="idToken",Sf=new _n(3e4,6e4),If={"Content-Type":"application/x-www-form-urlencoded"},Af=new _n(3e4,6e4),xf={"Content-Type":"application/json"};Mi.prototype.o=function(e,t,n,r,i,o){if(rn()&&("undefined"==typeof ec.fetch||"undefined"==typeof ec.Headers||"undefined"==typeof ec.Request))throw new Un("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new si(this.c);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}rt(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(gi(this))||null}catch(t){e=null}t&&t(e)}),it(a,"ready",function(){s&&clearTimeout(s),Re(this)}),it(a,"timeout",function(){s&&clearTimeout(s),Re(this),t&&t(null)}),ui(a,e,n,r,i)};var Cf=new q(pc,"https://apis.google.com/js/client.js?onload=%{onload}"),kf="__fcb"+Math.floor(1e6*Math.random()).toString();Mi.prototype.l=function(e,t,n,r,i){var o=this;Tf.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Mi.prototype.ob=function(){return io(this,Yf,{})},Mi.prototype.rb=function(e,t){return io(this,Gf,{idToken:e,email:t})},Mi.prototype.sb=function(e,t){return io(this,Qf,{idToken:e,password:t})};var Of={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Yu=Mi.prototype,Yu.tb=function(e,t){var n={idToken:e},r=[];return M(Of,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),io(this,Gf,n)},Yu.lb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},F(e,t),io(this,Vf,e)},Yu.mb=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},F(e,t),io(this,qf,e)},Yu.kb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},F(e,t),io(this,Bf,e)},Yu.Va=function(e){return io(this,th,e)},Yu.$a=function(e,t){return io(this,Hf,{oobCode:e,newPassword:t})},Yu.Ka=function(e){return io(this,Rf,{oobCode:e})},Yu.Xa=function(e){return io(this,Nf,{oobCode:e})};var Nf={endpoint:"setAccountInfo",C:ro,da:"email"},Rf={endpoint:"resetPassword",C:ro,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Un("internal-error")}},Pf={endpoint:"signupNewUser",C:function(e){if(Wi(e),!e.password)throw new Un("weak-password")},J:Gi,R:!0},Df={endpoint:"createAuthUri"},Lf={endpoint:"deleteAccount",T:["idToken"]},Mf={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(e){if(!l(e.deleteProvider))throw new Un("internal-error")}},jf={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Wi,J:Gi,R:!0},Uf={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Wi,J:Gi,R:!0},Ff={endpoint:"getAccountInfo"},qf={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Un("internal-error");Wi(e)},da:"email"},Bf={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Un("internal-error");
},da:"email"},Vf={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Un("internal-error");Wi(e)},da:"email"},Wf={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},zf={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Un("internal-error")}},Hf={endpoint:"resetPassword",C:ro,da:"email"},Kf={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Gf={endpoint:"setAccountInfo",T:["idToken"],C:zi,R:!0},Qf={endpoint:"setAccountInfo",T:["idToken"],C:function(e){if(zi(e),!e.password)throw new Un("weak-password")},J:Gi,R:!0},Yf={endpoint:"signupNewUser",J:Gi,R:!0},Xf={endpoint:"verifyAssertion",C:$i,Qa:Ji,J:Zi,R:!0},$f={endpoint:"verifyAssertion",C:$i,Qa:Ji,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Un("user-not-found");if(e.errorMessage)throw oo(e.errorMessage);if(!e[_f])throw new Un("internal-error")},R:!0},Jf={endpoint:"verifyAssertion",C:function(e){if($i(e),!e.idToken)throw new Un("internal-error")},Qa:Ji,J:Zi,R:!0},Zf={endpoint:"verifyCustomToken",C:function(e){if(!e.token)throw new Un("invalid-custom-token")},J:Gi,R:!0},eh={endpoint:"verifyPassword",C:function(e){if(Wi(e),!e.password)throw new Un("wrong-password")},J:Gi,R:!0},th={endpoint:"verifyPhoneNumber",C:Qi,J:Gi},nh={endpoint:"verifyPhoneNumber",C:function(e){if(!e.idToken)throw new Un("internal-error");Qi(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Vr(e);Gi(e)}},rh={Vb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Qi,J:Gi},ih=new q(pc,"https://apis.google.com/js/api.js?onload=%{onload}"),oh=new _n(3e4,6e4),ah=new _n(5e3,15e3),sh=null;ho.prototype.toString=function(){return this.f?bt(this.a,"v",this.f):kt(this.a.a,"v"),this.b?bt(this.a,"eid",this.b):kt(this.a.a,"eid"),this.c.length?bt(this.a,"fw",this.c.join(",")):kt(this.a.a,"fw"),this.a.toString()},po.prototype.toString=function(){var e=Tt(this.o,"/__/auth/handler");if(bt(e,"apiKey",this.l),bt(e,"appName",this.c),bt(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Xu.app(this.c).auth().ea()}catch(e){n=null}t.ab=n,bt(e,"providerId",this.a.providerId),t=this.a,n=gn(t.zb);for(var r in n)n[r]=n[r].toString();r=t.Cc,n=U(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.eb&&t.ab&&!n[t.eb]&&(n[t.eb]=t.ab),j(n)||bt(e,"customParameters",vn(n))}if("function"==typeof this.a.Fb&&(t=this.a.Fb(),t.length&&bt(e,"scopes",t.join(","))),this.i?bt(e,"redirectUrl",this.i):kt(e.a,"redirectUrl"),this.g?bt(e,"eventId",this.g):kt(e.a,"eventId"),this.h?bt(e,"v",this.h):kt(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!wt(e,a)&&bt(e,a,this.b[a]);return this.f?bt(e,"eid",this.f):kt(e.a,"eid"),a=mo(this.c),a.length&&bt(e,"fw",a.join(",")),e.toString()},Yu=yo.prototype,Yu.Ea=function(e,t,n){var r=new Un("popup-closed-by-user"),i=new Un("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){To(o).then(function(n){n||(e&&Xt(e),t(i),a=!0)})}).s(function(){}).then(function(){if(!a)return Jt(e)}).then(function(){if(!a)return st(n).then(function(){t(r)})})},Yu.Mb=function(){var e=ln();return!yn(e)&&!En(e)},Yu.Hb=function(){return!1},Yu.Db=function(e,t,n,r,i,o,a){if(!e)return me(new Un("popup-blocked"));if(a&&!yn())return this.ga().s(function(t){Xt(e),i(t)}),r(),de();this.a||(this.a=vo(bo(this)));var s=this;return this.a.then(function(){var t=s.ga().s(function(t){throw Xt(e),i(t),t});return r(),t}).then(function(){if(Mr(n),!a){var r=wo(s.l,s.f,s.b,t,n,null,o,s.c,void 0,s.h);Kt(r,e)}}).s(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},Yu.Ca=function(e,t,n){this.a||(this.a=vo(bo(this)));var r=this;return this.a.then(function(){Mr(t);var i=wo(r.l,r.f,r.b,e,t,Ht(),n,r.c,void 0,r.h);Kt(i)}).s(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},Yu.ga=function(){var e=this;return go(this).then(function(){return e.i.gb}).s(function(){throw e.a=null,new Un("network-request-failed")})},Yu.Ob=function(){return!0},Yu.wa=function(e){this.g.push(e)},Yu.La=function(e){P(this.g,function(t){return t==e})},Yu=_o.prototype,Yu.get=function(e){return de(this.a.getItem(e)).then(function(e){return e&&bn(e)})},Yu.set=function(e,t){return de(this.a.setItem(e,vn(t)))},Yu.P=function(e){return de(this.a.removeItem(e))},Yu.Y=function(){},Yu.ca=function(){};var uh=[];So.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];uc(r,function(t){i.push(de().then(function(){return t(e.origin,e.data.data)}))}),ge(i).then(function(r){var i=[];uc(r,function(e){i.push({fulfilled:e.Eb,value:e.value,reason:e.reason?e.reason.message:void 0})}),uc(i,function(e){for(var t in e)"undefined"==typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},So.prototype.subscribe=function(e,t){j(this.a)&&this.b.addEventListener("message",this.c),"undefined"==typeof this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},So.prototype.unsubscribe=function(e,t){"undefined"!=typeof this.a[e]&&t?(P(this.a[e],function(e){return e==t}),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],j(this.a)&&this.b.removeEventListener("message",this.c)},Ao.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},xo.prototype.close=function(){for(;0<this.a.length;)ko(this,this.a[0]);this.b=!0};var ch;Yu=Oo.prototype,Yu.set=function(e,t){var n,r=!1,i=this;return Po(this).then(function(t){return n=t,t=Lo(Mo(n,!0)),jo(t.get(e))}).then(function(o){var a=Lo(Mo(n,!0));return o?(o.value=t,jo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=e,o.value=t,jo(a.add(o)))}).then(function(){return i.c[e]=t,Uo(i,e)}).ia(function(){r&&i.b--})},Yu.get=function(e){return Po(this).then(function(t){return jo(Lo(Mo(t,!1)).get(e))}).then(function(e){return e&&e.value})},Yu.P=function(e){var t=!1,n=this;return Po(this).then(function(r){return t=!0,n.b++,jo(Lo(Mo(r,!0)).delete(e))}).then(function(){return delete n.c[e],Uo(n,e)}).ia(function(){t&&n.b--})},Yu.Y=function(e){0==this.a.length&&qo(this),this.a.push(e)},Yu.ca=function(e){P(this.a,function(t){return t==e}),0==this.a.length&&Bo(this)},Yu=Vo.prototype,Yu.get=function(e){return this.b.then(function(t){return t.get(e)})},Yu.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},Yu.P=function(e){return this.b.then(function(t){return t.P(e)})},Yu.Y=function(e){this.a.push(e)},Yu.ca=function(e){P(this.a,function(t){return t==e})},Yu=Wo.prototype,Yu.get=function(e){return de(this.a[e])},Yu.set=function(e,t){return this.a[e]=t,de()},Yu.P=function(e){return delete this.a[e],de()},Yu.Y=function(){},Yu.ca=function(){},Yu=zo.prototype,Yu.get=function(e){var t=this;return de().then(function(){var n=t.a.getItem(e);return bn(n)})},Yu.set=function(e,t){var n=this;return de().then(function(){var r=vn(t);null===r?n.P(e):n.a.setItem(e,r)})},Yu.P=function(e){var t=this;return de().then(function(){t.a.removeItem(e)})},Yu.Y=function(e){ec.window&&ze(ec.window,"storage",e)},Yu.ca=function(e){ec.window&&Qe(ec.window,"storage",e)},Yu=Go.prototype,Yu.get=function(){return de(null)},Yu.set=function(){return de()},Yu.P=function(){return de()},Yu.Y=function(){},Yu.ca=function(){},Yu=Qo.prototype,Yu.get=function(e){var t=this;return de().then(function(){var n=t.a.getItem(e);return bn(n)})},Yu.set=function(e,t){var n=this;return de().then(function(){var r=vn(t);null===r?n.P(e):n.a.setItem(e,r)})},Yu.P=function(e){var t=this;return de().then(function(){t.a.removeItem(e)})},Yu.Y=function(){},Yu.ca=function(){};var lh,fh,hh={B:zo,Sa:Qo},ph={B:zo,Sa:Qo},dh={B:_o,Sa:Go},mh={B:zo,Sa:Go},yh={Xc:"local",NONE:"none",Zc:"session"};Yu=Zo.prototype,Yu.get=function(e,t){return ta(this,e.B).get(na(e,t))},Yu.set=function(e,t,n){var r=na(e,n),i=this,o=ta(this,e.B);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.B&&(i.b[r]=t)})},Yu.addListener=function(e,t,n){e=na(e,t),this.m&&(this.b[e]=ec.localStorage.getItem(e)),j(this.a)&&(ta(this,"local").Y(this.f),this.h||(zt()||!xn())&&ec.indexedDB||!this.m||oa(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},Yu.removeListener=function(e,t,n){e=na(e,t),this.a[e]&&(P(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),j(this.a)&&(ta(this,"local").ca(this.f),aa(this))},Yu.Nb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"==typeof r&&(r=null);var i=ec.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Ya(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!=typeof e.a.a?ta(this,"local").ca(this.f):aa(this),this.o)if(n=ec.localStorage.getItem(t),r=e.a.newValue,r!==n)null!==r?ec.localStorage.setItem(t,r):ec.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"==typeof e.a.a)return;var o=this;n=function(){"undefined"==typeof e.a.a&&o.b[t]===ec.localStorage.getItem(t)||(o.b[t]=ec.localStorage.getItem(t),o.Ya(t))},Kc&&el&&10==el&&ec.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else uc(e,y(this.Ya,this))},Yu.Ya=function(e){this.a[e]&&uc(this.a[e],function(e){e()})};var vh,gh={name:"authEvent",B:"local"};g(fa,la);for(var bh=64,wh=bh-1,Eh=[],Th=0;Th<wh;Th++)Eh[Th]=0;var _h=D(128,Eh);fa.prototype.reset=function(){this.g=this.c=0,this.a=ec.Int32Array?new Int32Array(this.h):L(this.h)};var Sh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];g(da,fa);var Ih=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Yu=ma.prototype,Yu.ga=function(){return this.za?this.za:this.za=en().then(function(){if("function"!=typeof fn("universalLinks.subscribe",ec))throw ya("cordova-universal-links-plugin-fix is not installed");if("undefined"==typeof fn("BuildInfo.packageName",ec))throw ya("cordova-plugin-buildinfo is not installed");if("function"!=typeof fn("cordova.plugins.browsertab.openUrl",ec))throw ya("cordova-plugin-browsertab is not installed");if("function"!=typeof fn("cordova.InAppBrowser.open",ec))throw ya("cordova-plugin-inappbrowser is not installed")},function(){throw new Un("cordova-not-ready")})},Yu.Ea=function(e,t){return t(new Un("operation-not-supported-in-this-environment")),de()},Yu.Db=function(){return me(new Un("operation-not-supported-in-this-environment"))},Yu.Ob=function(){return!1},Yu.Mb=function(){return!0},Yu.Hb=function(){return!0},Yu.Ca=function(e,t,n){if(this.c)return me(new Un("redirect-operation-pending"));var r=this,i=ec.document,o=null,a=null,s=null,u=null;return this.c=de().then(function(){return Mr(t),Ea(r)}).then(function(){return ba(r,e,t,n)}).then(function(){return new fe(function(e,t){a=function(){var t=fn("cordova.plugins.browsertab.close",ec);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(a),s=function(){o||(o=st(2e3).then(function(){t(new Un("redirect-cancelled-by-user"))}))},u=function(){Sn()&&s()},i.addEventListener("resume",s,!1),ln().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(e){return Ta(r).then(function(){throw e})})}).ia(function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.La(a),r.c=null})},Yu.wa=function(e){this.b.push(e),Ea(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new jr("unknown",null,null,null,new Un("no-auth-event")),e(t))})},Yu.La=function(e){P(this.b,function(t){return t==e})};var Ah={name:"pendingRedirect",B:"session"};Yu=Ca.prototype,Yu.reset=function(){this.f=!1,this.a.La(this.m),this.a=ka(this.A,this.l,this.o),this.i={}},Yu.Za=function(){this.b.Za()},Yu.subscribe=function(e){if(N(this.h,e)||this.h.push(e),!this.f){var t=this;xa(this.g).then(function(e){e?Aa(t.g).then(function(){Oa(t).s(function(e){var n=new jr("unknown",null,null,null,new Un("operation-not-supported-in-this-environment"));Pa(e)&&t.cb(n)})}):Na(t)}).s(function(){Na(t)})}},Yu.unsubscribe=function(e){P(this.h,function(t){return t==e})},Yu.cb=function(e){if(!e)throw new Un("invalid-auth-event");if(6e5<=oc()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=oc())),t=!0;break}}return Ma(this.b),t};var xh=new _n(2e3,1e4),Ch=new _n(3e4,6e4);Ca.prototype.fa=function(){return this.b.fa()},Ca.prototype.Ca=function(e,t,n){var r,i=this;return Ia(this.g).then(function(){return i.a.Ca(e,t,n).s(function(e){if(Pa(e))throw new Un("operation-not-supported-in-this-environment");return r=e,Aa(i.g).then(function(){throw r})}).then(function(){return i.a.Ob()?new fe(function(){}):Aa(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ca.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,function(n){e.ha(t,null,n,r)},xh.get())};var kh={};La.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},La.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(qa(this,!0,null,e.a),de()):t.xa(n,r)?ja(this,e,t):me(new Un("invalid-auth-event")):(qa(this,!1,null,null),de())}else me(new Un("invalid-auth-event"))},La.prototype.Za=function(){this.g&&!this.i&&qa(this,!1,null,null)},La.prototype.fa=function(){var e=this;return new fe(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),Ba(e))})},Va.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ha(e.c,null,e.a,e.b),de()):t.xa(n,r)?Wa(e,t):me(new Un("invalid-auth-event"))}else me(new Un("invalid-auth-event"))},Ha.prototype.confirm=function(e){return e=Dr(this.verificationId,e),this.a(e)},Qa.prototype.start=function(){this.a=this.c,Xa(this,!0)},Qa.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},$a.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},$a.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?me(new Un("user-token-expired")):e||!this.b||oc()>this.c-3e4?this.a?ts(this,{grant_type:"refresh_token",refresh_token:this.a}):de(null):de({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ns.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},g(os,je),g(as,nt),as.prototype.pa=function(e){this.ka=e,ji(this.c,e)},as.prototype.ea=function(){return this.ka},as.prototype.ya=function(){return L(this.O)},as.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Nn(as.prototype,"providerId","firebase"),Yu=as.prototype,Yu.reload=function(){var e=this;return Ms(this,ws(this).then(function(){return As(e).then(function(){return ys(e)}).then(bs)}))},Yu.ac=function(e){return this.F(e).then(function(e){return new Ga(e)})},Yu.F=function(e){var t=this;return Ms(this,ws(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Un("internal-error");return e.accessToken!=t.ra&&(ds(t,e.accessToken),t.dispatchEvent(new os("tokenChanged"))),Ss(t,"refreshToken",e.refreshToken),e.accessToken}))},Yu.wc=function(e){if(e=e.users,!e||!e.length)throw new Un("internal-error");e=e[0],gs(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=ks(e),n=0;n<t.length;n++)Ts(this,t[n]);Ss(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},Yu.xc=function(e){return On("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},Yu.hb=function(e){var t=this,n=null;return Ms(this,e.f(this.c,this.uid).then(function(e){return xs(t,e),n=Ns(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},Yu.oc=function(e){return On("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},Yu.fb=function(e){var t=this,n=null;return Ms(this,Os(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.c,n)}).then(function(e){return n=Ns(t,e,"link"),Rs(t,e)}).then(function(){return n}))},Yu.pc=function(e,t){var n=this;return Ms(this,Os(this,"phone").then(function(){return Ka(ls(n),e,t,y(n.fb,n))}))},Yu.yc=function(e,t){var n=this;return Ms(this,de().then(function(){return Ka(ls(n),e,t,y(n.hb,n))}),!0)},Yu.rb=function(e){var t=this;return Ms(this,this.F().then(function(n){return t.c.rb(n,e)}).then(function(e){return xs(t,e),t.reload()}))},Yu.Pc=function(e){var t=this;return Ms(this,this.F().then(function(n){return e.b(t.c,n)}).then(function(e){return xs(t,e),t.reload()}))},Yu.sb=function(e){var t=this;return Ms(this,this.F().then(function(n){return t.c.sb(n,e)}).then(function(e){return xs(t,e),t.reload()}))},Yu.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return ws(this);var t=this;return Ms(this,this.F().then(function(n){return t.c.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return xs(t,e),Ss(t,"displayName",e.displayName||null),Ss(t,"photoURL",e.photoUrl||null),uc(t.providerData,function(e){"password"===e.providerId&&(Nn(e,"displayName",t.displayName),Nn(e,"photoURL",t.photoURL))}),ys(t)}).then(bs))},Yu.Nc=function(e){var t=this;return Ms(this,As(this).then(function(n){return N(Es(t),e)?Xi(t.c,n,[e]).then(function(e){var n={};return uc(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),uc(Es(t),function(e){n[e]||_s(t,e)}),n[Pr.PROVIDER_ID]||Nn(t,"phoneNumber",null),ys(t)}):ys(t).then(function(){throw new Un("no-such-provider")})}))},Yu.delete=function(){var e=this;return Ms(this,this.F().then(function(t){return io(e.c,Lf,{idToken:t})}).then(function(){e.dispatchEvent(new os("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");ss(e,null),cs(e,null),e.G=[],e.D=!0,ps(e),Nn(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},Yu.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},Yu.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Yu.xa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?y(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?y(this.Cb,this):"linkViaRedirect"==e&&(this.aa||null)==t?y(this.Bb,this):"reauthViaRedirect"==e&&(this.aa||null)==t?y(this.Cb,this):null},Yu.qc=function(e){var t=this;return Ps(this,"linkViaPopup",e,function(){return Os(t,e.providerId).then(function(){return ys(t)})},!1)},Yu.zc=function(e){return Ps(this,"reauthViaPopup",e,function(){return de()},!0)},Yu.rc=function(e){var t=this;return Ds(this,"linkViaRedirect",e,function(){return Os(t,e.providerId)},!1)},Yu.Ac=function(e){return Ds(this,"reauthViaRedirect",e,function(){return de()},!0)},Yu.Bb=function(e,t,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null,o=this.F().then(function(i){return to(r.c,{requestUri:e,postBody:n,sessionId:t,idToken:i})}).then(function(e){return i=Ns(r,e,"link"),Rs(r,e)}).then(function(){return i});return Ms(this,o)},Yu.Cb=function(e,t,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null,o=de().then(function(){return sr(no(r.c,{requestUri:e,sessionId:t,postBody:n}),r.uid)}).then(function(e){return i=Ns(r,e,"reauthenticate"),xs(r,e),r.i=null,r.reload()}).then(function(){return i});return Ms(this,o,!0)},Yu.kb=function(e){var t=this,n=null;return Ms(this,this.F().then(function(t){return n=t,"undefined"==typeof e||j(e)?{}:Bn(new qn(e))}).then(function(e){return t.c.kb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},Yu.toJSON=function(){return this.w()},Yu.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&F(e,this.metadata.w()),uc(this.providerData,function(t){e.providerData.push(Dn(t))}),e};var Oh={name:"redirectUser",B:"session"};zs.prototype.g=function(){var e=this,t=Gs("local");Js(this,function(){return de().then(function(){return e.c&&"local"!=e.c.B?e.b.get(t,e.a):null}).then(function(n){if(n)return Hs(e,"local").then(function(){e.c=t})})})};var Nh={name:"persistence",B:"session"};zs.prototype.nb=function(e){var t=null,n=this;return Jo(e),Js(this,function(){return e!=n.c.B?n.b.get(n.c,n.a).then(function(r){return t=r,Hs(n,e)}).then(function(){if(n.c=Gs(e),t)return n.b.set(n.c,t,n.a)}):de()})},g(Zs,nt),g(eu,je),g(tu,je),Yu=Zs.prototype,Yu.nb=function(e){return e=this.h.nb(e),yu(this,e)},Yu.pa=function(e){this.W===e||this.l||(this.W=e,ji(this.c,this.W),this.dispatchEvent(new eu(this.ea())))},Yu.ea=function(){return this.W},Yu.Qc=function(){var e=ec.navigator;this.pa(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},Yu.sc=function(e){this.G.push(e),Ui(this.c,Xu.SDK_VERSION?cn(Xu.SDK_VERSION,this.G):null),this.dispatchEvent(new tu(this.G))},Yu.ya=function(){return L(this.G)},Yu.toJSON=function(){return{apiKey:fu(this).options.apiKey,authDomain:fu(this).options.authDomain,appName:fu(this).name,currentUser:hu(this)&&hu(this).w()}},Yu.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},Yu.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Yu.xa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?y(this.Yb,this):null},Yu.Yb=function(e,t,n){var r=this;e={requestUri:e,postBody:n,sessionId:t},this.b&&(this.b.cancel(),this.b=null);var i=null,o=null,a=eo(r.c,e).then(function(e){return i=Lr(e),o=$n(e),e});return e=r.V.then(function(){return a}).then(function(e){return ou(r,e)}).then(function(){return Pn({user:hu(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}),yu(this,e)},Yu.Ic=function(e){if(!pn())return me(new Un("operation-not-supported-in-this-environment"));var t=this,n=Xn(e.providerId),r=wn(),i=null;(!yn()||nn())&&fu(this).options.authDomain&&e.isOAuthProvider&&(i=wo(fu(this).options.authDomain,fu(this).options.apiKey,fu(this).name,"signInViaPopup",e,null,r,Xu.SDK_VERSION||null));var o=$t(i,n&&n.Ba,n&&n.Aa);return n=ru(this).then(function(t){return Ra(t,o,"signInViaPopup",e,r,!!i)}).then(function(){return new fe(function(e,n){t.ha("signInViaPopup",null,new Un("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.b=t.a.Ea(t,"signInViaPopup",o,r)})}).then(function(e){return o&&Xt(o),e?Pn(e):null}).s(function(e){throw o&&Xt(o),e}),yu(this,n)},Yu.Jc=function(e){if(!pn())return me(new Un("operation-not-supported-in-this-environment"));var t=this,n=ru(this).then(function(){return Qs(t.h)}).then(function(){return t.a.Ca("signInViaRedirect",e)});return yu(this,n)},Yu.fa=function(){if(!pn())return me(new Un("operation-not-supported-in-this-environment"));var e=this,t=ru(this).then(function(){return e.a.fa()}).then(function(e){return e?Pn(e):null});return yu(this,t)},Yu.Oc=function(e){if(!e)return me(new Un("null-user"));var t=this,n={};n.apiKey=fu(this).options.apiKey,n.authDomain=fu(this).options.authDomain,n.appName=fu(this).name;var r=qs(e,n,t.A,t.ya());return yu(this,this.i.then(function(){if(fu(t).options.apiKey!=e.l)return r.reload()}).then(function(){return hu(t)&&e.uid==hu(t).uid?(Is(hu(t),e),t.Z(e)):(au(t,r),vs(r),t.Z(r))}).then(function(){du(t)}))},Yu.pb=function(){var e=this,t=this.i.then(function(){return hu(e)?(au(e,null),Xs(e.h).then(function(){du(e)})):de()});return yu(this,t)},Yu.Kc=function(){var e=this;return $s(this.h,fu(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=hu(e)&&t){n=hu(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Is(hu(e),t),hu(e).F();(hu(e)||t)&&(au(e,t),t&&(vs(t),t.ba=e.A),e.a&&e.a.subscribe(e),du(e))}})},Yu.Z=function(e){return Ys(this.h,e)},Yu.Zb=function(){du(this),this.Z(hu(this))},Yu.ic=function(){this.pb()},Yu.jc=function(){this.pb()},Yu.kc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(hu(t))})},Yu.mc=function(e){var t=this;mu(this,function(){e.next(hu(t))})},Yu.uc=function(e,t,n){var r=this;return this.X&&Promise.resolve().then(function(){h(e)?e(hu(r)):h(e.next)&&e.next(hu(r))}),this.Rb(e,t,n)},Yu.tc=function(e,t,n){var r=this;return this.X&&Promise.resolve().then(function(){r.O=r.getUid(),h(e)?e(hu(r)):h(e.next)&&e.next(hu(r))}),this.Sb(e,t,n)},Yu.$b=function(e){var t=this,n=this.i.then(function(){return hu(t)?hu(t).F(e).then(function(e){return{accessToken:e}}):null});return yu(this,n)},Yu.Ec=function(e){var t=this;return this.i.then(function(){return lu(t,io(t.c,Zf,{token:e}))}).then(function(e){var n=e.user;return Ss(n,"isAnonymous",!1),t.Z(n),e})},Yu.Fc=function(e,t){var n=this;return this.i.then(function(){return lu(n,io(n.c,eh,{email:e,password:t}))})},Yu.Ub=function(e,t){var n=this;return this.i.then(function(){return lu(n,io(n.c,Pf,{email:e,password:t}))})},Yu.Ra=function(e){var t=this;return this.i.then(function(){return lu(t,e.la(t.c))})},Yu.Dc=function(e){return On("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},Yu.ob=function(){var e=this;return this.i.then(function(){var t=hu(e);if(t&&t.isAnonymous){var n=Pn({providerId:null,isNewUser:!1});return Pn({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return lu(e,e.c.ob()).then(function(t){var n=t.user;return Ss(n,"isAnonymous",!0),e.Z(n),t})})},Yu.getUid=function(){return hu(this)&&hu(this).uid||null},Yu.Tb=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&hu(this)&&hs(hu(this))},Yu.Bc=function(e){var t=this;uc(this.o,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&hu(this)&&ps(hu(this)),this.removeAuthTokenListener(e)},Yu.addAuthTokenListener=function(e){var t=this;this.o.push(e),yu(this,this.i.then(function(){t.l||N(t.o,e)&&e(pu(t))}))},Yu.removeAuthTokenListener=function(e){P(this.o,function(t){return t==e})},Yu.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h,e.b.removeListener(Gs("local"),e.a,this.ka)),this.a&&(this.a.unsubscribe(this),this.a.Za()),Promise.resolve()},Yu.Xb=function(e){return yu(this,Hi(this.c,e))},Yu.nc=function(e){return!!kr(e)},Yu.mb=function(e,t){var n=this;return yu(this,de().then(function(){var e=new qn(t);if(!e.c)throw new Un("argument-error",Wl+" must be true when sending sign in link to email");return Bn(e)}).then(function(t){return n.c.mb(e,t)}).then(function(){}))},Yu.Rc=function(e){return this.Ka(e).then(function(e){return e.data.email})},Yu.$a=function(e,t){return yu(this,this.c.$a(e,t).then(function(){}))},Yu.Ka=function(e){return yu(this,this.c.Ka(e).then(function(e){return new jn(e)}))},Yu.Xa=function(e){return yu(this,this.c.Xa(e).then(function(){}))},Yu.lb=function(e,t){var n=this;return yu(this,de().then(function(){return"undefined"==typeof t||j(t)?{}:Bn(new qn(t))}).then(function(t){return n.c.lb(e,t)}).then(function(){}))},Yu.Hc=function(e,t){return yu(this,Ka(this,e,t,y(this.Ra,this)))},Yu.Gc=function(e,t){var n=this;return yu(this,de().then(function(){var r=Cr(e,t||Ht());return n.Ra(r)}))},vu.prototype.render=function(){},vu.prototype.reset=function(){},vu.prototype.getResponse=function(){},vu.prototype.execute=function(){};var Rh=null;gu.prototype.render=function(e,t){return this.a[this.b.toString()]=new Eu(e,t),this.b++},gu.prototype.reset=function(e){var t=bu(this,e);e=wu(e),t&&e&&(t.delete(),delete this.a[e])},gu.prototype.getResponse=function(e){return(e=bu(this,e))?e.getResponse():null},gu.prototype.execute=function(e){(e=bu(this,e))&&e.execute()},Eu.prototype.getResponse=function(){return Tu(this),this.b},Eu.prototype.execute=function(){Tu(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=sn();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},Eu.prototype.delete=function(){Tu(this),this.g=!0,clearTimeout(this.a),this.a=null,Qe(this.f,"click",this.i)},_u.prototype.g=function(){return Rh||(Rh=new gu),de(Rh)},_u.prototype.c=function(){};var Ph=null,Dh=new q(pc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Lh=new _n(3e4,6e4);Su.prototype.g=function(e){var t=this;return new fe(function(n,r){var i=setTimeout(function(){r(new Un("network-request-failed"))},Lh.get());if(!ec.grecaptcha||e!==t.f&&!t.b){ec[t.a]=function(){if(ec.grecaptcha){t.f=e;var o=ec.grecaptcha.render;ec.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(ec.grecaptcha)}else clearTimeout(i),r(new Un("internal-error"));delete ec[t.a]};var o=z(Dh,{onload:t.a,hl:e||""});de(Oi(o)).s(function(){clearTimeout(i),r(new Un("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n(ec.grecaptcha)})},Su.prototype.c=function(){this.b--};var Mh=null,jh="callback",Uh="expired-callback",Fh="sitekey",qh="size";Yu=Iu.prototype,Yu.za=function(){var e=this;return this.f?this.f:this.f=Cu(this,de().then(function(){if(dn()&&!rn())return Zt();throw new Un("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.o.g(e.v())}).then(function(t){return e.g=t,io(e.u,zf,{})}).then(function(t){e.a[Fh]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},Yu.render=function(){ku(this);var e=this;return Cu(this,this.za().then(function(){if(null===e.c){var t=e.l;if(!e.i){var n=Lt(t);t=jt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},Yu.verify=function(){ku(this);var e=this;return Cu(this,this.render().then(function(t){return new fe(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(xu(e,i),n(t))};e.m.push(i),e.i&&e.g.execute(e.c)}})}))},Yu.reset=function(){ku(this),null!==this.c&&this.g.reset(this.c)},Yu.clear=function(){ku(this),this.D=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Lt(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}},g(Ou,Iu);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");zu(Zs.prototype,{Xa:{name:"applyActionCode",j:[Ru("code")]},Ka:{name:"checkActionCode",j:[Ru("code")]},$a:{name:"confirmPasswordReset",j:[Ru("code"),Ru("newPassword")]},Ub:{name:"createUserWithEmailAndPassword",j:[Ru("email"),Ru("password")]},Xb:{name:"fetchSignInMethodsForEmail",j:[Ru("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[Ru("emailLink")]},tc:{name:"onAuthStateChanged",
j:[Wu(Du(),Lu(),"nextOrObserver"),Lu("opt_error",!0),Lu("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[Wu(Du(),Lu(),"nextOrObserver"),Lu("opt_error",!0),Lu("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Ru("email"),Wu(Du("opt_actionCodeSettings",!0),Mu(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Ru("email"),Du("actionCodeSettings")]},nb:{name:"setPersistence",j:[Ru("persistence")]},Dc:{name:"signInAndRetrieveDataWithCredential",j:[qu()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[qu()]},Ec:{name:"signInWithCustomToken",j:[Ru("token")]},Fc:{name:"signInWithEmailAndPassword",j:[Ru("email"),Ru("password")]},Gc:{name:"signInWithEmailLink",j:[Ru("email"),Ru("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[Ru("phoneNumber"),Vu()]},Ic:{name:"signInWithPopup",j:[Bu()]},Jc:{name:"signInWithRedirect",j:[Bu()]},Oc:{name:"updateCurrentUser",j:[Wu(function(e){return{name:"user",K:"an instance of Firebase User",optional:!!e,M:function(e){return!!(e&&e instanceof as)}}}(),Mu(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ru(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[Ru("code")]}}),Hu(Zs.prototype,{lc:{name:"languageCode",vb:Wu(Ru(),Mu(),"languageCode")}}),Zs.Persistence=yh,Zs.Persistence.LOCAL="local",Zs.Persistence.SESSION="session",Zs.Persistence.NONE="none",zu(as.prototype,{delete:{name:"delete",j:[]},ac:{name:"getIdTokenResult",j:[Pu("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[Pu("opt_forceRefresh",!0)]},oc:{name:"linkAndRetrieveDataWithCredential",j:[qu()]},fb:{name:"linkWithCredential",j:[qu()]},pc:{name:"linkWithPhoneNumber",j:[Ru("phoneNumber"),Vu()]},qc:{name:"linkWithPopup",j:[Bu()]},rc:{name:"linkWithRedirect",j:[Bu()]},xc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qu()]},hb:{name:"reauthenticateWithCredential",j:[qu()]},yc:{name:"reauthenticateWithPhoneNumber",j:[Ru("phoneNumber"),Vu()]},zc:{name:"reauthenticateWithPopup",j:[Bu()]},Ac:{name:"reauthenticateWithRedirect",j:[Bu()]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Wu(Du("opt_actionCodeSettings",!0),Mu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ru(null,!0)]},Nc:{name:"unlink",j:[Ru("provider")]},rb:{name:"updateEmail",j:[Ru("email")]},sb:{name:"updatePassword",j:[Ru("password")]},Pc:{name:"updatePhoneNumber",j:[qu("phone")]},tb:{name:"updateProfile",j:[Du("profile")]}}),zu(gu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zu(vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zu(fe.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Hu(za.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:Pu("appVerificationDisabledForTesting")}}),zu(Ha.prototype,{confirm:{name:"confirm",j:[Ru("verificationCode")]}}),Ku(ar,"fromJSON",function(e){e=o(e)?JSON.parse(e):e;for(var t,n=[pr,Ar,Nr,lr],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Wu(Ru(),Du(),"json")]),Ku(xr,"credential",function(e,t){return new Ir(e,t)},[Ru("email"),Ru("password")]),zu(Ir.prototype,{w:{name:"toJSON",j:[Ru(null,!0)]}}),zu(vr.prototype,{ua:{name:"addScope",j:[Ru("scope")]},Da:{name:"setCustomParameters",j:[Du("customOAuthParameters")]}}),Ku(vr,"credential",gr,[Wu(Ru(),Du(),"token")]),Ku(xr,"credentialWithLink",Cr,[Ru("email"),Ru("emailLink")]),zu(br.prototype,{ua:{name:"addScope",j:[Ru("scope")]},Da:{name:"setCustomParameters",j:[Du("customOAuthParameters")]}}),Ku(br,"credential",wr,[Wu(Ru(),Du(),"token")]),zu(Er.prototype,{ua:{name:"addScope",j:[Ru("scope")]},Da:{name:"setCustomParameters",j:[Du("customOAuthParameters")]}}),Ku(Er,"credential",Tr,[Wu(Ru(),Wu(Du(),Mu()),"idToken"),Wu(Ru(),Mu(),"accessToken",!0)]),zu(_r.prototype,{Da:{name:"setCustomParameters",j:[Du("customOAuthParameters")]}}),Ku(_r,"credential",Sr,[Wu(Ru(),Du(),"token"),Ru("secret",!0)]),zu(yr.prototype,{ua:{name:"addScope",j:[Ru("scope")]},credential:{name:"credential",j:[Wu(Ru(),Wu(Du(),Mu()),"optionsOrIdToken"),Wu(Ru(),Mu(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Du("customOAuthParameters")]}}),zu(fr.prototype,{w:{name:"toJSON",j:[Ru(null,!0)]}}),zu(ur.prototype,{w:{name:"toJSON",j:[Ru(null,!0)]}}),Ku(Pr,"credential",Dr,[Ru("verificationId"),Ru("verificationCode")]),zu(Pr.prototype,{Va:{name:"verifyPhoneNumber",j:[Ru("phoneNumber"),Vu()]}}),zu(Or.prototype,{w:{name:"toJSON",j:[Ru(null,!0)]}}),zu(Un.prototype,{toJSON:{name:"toJSON",j:[Ru(null,!0)]}}),zu(Br.prototype,{toJSON:{name:"toJSON",j:[Ru(null,!0)]}}),zu(qr.prototype,{toJSON:{name:"toJSON",j:[Ru(null,!0)]}}),zu(Ou.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"==typeof Xu||!Xu.INTERNAL||!Xu.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Zs,AuthCredential:ar,Error:Un};Ku(e,"EmailAuthProvider",xr,[]),Ku(e,"FacebookAuthProvider",vr,[]),Ku(e,"GithubAuthProvider",br,[]),Ku(e,"GoogleAuthProvider",Er,[]),Ku(e,"TwitterAuthProvider",_r,[]),Ku(e,"OAuthProvider",yr,[Ru("providerId")]),Ku(e,"SAMLAuthProvider",mr,[Ru("providerId")]),Ku(e,"PhoneAuthProvider",Pr,[Uu()]),Ku(e,"RecaptchaVerifier",Ou,[Wu(Ru(),ju(),"recaptchaContainer"),Du("recaptchaParameters",!0),Fu()]),Xu.INTERNAL.registerService("auth",function(e,t){return e=new Zs(e),t({INTERNAL:{getUid:y(e.getUid,e),getToken:y(e.$b,e),addAuthTokenListener:y(e.Tb,e),removeAuthTokenListener:y(e.Bc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),Xu.INTERNAL.extendNamespace({User:as})}()}).apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(){return Mt.logLevel===Nt.LogLevel.DEBUG?kt.DEBUG:Mt.logLevel===Nt.LogLevel.SILENT?kt.SILENT:kt.ERROR}function o(e){switch(e){case kt.DEBUG:Mt.logLevel=Nt.LogLevel.DEBUG;break;case kt.ERROR:Mt.logLevel=Nt.LogLevel.ERROR;break;case kt.SILENT:Mt.logLevel=Nt.LogLevel.SILENT;break;default:Mt.error("Firestore ("+Lt+"): Invalid value passed to `setLogLevel`")}}function a(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Mt.logLevel<=Nt.LogLevel.DEBUG){var i=n.map(u);Mt.debug.apply(Mt,["Firestore ("+Lt+") ["+e+"]: "+t].concat(i))}}function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Mt.logLevel<=Nt.LogLevel.ERROR){var r=t.map(u);Mt.error.apply(Mt,["Firestore ("+Lt+"): "+e].concat(r))}}function u(e){if("string"==typeof e)return e;var t=Ut.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function c(e){var t="FIRESTORE ("+Lt+") INTERNAL ASSERTION FAILED: "+e;throw s(t),new Error(t)}function l(e,t){e||c(t)}function f(){return Ut.getPlatform().emptyByteString}function h(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new qt(Ft.INVALID_ARGUMENT,e)}n.prototype=e.prototype;for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){return void 0!==e?e:t}function m(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function y(e){var t=[];return v(e,function(e,n){return t.push(n)}),t}function v(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function g(e){l(null!=e&&"object"==typeof e,"isEmpty() expects object parameter.");for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function b(e){l(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function w(e,t){if(0!==t.length)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+V(t.length,"argument")+".")}function E(e,t,n){if(t.length!==n)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires "+V(n,"argument")+", but was called with "+V(t.length,"argument")+".")}function T(e,t,n){if(t.length<n)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires at least "+V(n,"argument")+", but was called with "+V(t.length,"argument")+".")}function _(e,t,n,r){if(t.length<n||t.length>r)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+(r+" arguments, but was called with ")+V(t.length,"argument")+".")}function S(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+(V(r,"element")+"."))}function I(e,t,n,r){D(e,t,B(n)+" argument",r)}function A(e,t,n,r){void 0!==r&&I(e,t,n,r)}function x(e,t,n,r){D(e,t,n+" option",r)}function C(e,t,n,r){void 0!==r&&x(e,t,n,r)}function k(e,t,n,r,i){if(!(r instanceof Array))throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+M(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" "+("elements to be "+n+", but the value at index "+o+" ")+("was: "+M(r[o])))}function O(e,t,n,r,i){void 0!==r&&k(e,t,n,r,i)}function N(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(M(u))}var c=M(r);throw new qt(Ft.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+"() for option "+('"'+n+'". Acceptable values: '+o.join(", ")))}function R(e,t,n,r,i){void 0!==r&&N(e,t,n,r,i)}function P(e,t,n,r){if(!t.some(function(e){return e===r}))throw new qt(Ft.INVALID_ARGUMENT,"Invalid value "+M(r)+" provided to function "+(e+"() for its "+B(n)+" argument. Acceptable ")+("values: "+t.join(", ")))}function D(e,t,n,r){var i=!1;if(i="object"===t?L(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t,!i){var o=M(r);throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" "+("to be of type "+t+", but it was: "+o))}}function L(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function M(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=j(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":c("Unknown wrong type: "+typeof e)}function j(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/,n=t.exec(e.constructor.toString());if(n&&n.length>1)return n[1]}return null}function U(e,t,n){if(void 0===n)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+B(t)+" argument, but it was undefined.")}function F(e,t,n){v(t,function(t,r){if(n.indexOf(t)<0)throw new qt(Ft.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function q(e,t,n,r){var i=M(r);return new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() requires its "+B(n)+" "+("argument to be a "+t+", but it was: "+i))}function B(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function V(e,t){return e+" "+t+(1===e?"":"s")}function W(e,t){return e<t?-1:e>t?1:0}function z(e,t){return null!==e&&void 0!==e?!(!t||!e.isEqual(t)):e===t}function H(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function K(e){return e+"\0"}function G(){if("undefined"==typeof Uint8Array)throw new qt(Ft.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Q(){if(!Ut.getPlatform().base64Available)throw new qt(Ft.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function Y(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$(t)),t=X(e.get(n),t);return $(t)}function X(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=rn+an;break;case rn:n+=rn+sn;break;default:n+=o}}return n}function $(e){return e+rn+on}function J(e){var t=e.length;if(l(t>=2,"Invalid path "+e),2===t)return l(e.charAt(0)===rn&&e.charAt(1)===on,"Non-empty path "+e+" had length 2"),Xt.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(rn,o);(a<0||a>n)&&c('Invalid encoded resource path: "'+e+'"');var s=e.charAt(a+1);switch(s){case on:var u=e.substring(o,a),f=void 0;0===i.length?f=u:(i+=u,f=i,i=""),r.push(f);break;case an:i+=e.substring(o,a),i+="\0";break;case sn:i+=e.substring(o,a+1);break;default:c('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Xt(r)}function Z(){return vn}function ee(){return Z()}function te(){return gn}function ne(){return bn}function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=wn,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function ie(){return En}function oe(e,t,n){var r=er.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return le(e).iterate({range:o,keysOnly:!0},function(e,n,r){var o=e[0],s=e[1];e[2];o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function ae(e,t){var n=!1;return fe(e).iterateSerial(function(r){return oe(e,r,t).next(function(e){return e&&(n=!0),In.resolve(!e)})}).next(function(){return n})}function se(e,t,n){var r=e.store(Zn.store),i=e.store(er.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){l(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],f=0,h=n.mutations;f<h.length;f++){var p=h[f],d=er.key(t,p.key.path,n.batchId);o.push(i.delete(d)),c.push(p.key)}return In.waitFor(o).next(function(){return c})}function ue(e){return e instanceof Uint8Array?(l("YES"==={NODE_ENV:"production",PUBLIC_URL:""}.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function ce(e){return Ur.getStore(e,Zn.store)}function le(e){return Ur.getStore(e,er.store)}function fe(e){return Ur.getStore(e,Jn.store)}function he(e){return new In(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pe(e.target.error);n(t)}})}function pe(e){var t=Nn.getIOSVersion(Pt.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new qt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ln||(Ln=!0,setTimeout(function(){throw r},0)),r}}return e}function de(e){return Ur.getStore(e,or.store)}function me(e){return Ur.getStore(e,sr.store)}function ye(e){var t=Nn.getStore(e,sr.store);return t.get(sr.key).next(function(e){return l(null!==e,"Missing metadata row."),e})}function ve(e){return ye(e).next(function(e){return e.highestListenSequenceNumber})}function ge(e){return Ur.getStore(e,ar.store)}function be(e){return Ur.getStore(e,ir.store)}function we(e){return e.code===Ft.DATA_LOSS&&e.message===Wn}function Ee(e){return Ur.getStore(e,rr.store)}function Te(e){return Ur.getStore(e,cr.store)}function _e(e){return e.path.toArray()}function Se(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw c("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}function Ie(e){return[0,Y(e)]}function Ae(e){e.createObjectStore($n.store)}function xe(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath});var t=e.createObjectStore(Zn.store,{keyPath:Zn.keyPath,autoIncrement:!0});t.createIndex(Zn.userMutationsIndex,Zn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(er.store)}function Ce(e,t){var n=t.store(Zn.store);return n.loadAll().next(function(n){e.deleteObjectStore(Zn.store);var r=e.createObjectStore(Zn.store,{keyPath:Zn.keyPath,autoIncrement:!0});r.createIndex(Zn.userMutationsIndex,Zn.userMutationsKeyPath,{unique:!0});var i=t.store(Zn.store),o=n.map(function(e){return i.put(e)});return In.waitFor(o)})}function ke(e){e.createObjectStore(rr.store)}function Oe(e){e.createObjectStore(ir.store)}function Ne(e){var t=e.createObjectStore(ar.store,{keyPath:ar.keyPath});t.createIndex(ar.documentTargetsIndex,ar.documentTargetsKeyPath,{unique:!0});var n=e.createObjectStore(or.store,{keyPath:or.keyPath});n.createIndex(or.queryTargetsIndexName,or.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(sr.store)}function Re(e){e.deleteObjectStore(ar.store),e.deleteObjectStore(or.store),e.deleteObjectStore(sr.store)}function Pe(e){var t=e.store(sr.store),n=new sr(0,0,cn.MIN.toTimestamp(),0);return t.put(sr.key,n)}function De(e){e.createObjectStore(cr.store,{keyPath:"id",autoIncrement:!0})}function Le(e){e.createObjectStore(lr.store,{keyPath:lr.keyPath})}function Me(e){return Ur.getStore(e,ur.store)}function je(e){return void 0!==e.documents}function Ue(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=W(n,i);return 0===a?W(r,o):a}function Fe(e){return e.code===Ft.FAILED_PRECONDITION&&e.message===Pr}function qe(e){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(t){if(!Fe(e))throw e;return a(kr,"Unexpectedly lost primary lease"),[2]})})}function Be(e){return e.store($n.store)}function Ve(e){return e.store(lr.store)}function We(e){return[0,Y(e.path)]}function ze(e,t){return new ar(0,Y(e.path),t)}function He(e,t){return ge(e).put(ze(t,e.currentSequenceNumber))}function Ke(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}function Ge(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function Qe(){return new ln(Zt.comparator)}function Ye(e){return null===e||void 0===e}function Xe(e){return Oi(e)&&e<=ki&&e>=Ci}function $e(e){switch(e){case Ft.OK:return c("Treated status OK as error");case Ft.CANCELLED:case Ft.UNKNOWN:case Ft.DEADLINE_EXCEEDED:case Ft.RESOURCE_EXHAUSTED:case Ft.INTERNAL:case Ft.UNAVAILABLE:case Ft.UNAUTHENTICATED:return!1;case Ft.INVALID_ARGUMENT:case Ft.NOT_FOUND:case Ft.ALREADY_EXISTS:case Ft.PERMISSION_DENIED:case Ft.FAILED_PRECONDITION:case Ft.ABORTED:case Ft.OUT_OF_RANGE:case Ft.UNIMPLEMENTED:case Ft.DATA_LOSS:return!0;default:return c("Unknown status code: "+e)}}function Je(e){return $e(e)&&e!==Ft.ABORTED}function Ze(e){var t=Hi[e];if(void 0!==t)return et(t)}function et(e){if(void 0===e)return s("GRPC error has no .code"),Ft.UNKNOWN;switch(e){case Hi.OK:return Ft.OK;case Hi.CANCELLED:return Ft.CANCELLED;case Hi.UNKNOWN:return Ft.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return Ft.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return Ft.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return Ft.INTERNAL;case Hi.UNAVAILABLE:return Ft.UNAVAILABLE;case Hi.UNAUTHENTICATED:return Ft.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return Ft.INVALID_ARGUMENT;case Hi.NOT_FOUND:return Ft.NOT_FOUND;case Hi.ALREADY_EXISTS:return Ft.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return Ft.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return Ft.FAILED_PRECONDITION;case Hi.ABORTED:return Ft.ABORTED;case Hi.OUT_OF_RANGE:return Ft.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return Ft.UNIMPLEMENTED;case Hi.DATA_LOSS:return Ft.DATA_LOSS;default:return c("Unknown status code: "+e)}}function tt(e){if(void 0===e)return Hi.OK;switch(e){case Ft.OK:return Hi.OK;case Ft.CANCELLED:return Hi.CANCELLED;case Ft.UNKNOWN:return Hi.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Hi.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Hi.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Hi.INTERNAL;case Ft.UNAVAILABLE:return Hi.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Hi.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Hi.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Hi.NOT_FOUND;case Ft.ALREADY_EXISTS:return Hi.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Hi.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Hi.FAILED_PRECONDITION;case Ft.ABORTED:return Hi.ABORTED;case Ft.OUT_OF_RANGE:return Hi.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Hi.UNIMPLEMENTED;case Ft.DATA_LOSS:return Hi.DATA_LOSS;default:return c("Unknown status code: "+e)}}function nt(e){var t=e.toLowerCase().replace("_","-");return Object.values(Ft).indexOf(t)>=0?t:Ft.UNKNOWN}function rt(){return new ln(Zt.comparator)}function it(){return new ln(Zt.comparator)}function ot(e){return e instanceof ni?e.internalValue.slice():[]}function at(e,t){l(!Ye(e),t+" is missing")}function st(e){return"number"==typeof e?e:"string"==typeof e?Number(e):c("can't parse "+e)}function ut(e,t){var n=function(e){switch(e){case Xi.Added:return 1;case Xi.Modified:return 2;case Xi.Metadata:return 2;case Xi.Removed:return 0;default:return c("Unknown ChangeType: "+e)}};return n(e)-n(t)}function ct(e){var t=Gt.INVALID;if(null!=e)try{var n=JSON.parse(e);l("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){s(Xo,"Failed to read sequence number from WebStorage",e)}return t}function lt(e){var t=e.search(ga);if(t>=0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(va.bind.apply(va,[void 0].concat(e.split("."))))}catch(t){throw new qt(Ft.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}function ft(e){if(!e)return new wa;switch(e.type){case"gapi":var t=e.client;return l(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new _a(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new qt(Ft.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function ht(e){return pt(e,["next","error","complete"])}function pt(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}function dt(e){switch(e){case ao.Set:case ao.MergeSet:case ao.Update:return!0;case ao.Argument:return!1;default:throw c("Unexpected case for UserDataSource: "+e)}}function mt(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof un||e instanceof po||e instanceof Vt||e instanceof La||e instanceof Sa)}function yt(e,t,n){if(!mt(n)||!L(n)){var r=M(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function vt(e,t){if(t instanceof va)return t._internalPath;if("string"==typeof t)return gt(e,t);var n="Field path arguments must be of type string or FieldPath.";throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}function gt(e,t){try{return lt(t)._internalPath}catch(t){var n=bt(t);throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function bt(e){return e instanceof Error?e.message:e.toString()}function wt(){throw new qt(Ft.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}function Et(e,t){if(void 0===t)return{merge:!1};if(F(e,t,["merge","mergeFields"]),C(e,"boolean","merge",t.merge),O(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"==typeof e||e instanceof va}),void 0!==t.mergeFields&&void 0!==t.merge)throw new qt(Ft.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Tt(e,t){return void 0===t?{}:(F(e,t,["serverTimestamps"]),R(e,"options","serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function _t(e,t){A(e,"object",1,t),t&&(F(e,t,["source"]),R(e,"options","source",t.source,["default","server","cache"]))}function St(e,t,n){if(t instanceof Qa){if(t.firestore!==n)throw new qt(Ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw q(e,"DocumentReference",1,t)}function It(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var o=new $a(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return l(t.type===Xi.Added,"Invalid event type for first snapshot"),l(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==Xi.Metadata}).map(function(t){var r=new $a(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==Xi.Added&&(i=o.indexOf(t.doc.key),l(i>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Xi.Removed&&(o=o.add(t.doc),a=o.indexOf(t.doc.key)),{type:At(t.type),doc:r,oldIndex:i,newIndex:a}})}function At(e){switch(e){case Xi.Added:return"added";case Xi.Modified:case Xi.Metadata:return"modified";case Xi.Removed:return"removed";default:return c("Unknown change type: "+e)}}function xt(e){e.INTERNAL.registerService("firestore",function(e){return new Ha(e)},b(fs))}function Ct(e){xt(e)}Object.defineProperty(t,"__esModule",{value:!0});var kt,Ot=r(n(47)),Nt=n(119),Rt=n(74),Pt=n(120),Dt=n(206),Lt=Ot.SDK_VERSION,Mt=new Nt.Logger("@firebase/firestore");!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(kt||(kt={}));var jt,Ut=function(){function e(){}return e.setPlatform=function(t){e.platform&&c("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||c("Platform not set"),e.platform},e}(),Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Rt.__extends(t,e),t}(Error),Bt=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return l(20===t.length,"Invalid auto ID: "+t),t},e}(),Vt=function(){function e(e){Q(),this._binaryString=e}return e.fromBase64String=function(t){E("Blob.fromBase64String",arguments,1),I("Blob.fromBase64String","string",1,t),Q();try{var n=Ut.getPlatform().atob(t);return new e(n)}catch(e){throw new qt(Ft.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},e.fromUint8Array=function(t){if(E("Blob.fromUint8Array",arguments,1),G(),!(t instanceof Uint8Array))throw q("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join("");return new e(n)},e.prototype.toBase64=function(){return E("Blob.toBase64",arguments,0),Q(),Ut.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){E("Blob.toUint8Array",arguments,0),G();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return W(this._binaryString,e._binaryString)},e}(),Wt=h(Vt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),zt=function(){function e(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i}return e}(),Ht="(default)",Kt=function(){function e(e,t){this.projectId=e,this.database=t?t:Ht}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===Ht},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return W(this.projectId,e.projectId)||W(this.database,e.database)},e}(),Gt=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),Qt="__name__",Yt=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&c("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&c("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):c("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,l(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return l(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return l(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return l(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");var n=e.split("/").filter(function(e){return e.length>0});return new t(n)},t.EMPTY_PATH=new t([]),t}(Yt),$t=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.isValidIdentifier=function(e){return $t.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Qt},t.keyField=function(){return new t([Qt])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){
if(0===r.length)throw new qt(Ft.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new qt(Ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qt(Ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new qt(Ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(Yt),Zt=function(){function e(t){this.path=t,l(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Xt.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Xt.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2===0},e.fromSegments=function(t){return new e(new Xt(t.slice()))},e.fromPathString=function(t){return new e(Xt.fromString(t))},e.EMPTY=new e(new Xt([])),e}(),en=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e}();!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection"}(jt||(jt={}));var tn=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=Date.now()+r,s=new e(t,n,a,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qt(Ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),nn=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw s("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),l(t>=0,"Attempted to schedule an operation with a negative delay of "+t),l(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var i=tn.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&c("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){l(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){var r=n[t];if(r.timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){l(e===jt.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==jt.All&&i.timerId===e)break}return t.drain()})},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);l(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),rn="",on="",an="",sn="",un=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qt(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qt(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qt(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qt(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3),r=1e6*(t-1e3*n);return new e(n,r)},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),cn=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6),r=t%1e6*1e3;return new e(new un(n,r))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new un(0,0)),e}(),ln=function(){function e(e,t){this.comparator=e,this.root=t?t:hn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hn.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new fn(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new fn(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new fn(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new fn(this.root,e,this.comparator,!0)},e}(),fn=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){l(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),hn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw c("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw c("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw c("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),pn=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new hn(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();hn.EMPTY=new pn;var dn,mn=function(){function e(e){this.comparator=e,this.data=new ln(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){var r=n.getNext(),i=e(r.key);if(!i)return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new yn(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new yn(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),yn=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),vn=new ln(Zt.comparator),gn=new ln(Zt.comparator),bn=new ln(Zt.comparator),wn=new mn(Zt.comparator),En=new mn(W),Tn=-1,_n=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,l(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&l(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;l(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&l(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=i.applyToLocalView(t,t,this.localWriteTime))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var i=s[a];i.key.isEqual(e)&&(t=i.applyToLocalView(t,o,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))}),n},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},re())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&H(this.mutations,e.mutations)&&H(this.baseMutations,e.baseMutations)},e}(),Sn=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){l(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=ne(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),In=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&c("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++){var a=o[i];r(a)}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),An=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){l(""!==t.uid,"UserID must not be an empty string.");var o=t.isAuthenticated()?t.uid:"";return new e(o,n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ce(e).iterate({index:Zn.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=ue(n),fe(e).put(t)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=ue(t),fe(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=le(e),a=ce(e);return a.add({}).next(function(s){l("number"==typeof s,"Auto-generated key is not a number");var u=new _n(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var f=[],h=0,p=r;h<p.length;h++){var d=p[h],m=er.key(i.userId,d.key.path,s);f.push(a.put(c)),f.push(o.put(m,er.PLACEHOLDER)),f.push(i.indexManager.addToCollectionParentIndex(e,d.key.path.popLast()))}return In.waitFor(f).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return ce(e).get(t).next(function(e){return e?(l(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?In.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ce(e).iterate({index:Zn.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(l(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()}).next(function(){return o})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,Tn],[this.userId,Number.POSITIVE_INFINITY]);return ce(e).loadAll(Zn.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=er.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return le(e).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],f=r[2],h=J(u);return s===n.userId&&t.path.isEqual(h)?ce(e).get(f).next(function(e){if(!e)throw c("Dangling document-mutation reference found: "+r+" which points to "+f);l(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+f),o.push(n.serializer.fromDbMutationBatch(e))}):void a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new mn(W),i=[];return t.forEach(function(t){var o=er.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=le(e).iterate({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=J(s);return a===n.userId&&t.path.isEqual(c)?void(r=r.add(u)):void o.done()});i.push(s)}),In.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;l(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),l(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=er.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new mn(W);return le(e).iterate({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=J(u);return a===n.userId&&r.isPrefixOf(l)?void(l.length===i&&(s=s.add(c))):void o.done()}).next(function(){return n.lookupMutationBatches(e,s)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ce(e).get(t).next(function(e){if(null===e)throw c("Dangling document-mutation reference found, which points to "+t);l(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),In.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return se(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),In.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return In.resolve();var r=IDBKeyRange.lowerBound(er.prefixForUser(t.userId)),i=[];return le(e).iterate({range:r},function(e,n,r){var o=e[0];if(o!==t.userId)return void r.done();var a=J(e[1]);i.push(a)}).next(function(){l(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return oe(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return fe(e).get(this.userId).next(function(e){return e||new Jn(t.userId,Tn,"")})},e}(),xn=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(dn||(dn={}));var Cn,kn=function(){function e(e,t){this.generatorId=e,l((e&xn)===e,"Generator ID "+e+" contains more than "+xn+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<xn,e},e.prototype.after=function(e){return this.seek(e+(1<<xn)),this.next()},e.prototype.seek=function(e){l((e&xn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){var t=new e(dn.QueryCache,2);return t},e.forSyncEngine=function(){return new e(dn.SyncEngine)},e}(),On="SimpleDb",Nn=function(){function e(t){this.db=t;var n=e.getIOSVersion(Pt.getUA());12.2===n&&s("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return l(e.isAvailable(),"IndexedDB not supported in current environment."),a(On,"Opening database:",t),new In(function(i,o){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;i(new e(n))},s.onblocked=function(){o(new qt(Ft.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new qt(Ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},s.onupgradeneeded=function(e){a(On,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new Pn(s.transaction);r.createOrUpgrade(n,i,e.oldVersion,Qn).next(function(){a(On,"Database upgrade to version "+Qn+" complete")})}}).toPromise()},e.delete=function(e){return a(On,"Removing database:",e),he(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"==={NODE_ENV:"production",PUBLIC_URL:""}.USE_MOCK_PERSISTENCE;var t=Pt.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=Pn.open(this.db,e,t),i=n(r).catch(function(e){return r.abort(e),In.reject(e)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},e.prototype.close=function(){this.db.close()},e}(),Rn=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return he(this.dbCursor.delete())},e}(),Pn=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new en,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=pe(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(a(On,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return l(!!t,"Object store not part of transaction: "+e),new Dn(t)},e}(),Dn=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(a(On,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(a(On,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),he(n)},e.prototype.add=function(e){a(On,"ADD",this.store.name,e,e);var t=this.store.add(e);return he(t)},e.prototype.get=function(e){var t=this,n=this.store.get(e);return he(n).next(function(n){return void 0===n&&(n=null),a(On,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){a(On,"DELETE",this.store.name,e);var t=this.store.delete(e);return he(t)},e.prototype.count=function(){a(On,"COUNT",this.store.name);var e=this.store.count();return he(e)},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){a(On,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new In(function(n,r){t.onerror=function(e){var t=pe(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;return r?void e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):void n()}})},e.prototype.iterateCursor=function(e,t){var n=[];return new In(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(!i)return void r();var o=new Rn(i),a=t(i.primaryKey,i.value,o);if(a instanceof In){var s=a.catch(function(e){return o.done(),In.reject(e)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}}).next(function(){return In.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(l(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}(),Ln=!1,Mn=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=kn.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),
t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return cn.fromTimestamp(new un(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return ve(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return de(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return l(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return de(e).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))}).next(function(){return In.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){var n=this;return de(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},e.prototype.retrieveMetadata=function(e){return ye(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return me(e).put(sr.key,t)},e.prototype.saveQueryData=function(e,t){return de(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return de(e).iterate({range:i,index:or.queryTargetsIndexName},function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ge(e);return t.forEach(function(t){var a=Y(t.path);i.push(o.put(new ar(n,a))),i.push(r.referenceDelegate.addReference(e,t))}),In.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ge(e);return In.forEach(t,function(t){var o=Y(t.path);return In.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ge(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ge(e),i=re();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=J(e[1]),o=new Zt(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=Y(t.path),r=IDBKeyRange.bound([n],[K(n)],!1,!0),i=0;return ge(e).iterate({index:ar.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return de(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}(),jn=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return Zt.comparator(e.key,t.key)},e}(),Un=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return Rt.__extends(t,e),t.prototype.field=function(e){return this.data.field(e)},t.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", "+("{hasLocalMutations: "+this.hasLocalMutations+"}), ")+("{hasCommittedMutations: "+this.hasCommittedMutations+"})")},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):c("Trying to compare documents on fields that don't exist")},t}(jn),Fn=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Rt.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(jn),qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(jn),Bn=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return void(this.inner[n]=[[e,t]]);for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){v(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return g(this.inner)},e}(),Vn=function(){function e(){this.changes=Z(),this.documentSizes=new Bn(function(e){return e.toString()})}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this,r=this.assertChanges(),i=r.get(t);return i?In.resolve(i):this.getFromCache(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},e.prototype.getEntries=function(e,t){var n=this;return this.getAllFromCache(e,t).next(function(e){var t=e.maybeDocuments,r=e.sizeMap;return r.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},e.prototype.apply=function(e){var t=this.applyChanges(e);return this.changes=null,t},e.prototype.assertChanges=function(){return l(null!==this.changes,"Changes have already been applied."),this.changes},e}(),Wn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",zn=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=Nn.getStore(e,cr.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntries=function(e,t,n){var r=[];if(t.length>0){for(var i=Ee(e),o=re(),a=0,s=t;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(i.put(_e(c),l)),o=o.add(c),r.push(this.indexManager.addToCollectionParentIndex(e,c.path.popLast()))}this.keepDocumentChangeLog&&r.push(Te(e).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(e,n))}return In.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=Ee(e),r=_e(t);return n.get(r).next(function(e){return e?n.delete(r).next(function(){return Se(e)}):In.resolve(0)})},e.prototype.getEntry=function(e,t){var n=this;return Ee(e).get(_e(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return Ee(e).get(_e(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Se(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=ee();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},e.prototype.getSizedEntries=function(e,t){var n=this,r=ee(),i=new ln(Zt.comparator);return this.forEachDbEntry(e,t,function(e,t){t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i=i.insert(e,Se(t))):(r=r.insert(e,null),i=i.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return In.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ee(e).iterate({range:r},function(e,t,r){for(var a=Zt.fromSegments(e);o&&Zt.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;l(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=te(),i=t.path.length+1,o=t.path.toArray(),a=IDBKeyRange.lowerBound(o);return Ee(e).iterate({range:a},function(e,o,a){if(e.length===i){var s=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(s.key.path)?s instanceof Un&&t.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;l(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=re(),r=Z(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Te(e);return a.iterate({range:i},function(e,r){return o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id)?t.synchronizeLastDocumentChangeId(a).next(function(){return In.reject(new qt(Ft.DATA_LOSS,Wn))}):(n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),void(t._lastProcessedDocumentChangeId=r.id))}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new Fn(n,cn.forDeletedDoc());r=r.insert(n,t)}))}),In.waitFor(i)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Te(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new Hn(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return be(e).get(ir.key).next(function(e){return l(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return be(e).put(ir.key,t)},e.prototype.updateSize=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.setMetadata(e,r)})},e}(),Hn=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return Rt.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(e,n){var o=t.documentCache.serializer.toDbRemoteDocument(n),a=t.documentSizes.get(e);l(void 0!==a,"Attempting to change document "+e.toString()+" without having read it first");var s=Se(o);r+=s-a,i.push({key:e,doc:o})}),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(Vn),Kn=function(){function e(){this.collectionParentIndex=new Gn}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),In.resolve()},e.prototype.getCollectionParents=function(e,t){return In.resolve(this.collectionParentIndex.getEntries(t))},e}(),Gn=function(){function e(){this.index={}}return e.prototype.add=function(e){l(e.length%2===1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mn(Xt.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){var t=this.index[e]||new mn(Xt.comparator);return t.toArray()},e}(),Qn=8,Yn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;l(n<r&&n>=0&&r<=Qn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(Ae(e),xe(e),Ne(e),ke(e));var o=In.resolve();return n<3&&r>=3&&(0!==n&&(Re(e),Ne(e)),o=o.next(function(){return Pe(t)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return Ce(e,t)})),o=o.next(function(){Le(e),De(e)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&r>=6&&(o=o.next(function(){return Oe(e),i.addDocumentGlobal(t)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(t)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(e,t)})),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(rr.store).iterate(function(e,n){t+=Se(n)}).next(function(){var n=new ir(t);return e.store(ir.store).put(ir.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Jn.store),r=e.store(Zn.store);return n.loadAll().next(function(n){return In.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,Tn],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Zn.userMutationsIndex,i).next(function(r){return In.forEach(r,function(r){l(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return se(e,n.userId,i).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(ar.store),n=e.store(rr.store);return ve(e).next(function(e){var r=function(n){return t.put(new ar(0,Y(n),e))},i=[];return n.iterate(function(e,n){var o=new Xt(e),a=Ie(o);i.push(t.get(a).next(function(e){return e?In.resolve():r(o)}))}).next(function(){return In.waitFor(i)})})},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(ur.store,{keyPath:ur.keyPath});var n=t.store(ur.store),r=new Gn,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Y(i)})}};return t.store(rr.store).iterate({keysOnly:!0},function(e,t){var n=new Xt(e);return i(n.popLast())}).next(function(){return t.store(er.store).iterate({keysOnly:!0},function(e,t){var n=(e[0],e[1]),r=(e[2],J(n));return i(r.popLast())})})},e}(),Xn=function(){function e(e,t){this.seconds=e,this.nanoseconds=t}return e}(),$n=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),Jn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),Zn=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),er=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Y(t)]},e.key=function(e,t,n){return[e,Y(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),tr=function(){function e(e,t){this.path=e,this.readTime=t}return e}(),nr=function(){function e(e,t){this.path=e,this.version=t}return e}(),rr=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),ir=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),or=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),ar=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,l(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),sr=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),ur=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}(),cr=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}(),lr=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}(),fr=[Jn.store,Zn.store,er.store,rr.store,or.store,$n.store,sr.store,ar.store],hr=fr,pr=hr.concat([lr.store,cr.store]),dr=pr.concat([ir.store]),mr=dr.concat([ur.store]),yr=mr,vr=function(){function e(){this.collectionParentsCache=new Gn}return e.prototype.addToCollectionParentIndex=function(e,t){if(l(t.length%2===1,"Expected a collection path."),this.collectionParentsCache.add(t)){l(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Me(e).put({collectionId:n,parent:Y(r)})}return In.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[K(t),""],!1,!0);return Me(e).loadAll(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(J(o.parent))}return n})},e}();!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(Cn||(Cn={}));var gr,br=function(){function e(e,t,n,r,i,o){void 0===i&&(i=cn.MIN),void 0===o&&(o=f()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.copy=function(t){return new e(this.query,this.targetId,this.purpose,void 0===t.sequenceNumber?this.sequenceNumber:t.sequenceNumber,void 0===t.snapshotVersion?this.snapshotVersion:t.snapshotVersion,void 0===t.resumeToken?this.resumeToken:t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),wr=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Zt.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Fn(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var t=Zt.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new qn(t,n)}return c("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof Un){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new rr(null,null,t,n)}if(e instanceof Fn){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version),n=e.hasCommittedMutations;return new rr(null,new tr(r,i),null,n)}if(e instanceof qn){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return new rr(new nr(r,i),null,null,!0)}return c("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new Xn(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new un(e.seconds,e.nanoseconds);return cn.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map(function(e){return n.remoteSerializer.toMutation(e)}),i=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new Zn(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map(function(e){return t.remoteSerializer.fromMutation(e)}),r=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),i=un.fromMillis(e.localWriteTimeMs);return new _n(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(Y(e.path))}),t},e.prototype.fromDbResourcePaths=function(e){for(var t=re(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new Zt(J(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=je(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new br(t,e.targetId,Cn.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){l(Cn.Listen===e.purpose,"Only queries with purpose "+Cn.Listen+" may be stored, got "+e.purpose);var t,n=this.toDbTimestamp(e.snapshotVersion);t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query);var r;return e.resumeToken instanceof Uint8Array?(l("YES"==={NODE_ENV:"production",PUBLIC_URL:""}.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=e.resumeToken.toString()):r=e.resumeToken,new or(e.targetId,e.query.canonicalId(),n,r,e.sequenceNumber,t)},e}(),Er=function(){function e(e){this.maxElements=e,this.buffer=new mn(Ue),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ue(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Tr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_r=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),Sr=6e4,Ir=3e5,Ar=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.gcTask=null}return e.prototype.start=function(){l(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==_r.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;l(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?Ir:Sr;a("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(jt.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch(qe)})},e}(),xr=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return In.resolve(Gt.INVALID);var r=new Er(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===_r.COLLECTION_DISABLED?(a("LruGarbageCollector","Garbage collection skipped; disabled"),In.resolve(Tr)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(a("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Tr):n.runGarbageCollection(e,t)})},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,s,u,c,l,f=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>f.params.maximumSequenceNumbersToCollect?(a("LruGarbageCollector","Capping sequence numbers to collect down "+("to the maximum of "+f.params.maximumSequenceNumbersToCollect+" ")+("from "+t)),r=f.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),f.nthSequenceNumber(e,r)}).next(function(r){return n=r,u=Date.now(),f.removeTargets(e,n,t)}).next(function(t){return o=t,c=Date.now(),f.removeOrphanedDocuments(e,n)}).next(function(e){if(l=Date.now(),i()<=kt.DEBUG){var t="LRU Garbage Collection\n"+("\tCounted targets in "+(s-h)+"ms\n")+("\tDetermined least recently used "+r+" in ")+(u-s+"ms\n")+("\tRemoved "+o+" targets in ")+(c-u+"ms\n")+("\tRemoved "+e+" documents in ")+(l-c+"ms\n")+("Total Duration: "+(l-h)+"ms");a("LruGarbageCollector",t)}return In.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})})},e}(),Cr=function(){function e(){}return e}(),kr="IndexedDbPersistence",Or=18e5,Nr=5e3,Rr=4e3,Pr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Lr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Mr="firestore_zombie",jr=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return Rt.__extends(t,e),t}(Cr),Ur=function(){function e(t,n,r,i,o,a,s){if(this.persistenceKey=t,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},!e.isAvailable())throw new qt(Ft.UNIMPLEMENTED,Lr);if(this.referenceDelegate=new Fr(this,a),this.dbName=t+e.MAIN_DATABASE,this.serializer=new wr(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Mn(this.referenceDelegate,this.serializer),this.indexManager=new vr,this.remoteDocumentCache=new zn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new qt(Ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof jr)return Nn.getStore(e.simpleDbTransaction,t);throw c("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t,n,r,i,o,a){return Rt.__awaiter(this,void 0,void 0,function(){var s;return Rt.__generator(this,function(u){switch(u.label){case 0:return s=new e(t,n,r,i,o,a),[4,s.start()];case 1:return u.sent(),[2,s]}})})},e.createMultiClientIndexedDbPersistence=function(t,n,r,i,o,a,s){return Rt.__awaiter(this,void 0,void 0,function(){var u;return Rt.__generator(this,function(c){switch(c.label){case 0:return u=new e(t,n,r,i,o,a,s),[4,u.start()];case 1:return c.sent(),[2,u]}})})},e.prototype.start=function(){var e=this;return l(!this.started,"IndexedDbPersistence double-started!"),l(null!==this.window,"Expected 'window' to be defined"),Nn.openOrCreate(this.dbName,Qn,new Yn(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[sr.store],function(t){return ve(t).next(function(t){var n=e.multiClientParams?e.multiClientParams.sequenceNumberSyncer:void 0;e.listenSequence=new Gt(t,n)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",yr,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return Rt.__awaiter(t,void 0,void 0,function(){return Rt.__generator(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener(function(n){return Rt.__awaiter(t,void 0,void 0,function(){return Rt.__generator(this,function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return Rt.__awaiter(t,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",yr,function(t){var n=Ve(t);return n.put(new lr(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t);
}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this,n=Be(e);return n.get($n.key).next(function(e){return In.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){var t=Ve(e);return t.delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return Rt.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,Or)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=e.getStore(i,lr.store);return o.loadAll().next(function(e){t=r.filterActiveClients(e,Or),n=e.filter(function(e){return t.indexOf(e)===-1})}).next(function(){return In.forEach(n,function(e){return o.delete(e.clientId)})}).next(function(){if(t=t.filter(function(e){return e.clientId!==r.clientId}),t.length>0){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),i.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(jt.ClientMetadataRefresh,Rr,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this,n=Be(e);return n.get($n.key).next(function(n){var r=null!==n&&t.isWithinAge(n.leaseTimestampMs,Nr)&&!t.isClientZombied(n.ownerId);if(r){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new qt(Ft.FAILED_PRECONDITION,Dr);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ve(e).loadAll().next(function(e){var n=t.filterActiveClients(e,Nr).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1});return void 0===n})}).next(function(e){return t.isPrimary!==e&&a(kr,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return Rt.__awaiter(this,void 0,void 0,function(){var e=this;return Rt.__generator(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[$n.store,lr.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[lr.store],function(t){return Ve(t).loadAll().next(function(t){return e.filterActiveClients(t,Or).map(function(e){return e.clientId})})})},e.clearPersistence=function(t){return Rt.__awaiter(this,void 0,void 0,function(){var n;return Rt.__generator(this,function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,Nn.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return l(this.started,"Cannot initialize MutationQueue before persistence is started."),An.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return l(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return l(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return l(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return a(kr,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",yr,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw s("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new qt(Ft.FAILED_PRECONDITION,Pr);return n(new jr(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new jr(i,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this,n=Be(e);return n.get($n.key).next(function(e){var n=null!==e&&t.isWithinAge(e.leaseTimestampMs,Nr)&&!t.isClientZombied(e.ownerId);if(n&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new qt(Ft.FAILED_PRECONDITION,Dr)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new $n(this.clientId,this.allowTabSynchronization,Date.now());return Be(e).put($n.key,t)},e.isAvailable=function(){return Nn.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Be(e);return n.get($n.key).next(function(e){return t.isLocalClient(e)?(a(kr,"Releasing primary lease."),n.delete($n.key)):In.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now(),r=n-t,i=n;return!(e<r)&&(!(e>i)||(s("Detected an update time that is in the future: "+e+" > "+i),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(l(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(l("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return a(kr,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return s(kr,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){s("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return Mr+"_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}(),Fr=function(){function e(e,t){this.db=e,this.garbageCollector=new xr(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e),n=this.db.getQueryCache().getQueryCount(e);return n.next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return He(e,t)},e.prototype.removeReference=function(e,t){return He(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return He(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?In.resolve(!0):ae(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=0,o=[],a=this.forEachOrphanedDocument(e,function(a,s){if(s<=t){var u=n.isPinned(e,a).next(function(t){if(!t)return r++,n.removeOrphanedDocument(e,a).next(function(e){i+=e})});o.push(u)}});return a.next(function(){return In.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(e,-i)}).next(function(){return r})},e.prototype.removeOrphanedDocument=function(e,t){var n=0,r=this.db.getRemoteDocumentCache();return In.waitFor([ge(e).delete(We(t)),r.removeEntry(e,t).next(function(e){n+=e})]).next(function(){return n})},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return He(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=ge(e),i=Gt.INVALID;return r.iterate({index:ar.documentTargetsIndex},function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Gt.INVALID&&t(new Zt(J(n)),i),i=s,n=a):i=Gt.INVALID}).next(function(){i!==Gt.INVALID&&t(new Zt(J(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(gr||(gr={}));var qr;!function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(qr||(qr={}));var Br,Vr=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(qr.Estimate,n);case"previous":return new e(qr.Previous,n);case"none":case void 0:return new e(qr.Default,n);default:return c("fromSnapshotOptions() called with invalid options.")}},e}(),Wr=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){l(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type.");var t=W(this.typeOrder,e.typeOrder);return t},e}(),zr=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=gr.NullValue,t.internalValue=null,t}return Rt.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Wr),Hr=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.BooleanValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?W(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Wr),Kr=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.NumberValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Ke(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Wr),Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ge(this.internalValue,e.internalValue)},t}(Kr),Qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ge(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-(1/0)),t}(Kr),Yr=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.StringValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?W(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Wr),Xr=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.TimestampValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof $r?-1:this.defaultCompareTo(e)},t}(Wr),$r=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=gr.TimestampValue,r}return Rt.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===qr.Estimate?new Xr(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===qr.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Xr?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Wr),Jr=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.BlobValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Wr),Zr=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=gr.RefValue,r}return Rt.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:Zt.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(Wr),ei=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.GeoPointValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Wr),ti=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.ObjectValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=W(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return W(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(l(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(l(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){l(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t?n.internalValue.get(e):null}),n},t.prototype.fieldMask=function(){var e=new mn(Jt.comparator);return this.internalValue.forEach(function(n,r){var i=new Jt([n]);if(r instanceof t){var o=r.fieldMask(),a=o.fields;a.isEmpty()?e=e.add(i):a.forEach(function(t){e=e.add(i.child(t))})}else e=e.add(i)}),ri.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new ln(W)),t}(Wr),ni=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=gr.ArrayValue,n}return Rt.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){var r=n[t];if(r.isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return W(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){var e=this.internalValue.map(function(e){return e.toString()});return"["+e.join(",")+"]"},t}(Wr),ri=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new mn(Jt.comparator);return t.forEach(function(e){return n=n.add(e)}),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),ii=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),oi=function(){function e(e,t){this.version=e,this.transformResults=t}return e}();!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(Br||(Br={}));var ai,si=function(){function e(e,t){this.updateTime=e,this.exists=t,l(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Un&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Un:(l(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return z(this.updateTime,e.updateTime)&&this.exists===e.exists},e.NONE=new e,e}(),ui=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&l(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Un?e.version:cn.MIN},e}(),ci=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=Br.Set,i}return Rt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),l(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Un(this.key,n,this.value,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ui.getPostMutationVersion(e);return new Un(this.key,r,this.value,{hasLocalMutations:!0})},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(ui),li=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Br.Patch,o}return Rt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),l(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new qn(this.key,t.version);var n=this.patchDocument(e);return new Un(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=ui.getPostMutationVersion(e),i=this.patchDocument(e);return new Un(this.key,r,i,{hasLocalMutations:!0})},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Un?e.data:ti.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}}),e},t}(ui),fi=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=Br.Transform,r.precondition=si.exists(!0),r}return Rt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),l(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new qn(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data,r);return new Un(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data,i);return new Un(this.key,r.version,o,{hasLocalMutations:!0})},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Un?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?ti.EMPTY.set(i.field,a):t.set(i.field,a))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&H(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){l(e instanceof Un,"Unknown MaybeDocument type "+e);var t=e;return l(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];l(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") "+("should match field transform count ("+this.fieldTransforms.length+")"));for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Un&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Un&&(u=t.field(a.field)),null===u&&n instanceof Un&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){l(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.field;e=e.set(i,t[n])}return e},t}(ui),hi=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=Br.Delete,r}return Rt.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),l(null==t.transformResults,"Transform results received by DeleteMutation."),new Fn(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&l(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Fn(this.key,cn.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(ui),pi=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++){var o=i[r];e=o.applyToLocalView(t,e)}return e})},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=ee();return t.forEach(function(e,t){for(var i=0,o=n;i<o.length;i++){var a=o[i];t=a.applyToLocalView(e,t)}r=r.insert(e,t)}),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=Z();return i.forEach(function(e,t){t||(t=new Fn(e,cn.forDeletedDoc())),o=o.insert(e,t)}),o})},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Zt(t)).next(function(e){var t=te();return e instanceof Un&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;l(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=te();return this.indexManager.getCollectionParents(e,r).next(function(o){return In.forEach(o,function(o){var a=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,a).next(function(e){e.forEach(function(e,t){i=i.insert(e,t)})})}).next(function(){return i})})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return r=t,i.addMissingBaseDocuments(e,r,n).next(function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=n.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);n=f instanceof Un?n.insert(c,f):n.remove(c)}})}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=re(),i=0,o=t;i<o.length;i++)for(var a=o[i],s=0,u=a.mutations;s<u.length;s++){var c=u[s];c instanceof li&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.remoteDocumentCache.getEntries(e,r).next(function(e){return e.forEach(function(e,t){null!==t&&t instanceof Un&&(l=l.insert(e,t))}),l})},e}(),di=function(){function e(){this.refsByKey=new mn(mi.compareByKey),this.refsByTarget=new mn(mi.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new mi(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new mi(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=Zt.EMPTY,r=new mi(n,e),i=new mi(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),o.push(e.key)}),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=Zt.EMPTY,n=new mi(t,e),r=new mi(t,e+1),i=re();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new mi(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),mi=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return Zt.comparator(e.key,t.key)||W(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return W(e.targetOrBatchId,t.targetOrBatchId)||Zt.comparator(e.key,t.key)},e}(),yi="LocalStore",vi=function(){function e(e,t){this.persistence=e,this.localViewReferences=new di,this.queryDataByTarget={},l(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new pi(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){
var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new pi(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],o=[],a=re(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){var c=d[p];o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++){var h=y[m];a=a.add(h.key)}}return t.localDocuments.getDocuments(n,a).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}})})})},e.prototype.localWrite=function(e){var t=this,n=un.now(),r=e.reduce(function(e,t){return e.add(t.key)},re());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return t.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new li(u.key,c,c.fieldMask(),si.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next(function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}})})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):In.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return l(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],s=re();m(t.targetChanges,function(r,a){var u=n.queryDataByTarget[r];if(u){a.addedDocuments.forEach(function(e){s=s.add(e)}),a.modifiedDocuments.forEach(function(e){s=s.add(e)}),o.push(n.queryCache.removeMatchingKeys(i,a.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,a.addedDocuments,r)}));var c=a.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:t.snapshotVersion}),n.queryDataByTarget[r]=u,e.shouldPersistQueryData(l,u,a)&&o.push(n.queryCache.updateQueryData(i,u))}}});var u=Z(),c=re();t.documentUpdates.forEach(function(e,t){c=c.add(e)}),o.push(r.getEntries(i,c).next(function(e){t.documentUpdates.forEach(function(c,l){var f=e.get(c);null==f||l.version.isEqual(cn.MIN)||s.has(l.key)&&!f.hasPendingWrites||l.version.compareTo(f.version)>=0?(r.addEntry(l),u=u.insert(c,l)):a(yi,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",l.version),t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))})}));var f=t.snapshotVersion;if(!f.isEqual(cn.MIN)){var h=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(e){return l(f.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+f+" < "+e),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,f)});o.push(h)}return In.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,u)})})},e.shouldPersistQueryData=function(e,t,n){if(0===t.resumeToken.length)return!1;if(0===e.resumeToken.length)return!0;var r=t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds();if(r>=this.RESUME_TOKEN_MAX_AGE_MICROS)return!0;var i=n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size;return i>0},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return In.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),In.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=Tn),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,In.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new br(e,i,Cn.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return l(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){l(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?In.resolve():In.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=In.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(e,r)}).next(function(e){var o=e,a=t.docVersions.get(r);l(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(r,o,t),o?n.addEntry(o):l(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),gi=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=f(),this.batchesByDocumentKey=new mn(mi.compareByKey)}return e.prototype.checkEmpty=function(e){return In.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");l(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return l(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,In.resolve()},e.prototype.getLastStreamToken=function(e){return In.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,In.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){l(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){var o=this.mutationQueue[this.mutationQueue.length-1];l(o.batchId<i,"Mutation batchIDs must be monotonically increasing order")}var a=new _n(i,t,n,r);this.mutationQueue.push(a);for(var s=0,u=r;s<u.length;s++){var c=u[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new mi(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast())}return In.resolve(a)},e.prototype.lookupMutationBatch=function(e,t){return In.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return l(null!=n,"Failed to find local mutation batch."),In.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return In.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getAllMutationBatches=function(e){return In.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new mi(t,0),i=new mi(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){l(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);l(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),In.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new mn(W);return t.forEach(function(e){var t=new mi(e,0),i=new mi(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){l(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),In.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){l(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;Zt.isDocumentKey(i)||(i=i.child(""));var o=new mi(new Zt(i),0),a=new mn(W);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)},o),In.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this,r=this.indexOfExistingBatchId(t.batchId,"removed");l(0===r,"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return In.forEach(t.mutations,function(r){var o=new mi(r.key,t.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(e,r.key)}).next(function(){n.batchesByDocumentKey=i})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new mi(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return In.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&l(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),In.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return l(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){if(0===this.mutationQueue.length)return 0;var t=this.mutationQueue[0].batchId;return e-t},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return l(n.batchId===e,"If found batch must match"),n},e}(),bi=function(){function e(e){this.persistence=e,this.queries=new Bn(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=cn.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new di,this.targetCount=0,this.targetIdGenerator=kn.forQueryCache()}return e.prototype.getTargetCount=function(e){return In.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),In.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return In.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return In.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,In.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),In.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return l(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,In.resolve()},e.prototype.updateQueryData=function(e,t){return l(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),In.resolve()},e.prototype.removeQueryData=function(e,t){return l(this.targetCount>0,"Removing a target from an empty cache"),l(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,In.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),In.waitFor(o).next(function(){return i})},e.prototype.getQueryCount=function(e){return In.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return In.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return c("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),In.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),In.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),In.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return In.resolve(n)},e.prototype.containsKey=function(e,t){return In.resolve(this.references.containsKey(t))},e}(),wi=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=Qe(),this.newDocumentChanges=re(),this.size=0}return e.prototype.addEntries=function(e,t,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(e,s.path.popLast()))}return this.size+=n,In.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=this.docs.get(t);return n?(this.docs=this.docs.remove(t),this.size-=n.size,In.resolve(n.size)):In.resolve(0)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return In.resolve(n?n.maybeDocument:null)},e.prototype.getSizedEntry=function(e,t){return In.resolve(this.docs.get(t))},e.prototype.getEntries=function(e,t){var n=this,r=ee();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),In.resolve(r)},e.prototype.getSizedEntries=function(e,t){var n=this,r=ee(),i=new ln(Zt.comparator);return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null),i=i.insert(e,t?t.size:0)}),In.resolve({maybeDocuments:r,sizeMap:i})},e.prototype.getDocumentsMatchingQuery=function(e,t){l(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=te(),r=new Zt(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof Un&&t.matches(s)&&(n=n.insert(s.key,s))}return In.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return In.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=Z();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new Fn(e,cn.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=re(),In.resolve(n)},e.prototype.newChangeBuffer=function(){return new Ei(this.sizer,this)},e.prototype.getSize=function(e){return In.resolve(this.size)},e}(),Ei=function(e){function t(t,n){var r=e.call(this)||this;return r.sizer=t,r.documentCache=n,r}return Rt.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(e,n){var o=t.documentSizes.get(e);l(void 0!==o,"Attempting to change document "+e.toString()+" without having read it first");var a=t.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(Vn),Ti="MemoryPersistence",_i=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Gt(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new bi(this);var r=function(e){return n.referenceDelegate.documentSize(e)};this.indexManager=new Kn,this.remoteDocumentCache=new wi(this.indexManager,r)}return e.createLruPersistence=function(t,n,r){var i=function(e){return new Ai(e,new wr(n),r)};return new e(t,i)},e.createEagerPersistence=function(t){var n=function(e){return new Ii(e)};return new e(t,n)},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new gi(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;a(Ti,"Starting transaction:",e);var i=new Si(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return In.or(y(this.mutationQueues).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),Si=function(){function e(e){this.currentSequenceNumber=e}return e}(),Ii=function(){function e(e){this.persistence=e}return e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),In.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),In.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),In.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache();return In.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(t){return t?In.resolve():n.removeEntry(e,r).next(function(){})})})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return In.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return In.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Ai=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.orphanedSequenceNumbers=new Bn(function(e){return Y(e.path)}),this.garbageCollector=new xr(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return In.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e),n=this.persistence.getQueryCache().getTargetCount(e);return n.next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return In.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?In.resolve():t(i)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.forEachDocumentKey(e,function(o){return n.isPinned(e,o,t).next(function(t){return t?In.resolve():(r++,i.removeEntry(e,o).next())})});return o.next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),In.resolve()},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),In.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),In.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),In.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw c("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return In.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return In.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return In.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),xi=Number,Ci=xi.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),ki=xi.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Oi=xi.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Ni="ExponentialBackoff",Ri=function(){function e(e,t,n,r,i){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&a(Ni,"Backing off for "+i+" ms "+("(base delay: "+this.currentBaseMs+" ms, ")+("delay with jitter: "+n+" ms, ")+("last attempt: "+r+" ms ago)")),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),Pi="PersistentStream";!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(ai||(ai={}));var Di,Li=1e3,Mi=6e4,ji=1.5,Ui=6e4,Fi=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ai.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Ri(e,t,Li,ji,Mi)}return e.prototype.isStarted=function(){return this.state===ai.Starting||this.state===ai.Open||this.state===ai.Backoff},e.prototype.isOpen=function(){return this.state===ai.Open},e.prototype.start=function(){return this.state===ai.Error?void this.performBackoff():(l(this.state===ai.Initial,"Already started"),void this.auth())},e.prototype.stop=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(ai.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){l(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ai.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,Ui,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){return this.isOpen()?[2,this.close(ai.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(n){switch(n.label){case 0:return l(this.isStarted(),"Only started streams should be closed."),l(e===ai.Error||Ye(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==ai.Error?this.backoff.reset():t&&t.code===Ft.RESOURCE_EXHAUSTED?(s(t.toString()),s("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===Ft.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;l(this.state===ai.Initial,"Must be in initial state to auth"),this.state=ai.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new qt(Ft.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;l(this.state===ai.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return l(t.state===ai.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=ai.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;l(this.state===ai.Error,"Should only perform backoff when in Error state"),this.state=ai.Backoff,this.backoff.backoffAndRun(function(){return Rt.__awaiter(e,void 0,void 0,function(){return Rt.__generator(this,function(e){return l(this.state===ai.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ai.Initial,this.start(),l(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return l(this.isStarted(),"Can't handle server close on non-started stream"),a(Pi,"close with error: "+e),this.stream=null,this.close(ai.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(a(Pi,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),qi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,jt.ListenStreamConnectionBackoff,jt.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return Rt.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Fi),Bi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,jt.WriteStreamConnectionBackoff,jt.WriteStreamIdle,n,r,o)||this;return a.serializer=i,
a.handshakeComplete_=!1,a}return Rt.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(l(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return l(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){l(this.isOpen(),"Writing handshake requires an opened stream"),l(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;l(this.isOpen(),"Writing mutations requires an opened stream"),l(this.handshakeComplete_,"Handshake must be complete before writing mutations"),l(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(Fi),Vi=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new Bi(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new qi(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Z();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);l(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===Ft.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===Ft.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),Wi=function(){function e(e){this.datastore=e,this.readVersions=ne(),this.mutations=[],this.committed=!1,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n=this;return Rt.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qt(Ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return t=r.sent(),t.forEach(function(e){e instanceof Fn||e instanceof Un?n.recordVersion(e):c("Document in a transaction was a "+e.constructor.name)}),[2,t]}})})},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new hi(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return Rt.__awaiter(this,void 0,void 0,function(){var e;return Rt.__generator(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new qt(Ft.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e instanceof Un)t=e.version;else{if(!(e instanceof Fn))throw c("Document in a transaction was a "+e.constructor.name);t=cn.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new qt(Ft.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?si.updateTime(t):si.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(cn.forDeletedDoc()))throw new qt(Ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(t)}return si.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){l(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(Di||(Di={}));var zi;!function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(zi||(zi={}));var Hi,Ki="OnlineStateTracker",Gi=1,Qi=1e4,Yi=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Di.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Di.Unknown),l(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(jt.OnlineStateTimeout,Qi,function(){return e.onlineStateTimer=null,l(e.state===Di.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within "+Qi/1e3+" seconds."),e.setAndBroadcast(Di.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===Di.Online?(this.setAndBroadcast(Di.Unknown),l(0===this.watchStreamFailures,"watchStreamFailures must be 0"),l(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=Gi&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed "+Gi+" times. Most recent error: "+e.toString()),this.setAndBroadcast(Di.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Di.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(s(t),this.shouldWarnClientIsOffline=!1):a(Ki,t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(Hi||(Hi={}));var Xi,$i=function(){function e(e){e?this.comparator=function(t,n){return e(t,n)||Zt.comparator(t.key,n.key)}:this.comparator=function(e,t){return Zt.comparator(e.key,t.key)},this.keyedMap=te(),this.sortedSet=new ln(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Xi||(Xi={}));var Ji;!function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Ji||(Ji={}));var Zi,eo=function(){function e(){this.changeMap=new ln(Zt.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);return n?void(e.type!==Xi.Added&&n.type===Xi.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Xi.Metadata&&n.type!==Xi.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Xi.Modified&&n.type===Xi.Modified?this.changeMap=this.changeMap.insert(t,{type:Xi.Modified,doc:e.doc}):e.type===Xi.Modified&&n.type===Xi.Added?this.changeMap=this.changeMap.insert(t,{type:Xi.Added,doc:e.doc}):e.type===Xi.Removed&&n.type===Xi.Added?this.changeMap=this.changeMap.remove(t):e.type===Xi.Removed&&n.type===Xi.Modified?this.changeMap=this.changeMap.insert(t,{type:Xi.Removed,doc:n.doc}):e.type===Xi.Added&&n.type===Xi.Removed?this.changeMap=this.changeMap.insert(t,{type:Xi.Modified,doc:e.doc}):c("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n))):void(this.changeMap=this.changeMap.insert(t,e))},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),to=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:Xi.Added,doc:e})}),new e(t,n,$i.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),no=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=(r={},r[t]=ro.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(cn.MIN,i,ie(),Z(),re())},e}(),ro=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(f(),n,re(),re(),re())},e}(),io=function(){function e(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}return e}(),oo=function(){function e(e,t){this.targetId=e,this.existenceFilter=t}return e}();!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Zi||(Zi={}));var ao,so=function(){function e(e,t,n,r){void 0===n&&(n=f()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}return e}(),uo=function(){function e(){this.pendingResponses=0,this.documentChanges=it(),this._resumeToken=f(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=re(),t=re(),n=re();return this.documentChanges.forEach(function(r,i){switch(i){case Xi.Added:e=e.add(r);break;case Xi.Modified:t=t.add(r);break;case Xi.Removed:n=n.add(r);break;default:c("Encountered invalid change type: "+i)}}),new ro(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=it()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),co=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Z(),this.pendingDocumentTargetMapping=rt(),this.pendingTargetResets=new mn(W)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Un?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Fn&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Zi.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Zi.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Zi.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),l(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Zi.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Zi.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:c("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):m(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Zt(i.path);this.removeDocumentFromTarget(t,o,new Fn(o,cn.forDeletedDoc()))}else l(1===n,"Single document existence filter with count: "+n);else{var a=this.getCurrentDocumentCountForTarget(t);a!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}}},e.prototype.createRemoteEvent=function(e){var t=this,n={};m(this.targetStates,function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Zt(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new Fn(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=re();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Cn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(e))});var i=new no(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Z(),this.pendingDocumentTargetMapping=rt(),this.pendingTargetResets=new mn(W),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Xi.Modified:Xi.Added,r=this.ensureTargetState(e);r.addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Xi.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e),n=t.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){var t=this.ensureTargetState(e);t.recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new uo),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new mn(W),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){return null!==this.queryDataForActiveTarget(e)},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;l(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new uo;var n=this.metadataProvider.getRemoteKeysForTarget(e);n.forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){var n=this.metadataProvider.getRemoteKeysForTarget(e);return n.has(t)},e}(),lo="RemoteStore",fo=10,ho=function(){function e(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(e){n.enqueueAndForget(function(){return Rt.__awaiter(o,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(a(lo,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new Yi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return Rt.__awaiter(this,void 0,void 0,function(){var e;return Rt.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Di.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Di.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(a(lo,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return a(lo,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Di.Unknown),[2]}})})},e.prototype.listen=function(e){l(!p(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){l(p(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),g(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Di.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){l(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new co(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!g(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return Rt.__awaiter(this,void 0,void 0,function(){var e=this;return Rt.__generator(this,function(t){return m(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(t){return void 0===e&&l(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Di.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n;return Rt.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Di.Online),e instanceof so&&e.state===Zi.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof io?this.watchChangeAggregator.handleDocumentChange(e):e instanceof oo?this.watchChangeAggregator.handleExistenceFilter(e):(l(e instanceof so,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(cn.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;l(!e.isEqual(cn.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return m(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:e}))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.copy({resumeToken:f()}),t.sendUnwatchRequest(e);var r=new br(n.query,e,Cn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;l(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return Rt.__awaiter(t,void 0,void 0,function(){return Rt.__generator(this,function(t){return p(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return Rt.__awaiter(this,void 0,void 0,function(){var e,t;return Rt.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:Tn,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return t=n.sent(),null!==t?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<fo},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){l(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){l(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(qe)},e.prototype.onMutationResult=function(e,t){var n=this;l(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Sn.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n=this;return Rt.__generator(this,function(r){return void 0===e&&l(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(t=void 0,t=this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e),[2,t.then(function(){n.shouldStartWriteStream()&&n.startWriteStream()})]):[2]})})},e.prototype.handleHandshakeError=function(e){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(t){return $e(e.code)?(a(lo,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=f(),[2,this.localStore.setLastStreamToken(f()).catch(qe)]):[2]})})},e.prototype.handleWriteError=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n=this;return Rt.__generator(this,function(r){return Je(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2]})})},e.prototype.createTransaction=function(){return new Wi(this.datastore)},e.prototype.restartNetwork=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Di.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}})})},e.prototype.handleCredentialChange=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(a(lo,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.applyPrimaryState=function(e){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Di.Unknown),t.label=4;case 4:return[2]}})})},e}(),po=function(){function e(e,t){if(E("GeoPoint",arguments,2),I("GeoPoint","number",1,e),I("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new qt(Ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qt(Ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return W(this._lat,e._lat)||W(this._long,e._long)},e}(),mo=function(){function e(e,t,n,r,i,o,a){
void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[xo]:this.memoizedOrderBy=[new Ao(e),xo];else{l(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:So.ASCENDING;this.memoizedOrderBy.push(a===So.ASCENDING?xo:Co)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){l(null==this.getInequalityFilterField()||!(t instanceof go)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),l(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){l(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];e+=r.canonicalId(),e+=","}e+="|ob:";for(var i=0,o=this.orderBy;i<o.length;i++){var a=o[i];e+=a.canonicalId(),e+=","}Ye(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Ye(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(var t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return l(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!Ye(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof go&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof go&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return Zt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Zt.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(!r.matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){l(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),yo=function(){function e(){}return e}(),vo=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return c("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),go=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return Rt.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===vo.IN?(l(r instanceof ni,"Comparing on key with IN, but filter value not an ArrayValue"),l(r.internalValue.every(function(e){return e instanceof Zr}),"Comparing on key with IN, but an array value was not a RefValue"),new wo(e,r)):(l(r instanceof Zr,"Comparing on key, but filter value not a RefValue"),l(n!==vo.ARRAY_CONTAINS&&n!==vo.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new bo(e,n,r));if(r.isEqual(zr.INSTANCE)){if(n!==vo.EQUAL)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Qr.NAN)){if(n!==vo.EQUAL)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===vo.ARRAY_CONTAINS?new Eo(e,r):n===vo.IN?(l(r instanceof ni,"IN filter has invalid value: "+r.toString()),new To(e,r)):n===vo.ARRAY_CONTAINS_ANY?(l(r instanceof ni,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new _o(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case vo.LESS_THAN:return e<0;case vo.LESS_THAN_OR_EQUAL:return e<=0;case vo.EQUAL:return 0===e;case vo.GREATER_THAN:return e>0;case vo.GREATER_THAN_OR_EQUAL:return e>=0;default:return c("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[vo.LESS_THAN,vo.LESS_THAN_OR_EQUAL,vo.GREATER_THAN,vo.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(yo),bo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=Zt.comparator(e.key,t.key);return this.matchesComparison(n)},t}(go),wo=function(e){function t(t,n){var r=e.call(this,t,vo.IN,n)||this;return r.value=n,r}return Rt.__extends(t,e),t.prototype.matches=function(e){var t=this.value;return t.internalValue.some(function(t){return e.key.isEqual(t.key)})},t}(go),Eo=function(e){function t(t,n){return e.call(this,t,vo.ARRAY_CONTAINS,n)||this}return Rt.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof ni&&t.contains(this.value)},t}(go),To=function(e){function t(t,n){var r=e.call(this,t,vo.IN,n)||this;return r.value=n,r}return Rt.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(go),_o=function(e){function t(t,n){var r=e.call(this,t,vo.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return Rt.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof ni&&n.internalValue.some(function(e){return t.value.contains(e)})},t}(go),So=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Io=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){var r=n[t];e+=r.toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){l(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())l(o instanceof Zr,"Bound has a non-key value where the key path is being used."),n=Zt.comparator(o.key,t.key);else{var a=t.field(i.field);l(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===So.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),Ao=function(){function e(e,t){this.field=e,void 0===t&&(t=So.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Un.compareByKey(e,t):Un.compareByField(this.field,e,t);switch(this.dir){case So.ASCENDING:return n;case So.DESCENDING:return-1*n;default:return c("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),xo=new Ao(Jt.keyField(),So.ASCENDING),Co=new Ao(Jt.keyField(),So.DESCENDING),ko=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new $r(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),Oo=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ot(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,i=this.elements;r<i.length;r++){var o=i[r];n(o)}return new ni(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&H(t.elements,this.elements)},e}(),No=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ot(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++){var o=i[r];n(o)}return new ni(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&H(t.elements,this.elements)},e}(),Ro=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Gr&&this.operand instanceof Gr){var r=n.internalValue+this.operand.internalValue;return new Gr(r)}var r=n.internalValue+this.operand.internalValue;return new Qr(r)},e.prototype.applyToRemoteDocument=function(e,t){return l(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Kr?e:new Gr(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}(),Po=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),Do=function(){var e={};return e[So.ASCENDING.name]="ASCENDING",e[So.DESCENDING.name]="DESCENDING",e}(),Lo=function(){var e={};return e[vo.LESS_THAN.name]="LESS_THAN",e[vo.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[vo.GREATER_THAN.name]="GREATER_THAN",e[vo.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[vo.EQUAL.name]="EQUAL",e[vo.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",e[vo.IN.name]="IN",e[vo.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",e}(),Mo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),jo=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Ft.UNKNOWN:et(e.code);return new qt(t,e.message||"")},e.prototype.toInt32Value=function(e){return Ye(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return t="object"==typeof e?e.value:e,Ye(t)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);l(!!e,"Cannot deserialize null or undefined timestamp.");var t=st(e.seconds||"0"),n=e.nanos||0;return new un(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=Mo.exec(e);if(l(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new un(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(l(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Vt.fromBase64String(e)):(l(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Vt.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return l(!!e,"Trying to deserialize version that isn't set"),cn.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=Xt.fromString(e);return l(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return l(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),l(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Zt(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Xt.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){var e=new Xt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]);return e.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new Xt(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return l(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof zr)return{nullValue:"NULL_VALUE"};if(e instanceof Hr)return{booleanValue:e.value()};if(e instanceof Gr)return{integerValue:""+e.value()};if(e instanceof Qr){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-(1/0))return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Yr?{stringValue:e.value()}:e instanceof ti?{mapValue:this.toMapValue(e)}:e instanceof ni?{arrayValue:this.toArrayValue(e)}:e instanceof Xr?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof ei?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Jr?{bytesValue:this.toBytes(e.value())}:e instanceof Zr?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:c("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return zr.INSTANCE;if("booleanValue"in e)return Hr.of(e.booleanValue);if("integerValue"in e)return new Gr(st(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Qr.NAN;if("Infinity"===e.doubleValue)return Qr.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Qr.NEGATIVE_INFINITY}return new Qr(e.doubleValue)}if("stringValue"in e)return new Yr(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){at(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new ni(n.map(function(e){return t.fromValue(e)}))}if("timestampValue"in e)return at(e.timestampValue,"timestampValue"),new Xr(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){at(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new ei(new po(r,i))}if("bytesValue"in e){at(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new Jr(o)}if("referenceValue"in e){at(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new Kt(a.get(1),a.get(3)),u=new Zt(this.extractLocalPathFromResourceName(a));return new Zr(s,u)}return c("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return l(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){return new Un(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasCommittedMutations:!!t})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=ti.EMPTY;return v(n,function(e,n){r=r.set(new Jt([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){l(!!e.found,"Tried to deserialize a found document from a missing document."),at(e.found.name,"doc.found.name"),at(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new Un(t,n,r,{},e.found)},e.prototype.fromMissing=function(e){l(!!e.missing,"Tried to deserialize a missing document from a found document."),l(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Fn(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):c("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Zi.Added:return"ADD";case Zi.Current:return"CURRENT";case Zi.NoChange:return"NO_CHANGE";case Zi.Removed:return"REMOVE";case Zi.Reset:return"RESET";default:return c("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof oo)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof io){if(e.newDoc instanceof Un){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Fn){var t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof so){var n=void 0;return e.cause&&(n={code:tt(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return c("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t;if("targetChange"in e){at(e.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),o=e.targetChange.cause,a=o&&this.fromRpcStatus(o);t=new so(n,r,i,a||null)}else if("documentChange"in e){at(e.documentChange,"documentChange"),at(e.documentChange.document,"documentChange.name"),at(e.documentChange.document.name,"documentChange.document.name"),at(e.documentChange.document.updateTime,"documentChange.document.updateTime");var s=e.documentChange,u=this.fromName(s.document.name),l=this.fromVersion(s.document.updateTime),f=this.fromFields(s.document.fields||{}),h=new Un(u,l,f,{},s.document),p=s.targetIds||[],d=s.removedTargetIds||[];t=new io(p,d,h.key,h)}else if("documentDelete"in e){at(e.documentDelete,"documentDelete"),at(e.documentDelete.document,"documentDelete.document");var m=e.documentDelete,u=this.fromName(m.document),l=m.readTime?this.fromVersion(m.readTime):cn.forDeletedDoc(),h=new Fn(u,l),d=m.removedTargetIds||[];t=new io([],d,h.key,h)}else if("documentRemove"in e){at(e.documentRemove,"documentRemove"),at(e.documentRemove.document,"documentRemove");var y=e.documentRemove,u=this.fromName(y.document),d=y.removedTargetIds||[];t=new io([],d,u,null)}else{if(!("filter"in e))return c("Unknown change type "+JSON.stringify(e));at(e.filter,"filter"),at(e.filter.targetId,"filter.targetId");var v=e.filter,g=v.count||0,b=new Po(g),w=v.targetId;t=new oo(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Zi.NoChange:"ADD"===e?Zi.Added:"REMOVE"===e?Zi.Removed:"CURRENT"===e?Zi.Current:"RESET"===e?Zi.Reset:c("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return cn.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?cn.MIN:t.readTime?this.fromVersion(t.readTime):cn.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof ci)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof hi)t={delete:this.toName(e.key)};else if(e instanceof li)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof fi))return c("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):si.NONE;if(e.update){at(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new li(r,i,o,n)}return new ci(r,i,n)}if(e.delete){var r=this.fromName(e.delete);return new hi(r,n)}if(e.transform){var r=this.fromName(e.transform.document),a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return l(n.exists===!0,'Transforms only support precondition "exists == true"'),new fi(r,a)}return c("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return l(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:c("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?si.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?si.exists(e.exists):si.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new oi(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(l(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof ko)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Oo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof No)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof Ro)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw c("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)l("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=ko.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Oo(r.map(function(e){return t.fromValue(e)}))}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];n=new No(r.map(function(e){return t.fromValue(e)}))}else if("increment"in e){var i=this.fromValue(e.increment);l(i instanceof Kr,"NUMERIC_ADD transform requires a NumberValue"),n=new Ro(i)}else c("Unknown transform proto: "+JSON.stringify(e));var o=Jt.fromServerFormat(e.fieldPath);return new ii(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;l(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return mo.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(l(n.length%2===0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l(n.length%2!==0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){l(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var f=null;return n.endAt&&(f=this.fromCursor(n.endAt)),new mo(t,i,s,a,u,c,f)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Cn.Listen:return null;case Cn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Cn.LimboResolution:return"limbo-document";default:return c("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},t.targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof go?t.toUnaryOrFieldFilter(e):c("Unrecognized filter: "+JSON.stringify(e))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):c("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new Io(r,n)},e.prototype.toDirection=function(e){return Do[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return So.ASCENDING;case"DESCENDING":return So.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return Lo[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return vo.EQUAL;case"GREATER_THAN":return vo.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return vo.GREATER_THAN_OR_EQUAL;
case"LESS_THAN":return vo.LESS_THAN;case"LESS_THAN_OR_EQUAL":return vo.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return vo.ARRAY_CONTAINS;case"IN":return vo.IN;case"ARRAY_CONTAINS_ANY":return vo.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return c("Unspecified operator");default:return c("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return Jt.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new Ao(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return go.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===vo.EQUAL){if(e.value.isEqual(Qr.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(zr.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return go.create(t,vo.EQUAL,Qr.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return go.create(n,vo.EQUAL,zr.INSTANCE);case"OPERATOR_UNSPECIFIED":return c("Unspecified filter");default:return c("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=e.fieldPaths||[],n=t.map(function(e){return Jt.fromServerFormat(e)});return ri.fromArray(n)},e}(),Uo=function(){function e(){this.listeners=[]}return e}(),Fo=function(){function e(e){this.syncEngine=e,this.queries=new Bn(function(e){return e.canonicalId()}),this.onlineState=Di.Unknown,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new Uo,this.queries.set(t,r)),r.listeners.push(e),e.applyOnlineStateChange(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e,e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return Rt.__generator(this,function(o){return t=e.query,n=!1,r=this.queries.get(t),r&&(i=r.listeners.indexOf(e),i>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length)),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){var u=s[a];u.onViewSnapshot(r)}o.viewSnap=r}}},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){var o=i[r];o.onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var r=0,i=n.listeners;r<i.length;r++){var o=i[r];o.applyOnlineStateChange(e)}})},e}(),qo=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=Di.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(l(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Xi.Metadata&&t.push(i)}e=new to(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(l(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Di.Offline;return this.options.waitForSyncWhenOnline&&n?(l(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Di.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0},e.prototype.raiseInitialEvent=function(e){l(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),Bo=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=re(),i=re(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Xi.Added:r=r.add(s.doc.key);break;case Xi.Removed:i=i.add(s.doc.key)}}return new e(t,r,i)},e}(),Vo=function(){function e(e){this.key=e}return e}(),Wo=function(){function e(e){this.key=e}return e}(),zo=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=re(),this.mutatedKeys=re(),this.documentSet=new $i(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new eo,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var c=i.get(e),f=t instanceof Un?t:null;f&&(l(e.isEqual(f.key),"Mismatching keys found in document changes: "+e+" != "+f.key),f=n.query.matches(f)?f:null);var h=!!c&&n.mutatedKeys.has(c.key),p=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),d=!1;if(c&&f){var m=c.data.isEqual(f.data);m?h!==p&&(r.track({type:Xi.Metadata,doc:f}),d=!0):n.shouldWaitForSyncedDocument(c,f)||(r.track({type:Xi.Modified,doc:f}),d=!0,u&&n.query.docComparator(f,u)>0&&(s=!0))}else!c&&f?(r.track({type:Xi.Added,doc:f}),d=!0):c&&!f&&(r.track({type:Xi.Removed,doc:c}),d=!0,u&&(s=!0));d&&(f?(a=a.add(f),o=p?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Xi.Removed,doc:c})}return l(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;l(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort(function(e,t){return ut(e.type,t.type)||r.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current,u=s?Ji.Synced:Ji.Local,c=u!==this.syncState;if(this.syncState=u,0!==o.length||c){var f=new to(this.query,e.documentSet,i,o,e.mutatedKeys,u===Ji.Local,c,!1);return{snapshot:f,limboChanges:a}}return{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Di.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new eo,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return l(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=re(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new Wo(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new Vo(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=re();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return to.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ji.Local)},e}(),Ho="SyncEngine",Ko=function(){function e(e,t,n){this.query=e,this.targetId=t,this.view=n}return e}(),Go=function(){function e(e){this.key=e}return e}(),Qo=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Bn(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ln(Zt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new di,this.mutationUserCallbacks={},this.limboTargetIdGenerator=kn.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Di.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.isPrimary===!0},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){l(null!==e,"SyncEngine listener cannot be null"),l(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return Rt.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Rt.__generator(this,function(f){switch(f.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=f.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=f.sent(),o=new zo(n,i),a=o.computeDocChanges(r),s=ro.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==Di.Offline),u=o.applyChanges(a,this.isPrimary===!0,s),l(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),l(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new Ko(n,e.targetId,o),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,u.snapshot]}})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r;return Rt.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}})})},e.prototype.unlisten=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return Rt.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),t=this.queryViewsByQuery.get(e),l(!!t,"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),n=this.sharedClientState.isActiveQueryTarget(t.targetId),n?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupQuery(t)}).catch(qe)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n;return Rt.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},e.prototype.runTransaction=function(e,t){return void 0===t&&(t=5),Rt.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return Rt.__generator(this,function(a){switch(a.label){case 0:if(l(t>=0,"Got negative number of retries for transaction."),n=this.remoteStore.createTransaction(),r=e(n),Ye(r)||!r.catch||!r.then)return[2,Promise.reject(Error("Transaction callback must return a Promise"))];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,r];case 2:return i=a.sent(),[4,n.commit()];case 3:return a.sent(),[2,i];case 4:return o=a.sent(),t>0&&this.isRetryableTransactionError(o)?[2,this.runTransaction(e,t-1)]:[2,Promise.reject(o)];case 5:return[2]}})})},e.prototype.applyRemoteEvent=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return Rt.__generator(this,function(i){switch(i.label){case 0:this.assertSubscribed("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=i.sent(),v(e.targetChanges,function(e,t){var n=r.limboResolutionsByTarget[Number(e)];n&&(l(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?n.receivedDocument=!0:t.modifiedDocuments.size>0?l(n.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(l(n.receivedDocument,"Received remove for limbo target document without add."),n.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return i.sent(),[3,6];case 4:return n=i.sent(),[4,qe(n)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===zi.RemoteStore||!this.isPrimary&&t===zi.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);l(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return Rt.__generator(this,function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=new ln(Zt.comparator),i=i.insert(r,new Fn(r,cn.forDeletedDoc())),o=re().add(r),a=new no(cn.MIN,{},new mn(W),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return s=this.queryViewsByTarget[e],l(!!s,"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return u.removeAndCleanupQuery(s)}).catch(qe)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,t),c.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return Rt.__awaiter(this,void 0,void 0,function(){var r;return Rt.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return r=i.sent(),null===r?(a(Ho,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n?n:null),this.localStore.removeCachedMutationBatchMetadata(e)):c("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r;return Rt.__generator(this,function(i){switch(i.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return r=i.sent(),[4,qe(r)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},e.prototype.rejectFailedWrite=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n,r;return Rt.__generator(this,function(i){switch(i.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return r=i.sent(),[4,qe(r)];case 5:return i.sent(),[3,6];case 6:return[2]}})})},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ln(W)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(l(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){var n=t.limboDocumentRefs.containsKey(e);n||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof Vo)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof Wo){a(Ho,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e);var o=this.limboDocumentRefs.containsKey(i.key);o||this.removeLimboTarget(i.key)}else c("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){a(Ho,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=mo.atPath(t.path);this.limboResolutionsByTarget[n]=new Go(t),this.remoteStore.listen(new br(r,n,Cn.LimboResolution,Gt.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return Rt.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,o.isPrimary===!0,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Bo.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},e.prototype.assertSubscribed=function(e){l(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n;return Rt.__generator(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?[4,this.localStore.handleUserChange(e)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u=this;return Rt.__generator(this,function(c){switch(c.label){case 0:return e!==!0||this.isPrimary===!0?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return e!==!1||this.isPrimary===!1?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),m(this.queryViewsByTarget,function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then(function(){return u.unlisten(t.query)}),u.remoteStore.unlisten(t.targetId)}),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;m(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ln(Zt.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return Rt.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c;return Rt.__generator(this,function(f){switch(f.label){case 0:t=[],n=[],r=0,i=e,f.label=1;case 1:return r<i.length?(o=i[r],a=void 0,s=this.queryViewsByTarget[o],s?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return f.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=f.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return u=f.sent(),u.snapshot&&n.push(u.snapshot),[3,9];case 5:return l(this.isPrimary===!0,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return c=f.sent(),l(!!c,"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=f.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:f.sent(),f.label=9;case 9:t.push(a),f.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}})})},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$e(t)}return!1},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return Rt.__awaiter(this,void 0,void 0,function(){var r,i,o,s,u,l;return Rt.__generator(this,function(f){switch(f.label){case 0:if(this.isPrimary)return a(Ho,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(r=t){case"current":return[3,1];case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return f.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return i=f.sent(),o=no.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(i,o)];case 3:return f.sent(),[3,11];case 4:return s=f.sent(),we(s)?(u=[],m(this.queryViewsByTarget,function(e){return u.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(u)]):[3,6];case 5:return f.sent(),[3,7];case 6:throw s;case 7:return[3,8];case 8:return l=this.queryViewsByTarget[e],this.removeAndCleanupQuery(l),[4,this.localStore.releaseQuery(l.query,!0)];case 9:return f.sent(),this.syncEngineListener.onWatchError(l.query,n),[3,11];case 10:c("Unexpected target state: "+t),f.label=11;case 11:return[2]}})})},e.prototype.applyActiveTargetsChange=function(e,t){return Rt.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,f,i,h=this;return Rt.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(i=r[n],l(!this.queryViewsByTarget[i],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(i)]):[3,6];case 2:return o=p.sent(),l(!!o,"Query data for active target "+i+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return a=p.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 4:p.sent(),this.remoteStore.listen(a),p.label=5;case 5:return n++,[3,1];case 6:s=function(e){var t;return Rt.__generator(this,function(n){switch(n.label){case 0:return t=u.queryViewsByTarget[e],t?[4,u.localStore.releaseQuery(t.query,!1).then(function(){h.remoteStore.unlisten(e),h.removeAndCleanupQuery(t)}).catch(qe)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,f=t,p.label=7;case 7:return c<f.length?(i=f[c],[5,s(i)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?re().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:re()},e}(),Yo=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Xo="SharedClientState",$o="firestore_clients",Jo="firestore_mutations",Zo="firestore_targets",ea="firestore_online_state",ta="firestore_sequence_number",na=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,l(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(a=new qt(i.error.code,i.error.message))),o?new e(t,n,i.state,a):(s(Xo,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ra=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,l(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(o=new qt(r.error.code,r.error.message))),i?new e(t,r.state,o):(s(Xo,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ia=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ie(),a=0;i&&a<r.activeTargetIds.length;++a)i=Xe(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(s(Xo,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),oa=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t),r="object"==typeof n&&n.onlineState in Di&&"string"==typeof n.clientId;return r?new e(n.clientId,Di[n.onlineState]):(s(Xo,"Failed to parse online state: "+t),null)},e}(),aa=function(){function e(){this.activeTargetIds=ie()}return e.prototype.addQueryTarget=function(e){l(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),sa=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new qt(Ft.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=ta+"_"+r,this.activeClients[this.localClientId]=new aa,this.clientStateKeyRe=new RegExp("^"+$o+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Jo+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Zo+"_"+a+"_(\\d+)$"),this.onlineStateKey=ea+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return Rt.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,f,h=this;return Rt.__generator(this,function(p){switch(p.label){case 0:return l(!this.started,"WebStorageSharedClientState already started"),l(null!==this.syncEngine,"syncEngine property must be set before calling start()"),l(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=p.sent(),
t=0,n=e;t<n.length;t++)r=n[t],r!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)),i&&(o=ia.fromWebStorageEntry(r,i),o&&(this.activeClients[o.clientId]=o)));for(this.persistClientState(),a=this.storage.getItem(this.onlineStateKey),a&&(s=this.fromWebStorageOnlineState(a),s&&this.handleOnlineStateEvent(s)),u=0,c=this.earlyEvents;u<c.length;u++)f=c[u],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=ie();return v(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=ra.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return a(Xo,"READ",e,t),t},e.prototype.setItem=function(e,t){a(Xo,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){a(Xo,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(a(Xo,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void s("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return Rt.__awaiter(t,void 0,void 0,function(){var t,n,r,i,o,a;return Rt.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(l(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),a=ct(e.newValue),a!==Gt.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new na(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Di[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new ra(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return l(e.indexOf("_")===-1,"Client key cannot contain '_', but was '"+e+"'"),$o+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Zo+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Jo+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return l(null!==n,"Cannot parse client state key '"+e+"'"),ia.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);l(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return na.fromWebStorageEntry(new Yo(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);l(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return ra.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return oa.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(t){return e.user.uid!==this.currentUser.uid?(a(Xo,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(e){return Rt.__awaiter(n,void 0,void 0,function(){return Rt.__generator(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return Rt.__awaiter(n,void 0,void 0,function(){return Rt.__generator(this,function(t){return i.has(e)||a.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),ua=function(){function e(){this.localState=new aa,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new aa,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),ca="FirestoreClient",la=11,fa=20,ha=22,pa=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return _r.withCacheSize(this.cacheSizeBytes)},e}(),da=function(){function e(){}return e}(),ma=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=Bt.newId(),this._clientShutdown=!1}return e.prototype.start=function(e){var t=this;this.verifyNotShutdown();var n=new en,r=new en,i=!1;return this.credentials.setChangeListener(function(o){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(o)}):(i=!0,t.initializePersistence(e,r,o).then(function(e){return t.initializeRest(o,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof pa?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof qt?e.code===Ft.FAILED_PRECONDITION||e.code===Ft.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(e.code===ha||e.code===fa||e.code===la)},e.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new qt(Ft.FAILED_PRECONDITION,"The client has already been shutdown.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Ur.buildStoragePrefix(this.databaseInfo),i=new jo(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return Rt.__awaiter(n,void 0,void 0,function(){var n,o;return Rt.__generator(this,function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!sa.isAvailable(this.platform))throw new qt(Ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=t.lruParams(),t.synchronizeTabs?(this.sharedClientState=new sa(this.asyncQueue,this.platform,r,this.clientId,e),[4,Ur.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new ua,[4,Ur.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},e.prototype.startMemoryPersistence=function(){return this.persistence=_i.createEagerPersistence(this.clientId),this.sharedClientState=new ua,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return a(ca,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return Rt.__awaiter(n,void 0,void 0,function(){var n,i,o,a,s,u=this;return Rt.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new vi(this.persistence,e),t&&(this.lruScheduler=new Ar(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new Vi(this.asyncQueue,r,this.credentials,i),a=function(e){return u.syncEngine.applyOnlineStateChange(e,zi.RemoteStore)},s=function(e){return u.syncEngine.applyOnlineStateChange(e,zi.SharedClientState)},this.remoteStore=new ho(this.localStore,o,this.asyncQueue,a,n),this.syncEngine=new Qo(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=s,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Fo(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return Rt.__awaiter(u,void 0,void 0,function(){return Rt.__generator(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return Rt.__awaiter(u,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return[4,this.shutdown()];case 1:return e.sent(),[2]}})})})];case 4:return c.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),a(ca,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.shutdown=function(){var e=this;return this.asyncQueue.enqueue(function(){return Rt.__awaiter(e,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:e.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,e.label=4;case 4:return[2]}})})})},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotShutdown();var i=new qo(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof Un)return e;if(e instanceof Fn)return null;throw new qt(Ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=re(),r=new zo(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},e.prototype.write=function(e){var t=this;this.verifyNotShutdown();var n=new en;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(e.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return Rt.__awaiter(t,void 0,void 0,function(){return Rt.__generator(this,function(e){return[2]})})}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),ya=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),va=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];S("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(I("FieldPath","string",n,e[n]),0===e[n].length)throw new qt(Ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(Jt.keyField().canonicalString()),e}(),ga=new RegExp("[~\\*/\\[\\]]"),ba=function(){function e(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}return e}(),wa=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){l(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Yo.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){l(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Ea=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;l(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new qt(Ft.ABORTED,"getToken aborted due to token change.");return n?(l("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new ba(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){l(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){l(null!=this.tokenListener,"removeChangeListener() called twice"),l(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return l(null===e||"string"==typeof e,"Received invalid UID: "+e),new Yo(e)},e}(),Ta=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Yo.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),_a=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Ta(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Yo.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}(),Sa=function(){function e(e){this._methodName=e}return e.delete=function(){return w("FieldValue.delete",arguments),Ia.instance},e.serverTimestamp=function(){return w("FieldValue.serverTimestamp",arguments),Aa.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return T("FieldValue.arrayUnion",arguments,1),new xa(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return T("FieldValue.arrayRemove",arguments,1),new Ca(e)},e.increment=function(e){return I("FieldValue.increment","number",1,e),E("FieldValue.increment",arguments,1),new ka(e)},e.prototype.isEqual=function(e){return this===e},e}(),Ia=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return Rt.__extends(t,e),t.instance=new t,t}(Sa),Aa=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return Rt.__extends(t,e),t.instance=new t,t}(Sa),xa=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return Rt.__extends(t,e),t}(Sa),Ca=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return Rt.__extends(t,e),t}(Sa),ka=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return Rt.__extends(t,e),t}(Sa),Oa=h(Sa,"Use FieldValue.<field>() instead."),Na=/^__.*__$/,Ra=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new li(e,this.data,this.fieldMask,t)):n.push(new ci(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new fi(e,this.fieldTransforms)),n},e}(),Pa=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new li(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new fi(e,this.fieldTransforms)),n},e}();!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(ao||(ao={}));var Da=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new qt(Ft.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(dt(this.dataSource)&&Na.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),La=function(){function e(e,t){this.databaseId=e,this.key=t}return e}(),Ma=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new Da(ao.Set,e,Jt.EMPTY_PATH);yt("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new Ra(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new Da(ao.MergeSet,e,Jt.EMPTY_PATH);yt("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new mn(Jt.comparator),u=0,l=n;u<l.length;u++){var f=l[u],h=void 0;if(f instanceof va)h=f._internalPath;else{if("string"!=typeof f)throw c("Expected stringOrFieldPath to be a string or a FieldPath");h=gt(e,f)}if(!r.contains(h))throw new qt(Ft.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=ri.fromSet(s),o=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=ri.fromArray(r.fieldMask),o=r.fieldTransforms;return new Ra(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new Da(ao.Update,e,Jt.EMPTY_PATH);yt("Data must be an object, but it was:",r,t);var i=new mn(Jt.comparator),o=ti.EMPTY;v(t,function(t,a){var s=gt(e,t),u=r.childContextForFieldPath(s);if(a=n.runPreConverter(a,u),a instanceof Ia)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=ri.fromSet(i);return new Pa(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new Da(ao.Update,e,Jt.EMPTY_PATH),o=[vt(e,t)],a=[n];if(r.length%2!==0)throw new qt(Ft.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(vt(e,r[s])),a.push(r[s+1]);for(var u=new mn(Jt.comparator),c=ti.EMPTY,s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof Ia)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=ri.fromSet(u);return new Pa(c,d,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new Da(ao.Argument,e,Jt.EMPTY_PATH),r=this.parseData(t,n);return l(null!=r,"Parsed data should not be null."),l(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=bt(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(e=this.runPreConverter(e,t),mt(e))return yt("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Sa)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new ln(W);return g(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):v(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new ti(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=zr.INSTANCE),n.push(s),r++}return new ni(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!dt(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Ia){if(t.dataSource!==ao.MergeSet)throw t.dataSource===ao.Update?(l(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof Aa)t.fieldTransforms.push(new ii(t.path,ko.instance));else if(e instanceof xa){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new Oo(n);t.fieldTransforms.push(new ii(t.path,r))}else if(e instanceof Ca){var n=this.parseArrayTransformElements(e._methodName,e._elements),i=new No(n);t.fieldTransforms.push(new ii(t.path,i))}else if(e instanceof ka){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new Ro(o);t.fieldTransforms.push(new ii(t.path,a))}else c("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return zr.INSTANCE;if("number"==typeof e)return Xe(e)?new Gr(e):new Qr(e);if("boolean"==typeof e)return Hr.of(e);if("string"==typeof e)return new Yr(e);if(e instanceof Date)return new Xr(un.fromDate(e));if(e instanceof un)return new Xr(new un(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof po)return new ei(e);if(e instanceof Vt)return new Jr(e);if(e instanceof La)return new Zr(e.databaseId,e.key);throw t.createError("Unsupported field value: "+M(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new Da(ao.Argument,e,Jt.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},e}(),ja="firestore.googleapis.com",Ua=!0,Fa=!0,qa=!1,Ba=_r.COLLECTION_DISABLED,Va=!1,Wa=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new qt(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ja,this.ssl=Ua}else x("settings","non-empty string","host",e.host),this.host=e.host,C("settings","boolean","ssl",e.ssl),this.ssl=d(e.ssl,Ua);if(F("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),C("settings","object","credentials",e.credentials),this.credentials=e.credentials,C("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),e.timestampsInSnapshots===!0?s("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):e.timestampsInSnapshots===!1&&s("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=d(e.timestampsInSnapshots,Fa),C("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=_r.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ba&&e.cacheSizeBytes<_r.MINIMUM_CACHE_SIZE_BYTES)throw new qt(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+_r.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}C("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?qa:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),za=function(){function e(){}return e}(),Ha=function(){function e(t){var n=this;this._queue=new nn,this.INTERNAL={delete:function(){return Rt.__awaiter(n,void 0,void 0,function(){return Rt.__generator(this,function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return e.sent(),[2]}})})}};var r=new za;if("object"==typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Ea(i)}else{var o=t;if(!o.projectId)throw new qt(Ft.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new Kt(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new wa}r.settings=new Wa({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(E("Firestore.settings",arguments,1),I("Firestore.settings","object",1,e),p(e,"persistence"))throw new qt(Ft.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Wa(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new qt(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=t,void 0!==t.credentials&&(this._config.credentials=ft(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){
return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new qt(Ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&s("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=d(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,Va)),this.configureClient(new pa(this._config.settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Ur.buildStoragePrefix(this.makeDatabaseInfo()),n=new en;return this._queue.enqueueAndForget(function(){return Rt.__awaiter(e,void 0,void 0,function(){var e;return Rt.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new qt(Ft.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Ur.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new da),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new zt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},e.prototype.configureClient=function(e){var t=this;l(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),l(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo(),r=function(e){if(e instanceof Qa){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.isEqual(n))throw new qt(Ft.INVALID_ARGUMENT,"Document reference is for database "+(r.projectId+"/"+r.database+" but should be ")+("for database "+n.projectId+"/"+n.database));return new La(t._config.databaseId,e._key)}return e};return this._dataConverter=new Ma(r),this._firestoreClient=new ma(Ut.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!p(t,"projectId"))throw new qt(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new qt(Ft.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Kt(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new qt(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return E("Firestore.collection",arguments,1),I("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new ts(Xt.fromString(e),this)},e.prototype.doc=function(e){return E("Firestore.doc",arguments,1),I("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Qa.forPath(Xt.fromString(e),this)},e.prototype.collectionGroup=function(e){if(E("Firestore.collectionGroup",arguments,1),I("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ja(new mo(Xt.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return E("Firestore.runTransaction",arguments,1),I("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Ka(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new Ga(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(i()){case kt.DEBUG:return"debug";case kt.ERROR:return"error";case kt.SILENT:return"silent";default:return c("Unknown log level: "+i())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(E("Firestore.setLogLevel",arguments,1),I("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":o(kt.DEBUG);break;case"error":o(kt.ERROR);break;case"silent":o(kt.SILENT);break;default:throw new qt(Ft.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),Ka=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;E("Transaction.get",arguments,1);var n=St("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return c("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Fn)return new Xa(t._firestore,n._key,null,!1,!1);if(r instanceof Un)return new Xa(t._firestore,n._key,r,!1,!1);throw c("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){_("Transaction.set",arguments,2,3);var r=St("Transaction.set",e,this._firestore);n=Et("Transaction.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"==typeof t||t instanceof va?(T("Transaction.update",arguments,3),o=St("Transaction.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,r)):(E("Transaction.update",arguments,2),o=St("Transaction.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(o._key,a),this},e.prototype.delete=function(e){E("Transaction.delete",arguments,1);var t=St("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Ga=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){_("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=St("WriteBatch.set",e,this._firestore);n=Et("WriteBatch.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,si.NONE)),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"==typeof t||t instanceof va?(T("WriteBatch.update",arguments,3),o=St("WriteBatch.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,r)):(E("WriteBatch.update",arguments,2),o=St("WriteBatch.update",e,this._firestore),a=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(a.toMutations(o._key,si.exists(!0))),this},e.prototype.delete=function(e){E("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=St("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new hi(t._key,si.NONE)),this},e.prototype.commit=function(){return Rt.__awaiter(this,void 0,void 0,function(){return Rt.__generator(this,function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new qt(Ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Qa=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!==0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+(t.canonicalString()+" has "+t.length));return new e(new Zt(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ts(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(E("DocumentReference.collection",arguments,1),I("DocumentReference.collection","non-empty string",1,e),!e)throw new qt(Ft.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Xt.fromString(e);return new ts(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){_("DocumentReference.set",arguments,1,2),t=Et("DocumentReference.set",t);var n=t.merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,si.NONE))},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"==typeof e||e instanceof va?(T("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,n)):(E("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(i.toMutations(this._key,si.exists(!0)))},e.prototype.delete=function(){return E("DocumentReference.delete",arguments,0),this._firestoreClient.write([new hi(this._key,si.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];_("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||ht(e[i])||(r=e[i],F("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),C("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ht(e[i])?n=e[i]:(I("DocumentReference.onSnapshot","function",i,e[i]),A("DocumentReference.onSnapshot","function",i+1,e[i+1]),A("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new ya({next:function(e){if(t.next){l(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Xa(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(mo.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return _("DocumentReference.get",arguments,0,1),_t("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new Xa(t.firestore,t._key,e,!0,e instanceof Un&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new qt(Ft.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new qt(Ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),Ya=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Xa=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return _("DocumentSnapshot.data",arguments,0,1),e=Tt("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,Vr.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(_("DocumentSnapshot.get",arguments,1,2),t=Tt("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(vt("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Vr.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Qa(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Ya(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof ti)return this.convertObject(e,t);if(e instanceof ni)return this.convertArray(e,t);if(e instanceof Zr){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||s("Document "+this._key.path+" contains a document reference within a different database ("+(e.databaseId.projectId+"/"+e.databaseId.database+") which is not ")+"supported. It will be treated as a reference in the current "+("database ("+r.projectId+"/"+r.database+") ")+"instead."),new Qa(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return l("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Xa),Ja=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){if(E("Query.where",arguments,3),U("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];P("Query.where",i,2,n)}var o,a=vt("Query.where",t),s=vo.fromString(n);if(a.isKeyField()){if(s===vo.ARRAY_CONTAINS||s===vo.ARRAY_CONTAINS_ANY)throw new qt(Ft.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===vo.IN){this.validateDisjunctiveFilterElements(r,s);for(var u=[],c=0,l=r;c<l.length;c++){var f=l[c];u.push(this.parseDocumentIdValue(f))}o=new ni(u)}else o=this.parseDocumentIdValue(r)}else s!==vo.IN&&s!==vo.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,s),o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var h=go.create(a,s,o);return this.validateNewFilter(h),new e(this._query.addFilter(h),this.firestore)},e.prototype.orderBy=function(t,n){_("Query.orderBy",arguments,1,2),A("Query.orderBy","non-empty string",2,n);var r;if(void 0===n||"asc"===n)r=So.ASCENDING;else{if("desc"!==n)throw new qt(Ft.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=So.DESCENDING}if(null!==this._query.startAt)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=vt("Query.orderBy",t),o=new Ao(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(E("Query.limit",arguments,1),I("Query.limit","number",1,t),t<=0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];T("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];T("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];T("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];T("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(U(e,1,t),t instanceof Xa){if(n.length>0)throw new qt(Ft.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new qt(Ft.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+(e+"()."));return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Zr(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof $r)throw new qt(Ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a "+("document for which the field '"+u+"' (used as the ")+"orderBy) does not exist.")}r.push(s)}}return new Io(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new qt(Ft.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o],s=r[o];if(s.field.isKeyField()){if("string"!=typeof a)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+(e+"(), but got a "+typeof a));if(!this._query.isCollectionGroupQuery()&&a.indexOf("/")!==-1)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), "+("the value passed to "+e+"() must be a plain document ID, but ")+("'"+a+"' contains a slash."));var u=this._query.path.child(Xt.fromString(a));if(!Zt.isDocumentKey(u))throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by "+("FieldPath.documentId(), the value passed to "+e+"() must result in a ")+("valid document path, but '"+u+"' is not because it contains an odd number ")+"of segments.");var c=new Zt(u);i.push(new Zr(this.firestore._databaseId,c))}else{var l=this.firestore._dataConverter.parseQueryValue(e,a);i.push(l)}}return new Io(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];_("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||ht(e[i])||(r=e[i],F("Query.onSnapshot",r,["includeMetadataChanges"]),C("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ht(e[i])?n=e[i]:(I("Query.onSnapshot","function",i,e[i]),A("Query.onSnapshot","function",i+1,e[i+1]),A("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new ya({next:function(e){t.next&&t.next(new Za(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(e){var t=this;return _("Query.get",arguments,0,1),_t("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new Za(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new qt(Ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&e.indexOf("/")!==-1)throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but "+("'"+e+"' contains a '/' character."));var t=this._query.path.child(Xt.fromString(e));if(!Zt.isDocumentKey(t))throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, "+("but '"+t+"' is not because it has an odd number of segments ("+t.length+")."));return new Zr(this.firestore._databaseId,new Zt(t))}if(e instanceof Qa){var n=e;return new Zr(this.firestore._databaseId,n._key)}throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+(M(e)+"."))},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new qt(Ft.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for "+("'"+t.toString()+"' filters."));if(e.length>10)throw new qt(Ft.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter(function(e){return Number.isNaN(e)}).length>0)throw new qt(Ft.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof go){var t=[vo.ARRAY_CONTAINS,vo.ARRAY_CONTAINS_ANY],n=[vo.IN,vo.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have"+(" inequality filters on '"+o.toString()+"'")+(" and '"+e.field.toString()+"'"));var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new qt(Ft.INVALID_ARGUMENT,"Invalid query. You cannot use more than one "+("'"+e.op.toString()+"' filter.")):new qt(Ft.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters "+("with '"+s.toString()+"' filters."))}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new qt(Ft.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality "+("(<, <=, >, or >=) on field '"+e.toString()+"' ")+("and so you must also use '"+e.toString()+"' ")+"as your first Query.orderBy(), but your first Query.orderBy() "+("is on field '"+t.toString()+"' instead."))},e}(),Za=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ya(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;_("QuerySnapshot.forEach",arguments,1,2),I("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Ja(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(F("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),C("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new qt(Ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=It(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw q("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new $a(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}(),es=["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]);es.forEach(function(e){try{Object.defineProperty(Za.prototype.docChanges,e,{get:function(){return wt()}})}catch(e){}});var ts=function(e){function t(t,n){var r=e.call(this,mo.atPath(t),n)||this;if(t.length%2!==1)throw new qt(Ft.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+(t.canonicalString()+" has "+t.length));return r}return Rt.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Qa(new Zt(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(_("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Bt.newId()),I("CollectionReference.doc","non-empty string",1,e),""===e)throw new qt(Ft.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Xt.fromString(e);return Qa.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){E("CollectionReference.add",arguments,1),I("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Ja),ns=h(Ha,"Use firebase.firestore() instead."),rs=h(Ka,"Use firebase.firestore().runTransaction() instead."),is=h(Ga,"Use firebase.firestore().batch() instead."),os=h(Qa,"Use firebase.firestore().doc() instead."),as=h(Xa),ss=h($a),us=h(Ja),cs=h(Za),ls=h(ts,"Use firebase.firestore().collection() instead."),fs={Firestore:ns,GeoPoint:po,Timestamp:un,Blob:Wt,Transaction:rs,WriteBatch:is,DocumentReference:os,DocumentSnapshot:as,Query:us,QueryDocumentSnapshot:ss,QuerySnapshot:cs,CollectionReference:ls,FieldPath:va,FieldValue:Oa,setLogLevel:Ha.setLogLevel,CACHE_SIZE_UNLIMITED:Ba},hs=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),ps="ConnectivityMonitor",ds=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){a(ps,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){var n=t[e];n(0)}},e.prototype.onNetworkUnavailable=function(){a(ps,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){var n=t[e];n(1)}},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ms=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){l(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){l(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){l(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){l(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){l(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){l(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),ys="Connection",vs="google.firestore.v1.Firestore",gs="v1",bs={BatchGetDocuments:"batchGet",Commit:"commit"},ws="gl-js/ fire/"+Lt,Es=15,Ts=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,
this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=ws},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(o,s){var u=new Dt.XhrIo;u.listenOnce(Dt.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Dt.ErrorCode.NO_ERROR:var t=u.getResponseJson();a(ys,"XHR received:",JSON.stringify(t)),o(t);break;case Dt.ErrorCode.TIMEOUT:a(ys,'RPC "'+e+'" timed out'),s(new qt(Ft.DEADLINE_EXCEEDED,"Request time out"));break;case Dt.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(a(ys,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=nt(r.status);s(new qt(i,r.message))}else s(new qt(Ft.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(ys,'RPC "'+e+'" failed'),s(new qt(Ft.UNAVAILABLE,"Connection failed."));break;default:c('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{a(ys,'RPC "'+e+'" completed.')}});var l=JSON.stringify(t);a(ys,"XHR sending: ",i+" "+l);var f={"Content-Type":"text/plain"};r.modifyHeadersForRequest(f,n),u.send(i,"POST",l,f,Es)})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/",vs,"/",e,"/channel"],r=Dt.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),Pt.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");a(ys,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,f=new ms({sendFn:function(e){c?a(ys,"Not sending because WebChannel is closed:",e):(u||(a(ys,"Opening WebChannel transport."),s.open(),u=!0),a(ys,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}}),h=function(e,t){s.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(Dt.WebChannel.EventType.OPEN,function(){c||a(ys,"WebChannel transport opened.")}),h(Dt.WebChannel.EventType.CLOSE,function(){c||(c=!0,a(ys,"WebChannel transport closed"),f.callOnClose())}),h(Dt.WebChannel.EventType.ERROR,function(e){c||(c=!0,a(ys,"WebChannel transport errored:",e),f.callOnClose(new qt(Ft.UNAVAILABLE,"The operation could not be completed")))}),h(Dt.WebChannel.EventType.MESSAGE,function(e){if(!c){var t=e.data[0];l(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){a(ys,"WebChannel received error:",r);var i=r.status,o=Ze(i),u=r.message;void 0===o&&(o=Ft.INTERNAL,u="Unknown error status: "+i+" with message "+r.message),c=!0,f.callOnClose(new qt(o,u)),s.close()}else a(ys,"WebChannel received:",t),f.callOnMessage(t)}}),setTimeout(function(){f.callOnOpen()},0),f},e.prototype.makeUrl=function(e){var t=bs[e];l(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/",gs];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),_s=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new Ts(e))},e.prototype.newConnectivityMonitor=function(){return ds.isAvailable()?new ds:new hs},e.prototype.newSerializer=function(e){return new jo(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();Ut.setPlatform(new _s),Ct(Ot),t.registerFirestore=Ct},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(e){return"storage/"+e}function o(){var e="An unknown error occurred, please check the error payload for server response.";return new et(tt.UNKNOWN,e)}function a(e){return new et(tt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function s(e){return new et(tt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(tt.UNAUTHENTICATED,e)}function c(e){return new et(tt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function l(){return new et(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new et(tt.CANCELED,"User canceled the upload/download.")}function h(e){return new et(tt.INVALID_URL,"Invalid URL '"+e+"'.")}function p(e){return new et(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function d(){return new et(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Xe+"' property when initializing the app?")}function m(){return new et(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y(){return new et(tt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v(){return new et(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g(e,t,n){return new et(tt.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function b(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new et(tt.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function w(){return new et(tt.APP_DELETED,"The Firebase app was deleted.")}function E(e){return new et(tt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function T(e,t){return new et(tt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _(e){throw new et(tt.INTERNAL_ERROR,"Internal error: "+e)}function S(e){switch(e){case nt.RAW:case nt.BASE64:case nt.BASE64URL:case nt.DATA_URL:return;default:throw"Expected one of the event types: ["+nt.RAW+", "+nt.BASE64+", "+nt.BASE64URL+", "+nt.DATA_URL+"]."}}function I(e,t){switch(e){case nt.RAW:return new rt(A(t));case nt.BASE64:case nt.BASE64URL:return new rt(C(e,t));case nt.DATA_URL:return new rt(k(t),O(t))}throw o()}function A(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){var o=r,a=e.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function x(e){var t;try{t=decodeURIComponent(e)}catch(e){throw T(nt.DATA_URL,"Malformed data URL.")}return A(t)}function C(e,t){switch(e){case nt.BASE64:var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw T(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case nt.BASE64URL:var o=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw T(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw T(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function k(e){var t=new it(e);return t.base64?C(nt.BASE64,t.rest):x(t.rest)}function O(e){var t=new it(e);return t.contentType}function N(e,t){var n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}function R(e){switch(e){case at.RUNNING:case at.PAUSING:case at.CANCELING:return st.RUNNING;case at.PAUSED:return st.PAUSED;case at.SUCCESS:return st.SUCCESS;case at.CANCELED:return st.CANCELED;case at.ERROR:return st.ERROR;default:return st.ERROR}}function P(e){return null!=e}function D(e){return void 0!==e}function L(e){return"function"==typeof e}function M(e){return"object"==typeof e}function j(e){return M(e)&&null!==e}function U(e){return M(e)&&!Array.isArray(e)}function F(e){return"string"==typeof e||e instanceof String}function q(e){return B(e)&&Number.isInteger(e)}function B(e){return"number"==typeof e||e instanceof Number}function V(e){return W()&&e instanceof Blob}function W(){return"undefined"!=typeof Blob}function z(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=z();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(W())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function K(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function G(e){var t;try{t=JSON.parse(e)}catch(e){return null}return U(t)?t:null}function Q(e){if(0===e.length)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Y(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function X(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function $(e){return"https://"+Ye+"/v0"+e}function J(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1)}function Z(e,t){return t}function ee(e){return!F(e)||e.length<2?e:X(e)}function te(){function e(e,t){return ee(t)}function t(e,t){return P(t)?Number(t):t}if(pt)return pt;var n=[];n.push(new ht("bucket")),n.push(new ht("generation")),n.push(new ht("metageneration")),n.push(new ht("name","fullPath",!0));var r=new ht("name");r.xform=e,n.push(r);var i=new ht("size");return i.xform=t,n.push(i),n.push(new ht("timeCreated")),n.push(new ht("updated")),n.push(new ht("md5Hash",null,!0)),n.push(new ht("cacheControl",null,!0)),n.push(new ht("contentDisposition",null,!0)),n.push(new ht("contentEncoding",null,!0)),n.push(new ht("contentLanguage",null,!0)),n.push(new ht("contentType",null,!0)),n.push(new ht("metadata","customMetadata",!0)),pt=n}function ne(e,t){function n(){var n=e.bucket,r=e.fullPath,i=new ft(n,r);return t.makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function re(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return ne(r,e),r}function ie(e,t,n){var r=G(t);if(null===r)return null;var i=r;return re(e,i,n)}function oe(e,t){var n=G(t);if(null===n)return null;if(!F(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent,o=r.split(","),a=o.map(function(t){var n=e.bucket,r=e.fullPath,o="/b/"+i(n)+"/o/"+i(r),a=$(o),s=J({alt:"media",token:t});return a+s});return a[0]}function ae(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function se(e){if(!M(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!M(n))throw"Expected object for 'customMetadata' mapping."}else if(j(n))throw"Mapping for '"+t+"' cannot be an object."}}function ue(e,t){var n={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=e.bucket();if(null===r)throw d();if(t[vt])for(var i=0,o=t[vt];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=e.makeStorageReference(new ft(r,s));n.prefixes.push(u)}if(t[gt])for(var c=0,l=t[gt];c<l.length;c++){var f=l[c],u=e.makeStorageReference(new ft(r,f.name));n.items.push(u)}return n}function ce(e,t){var n=G(t);if(null===n)return null;var r=n;return ue(e,r)}function le(e){if(!M(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===dt){if(!q(e[dt])||e[dt]<=0)throw"Expected maxResults to be a positive number.";if(e[dt]>1e3)throw"Expected maxResults to be less than or equal to "+mt+"."}else{if(t!==yt)throw"Unknown option: "+t;if(e[yt]&&!F(e[yt]))throw"Expected pageToken to be string."}}function fe(e){if(!e)throw o()}function he(e,t){function n(n,r){var i=ie(e,r,t);return fe(null!==i),i}return n}function pe(e){function t(t,n){var r=ce(e,n);return fe(null!==r),r}return t}function de(e,t){function n(n,r){var i=ie(e,r,t);return fe(null!==i),oe(i,r)}return n}function me(e){function t(t,n){var r;return r=401===t.getStatus()?u():402===t.getStatus()?s(e.bucket):403===t.getStatus()?c(e.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return t}function ye(e){function t(t,r){var i=n(t,r);return 404===t.getStatus()&&(i=a(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=me(e);return t}function ve(e,t,n){var r=t.fullServerUrl(),i=$(r),o="GET",a=e.maxOperationRetryTime(),s=new bt(i,o,he(e,n),a);return s.errorHandler=ye(t),s}function ge(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=t.bucketOnlyServerUrl(),s=$(a),u="GET",c=e.maxOperationRetryTime(),l=new bt(s,u,pe(e),c);return l.urlParams=o,l.errorHandler=me(t),l}function be(e,t,n){var r=t.fullServerUrl(),i=$(r),o="GET",a=e.maxOperationRetryTime(),s=new bt(i,o,de(e,n),a);return s.errorHandler=ye(t),s}function we(e,t,n,r){var i=t.fullServerUrl(),o=$(i),a="PATCH",s=ae(n,r),u={"Content-Type":"application/json; charset=utf-8"},c=e.maxOperationRetryTime(),l=new bt(o,a,he(e,r),c);return l.headers=u,l.body=s,l.errorHandler=ye(t),l}function Ee(e,t){function n(e,t){}var r=t.fullServerUrl(),i=$(r),o="DELETE",a=e.maxOperationRetryTime(),s=new bt(i,o,n,a);return s.successCodes=[200,204],s.errorHandler=ye(t),s}function Te(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function _e(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Te(null,t)),r}function Se(e,t,n,r,i){function o(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}var a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=o();s["Content-Type"]="multipart/related; boundary="+u;var c=_e(t,r,i),l=ae(c,n),f="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",h="\r\n--"+u+"--",p=lt.getBlob(f,r,h);if(null===p)throw m();var d={name:c.fullPath},y=$(a),v="POST",g=e.maxUploadRetryTime(),b=new bt(y,v,he(e,n),g);return b.urlParams=d,b.headers=s,b.body=p.uploadData(),b.errorHandler=me(t),b}function Ie(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){fe(!1)}var r=t||["active"];return fe(!!n&&r.indexOf(n)!==-1),n}function Ae(e,t,n,r,i){function o(e){Ie(e);var t;try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){fe(!1)}return fe(F(t)),t}var a=t.bucketOnlyServerUrl(),s=_e(t,r,i),u={name:s.fullPath},c=$(a),l="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=ae(s,n),p=e.maxUploadRetryTime(),d=new bt(c,l,o,p);return d.urlParams=u,d.headers=f,d.body=h,d.errorHandler=me(t),d}function xe(e,t,n,r){function i(e){var t=Ie(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){fe(!1)}n||fe(!1);var i=Number(n);return fe(!isNaN(i)),new wt(i,r.size(),"final"===t)}var o={"X-Goog-Upload-Command":"query"},a="POST",s=e.maxUploadRetryTime(),u=new bt(n,a,i,s);return u.headers=o,u.errorHandler=me(t),u}function Ce(e,t,n,r,i,o,a,s){function u(e,n){var i,a=Ie(e,["active","final"]),s=c.current+f,u=r.size();return i="final"===a?he(t,o)(e,n):null,new wt(s,u,"final"===a,i)}var c=new wt(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw y();var l=c.total-c.current,f=l;i>0&&(f=Math.min(f,i));var h=c.current,p=h+f,d=f===l?"upload, finalize":"upload",v={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":c.current},g=r.slice(h,p);if(null===g)throw m();var b="POST",w=t.maxUploadRetryTime(),E=new bt(n,b,u,w);return E.headers=v,E.body=g.uploadData(),E.progressCallback=s||null,E.errorHandler=me(e),E}function ke(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}var a=r<=n.length&&n.length<=i;if(!a)throw b(r,i,e,n.length);for(var o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?g(o,e,t.message):g(o,e,t)}}function Oe(e,t){return function(n){e(n),t(n)}}function Ne(e,t){function n(e){if(!F(e))throw"Expected string."}var r;return r=e?Oe(n,e):n,new St(r,t)}function Re(){function e(e){var t=e instanceof Uint8Array||e instanceof ArrayBuffer||W()&&e instanceof Blob;if(!t)throw"Expected Blob or File."}return new St(e)}function Pe(e){return new St(se,e)}function De(e){return new St(le,e)}function Le(){function e(e){var t=B(e)&&e>=0;if(!t)throw"Expected a number 0 or greater."}return new St(e)}function Me(e,t){function n(t){var n=null===t||P(t)&&t instanceof Object;if(!n)throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new St(n,t)}function je(e){function t(e){var t=null===e||L(e);if(!t)throw"Expected a Function."}return new St(t,e)}function Ue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}function Fe(e,t,n){function r(){return 2===f}function i(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];h||(h=!0,t.apply(null,e))}function o(t){c=setTimeout(function(){c=null,e(a,r())},t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!h){if(e)return void i.call.apply(i,[null,e].concat(t));var a=r()||l;if(a)return void i.call.apply(i,[null,e].concat(t));u<64&&(u*=2);var s;1===f?(f=2,s=0):s=1e3*(u+Math.random()),o(s)}}function s(e){p||(p=!0,h||(null!==c?(e||(f=2),clearTimeout(c),o(0)):e||(f=1)))}var u=1,c=null,l=!1,f=0,h=!1,p=!1;return o(0),setTimeout(function(){l=!0,s(!0)},n),s}function qe(e){e(!1)}function Be(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Ve(e){var t="undefined"!=typeof Ge?Ge.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function We(e,t,n){var r=J(e.urlParams),i=e.url+r,o=Object.assign({},e.headers);return Be(o,t),Ve(o),new Ot(i,e.method,o,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}function ze(e,t,n){return new Rt(e,new ct,n)}function He(e){var t={TaskState:st,TaskEvent:ot,StringFormat:nt,Storage:Rt,Reference:At};e.INTERNAL.registerService(Dt,ze,t,void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0});var Ke,Ge=r(n(47)),Qe=n(74),Ye="firebasestorage.googleapis.com",Xe="storageBucket",$e=12e4,Je=6e4,Ze=-9007199254740991,et=function(){function e(e,t){this.code_=i(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return i(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),tt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},nt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rt=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}(),it=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw T(nt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=N(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return e}(),ot={STATE_CHANGED:"state_changed"},at={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},st={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ke||(Ke={}));var ut=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ke.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=Ke.ABORT,t(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Ke.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(){t(e)})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw _("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),P(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return P(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){P(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){P(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),ct=function(){function e(){}return e.prototype.createXhrIo=function(){return new ut},e}(),lt=function(){function e(e,t){var n=0,r="";V(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(V(this.data_)){var r=this.data_,i=K(r,t,n);return null===i?null:new e(i)}var o=new Uint8Array(this.data_.buffer,t,n-t);return new e(o,!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(W()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(H.apply(null,r))}var i=t.map(function(e){return F(e)?I(nt.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),ft=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw p(t)},e.makeFromUrl=function(t){function n(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}function r(e){e.path_=decodeURIComponent(e.path)}for(var i=null,o="([A-Za-z0-9.\\-_]+)",a="(/(.*))?$",s="(/([^?#]*).*)?$",u=new RegExp("^gs://"+o+a,"i"),c={bucket:1,path:3},l="v[A-Za-z0-9_]+",f=Ye.replace(/[.]/g,"\\."),p=new RegExp("^https?://"+f+"/"+l+"/b/"+o+"/o"+s,"i"),d={bucket:1,path:3},m=[{regex:u,indices:c,postModify:n},{regex:p,indices:d,postModify:r}],y=0;y<m.length;y++){var v=m[y],g=v.regex.exec(t);if(g){var b=g[v.indices.bucket],w=g[v.indices.path];w||(w=""),i=new e(b,w),v.postModify(i);break}}if(null==i)throw h(t);return i},e}(),ht=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Z}return e}(),pt=null,dt="maxResults",mt=1e3,yt="pageToken",vt="prefixes",gt="items",bt=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}(),wt=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}(),Et=262144,Tt=function(){function e(e,t,n){var r=L(e)||P(t)||P(n);if(r)this.next=e,this.error=t||null,this.complete=n||null;else{var i=e;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}return e}(),_t=function(){function e(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return e}(),St=function(){function e(e,t){var n=this;this.validator=function(t){n.optional&&!D(t)||e(t)},this.optional=!!t}return e}(),It=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=at.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(tt.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(at.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(tt.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(at.ERROR))},this.promise_=new Promise(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===at.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case at.RUNNING:e(n);break;case at.CANCELING:t.transition_(at.CANCELED);break;case at.PAUSING:t.transition_(at.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=Ae(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r=xe(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=Et*this.chunkMultiplier_,n=new wt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Ce(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(at.ERROR)}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(at.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){var e=Et*this.chunkMultiplier_;e<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=ve(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(at.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=Se(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(at.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case at.CANCELING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case at.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case at.RUNNING:var t=this.state_===at.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case at.PAUSED:this.state_=e,this.notifyObservers_();break;case at.CANCELED:this.error_=f(),this.state_=e,this.notifyObservers_();break;case at.ERROR:this.state_=e,this.notifyObservers_();break;case at.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case at.PAUSING:this.transition_(at.PAUSED);break;case at.CANCELING:this.transition_(at.CANCELED);break;case at.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=R(this.state_);return new _t(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==ot.STATE_CHANGED)throw"Expected one of the event types: ["+ot.STATE_CHANGED+"]."}function o(e){try{return void c(e)}catch(e){}try{l(e);var t=D(e.next)||D(e.error)||D(e.complete);if(!t)throw"";return}catch(e){throw u}}function a(e){function t(t,n,i){null!==e&&ke("on",e,arguments);
var o=new Tt(t,n,r);return h.addObserver_(o),function(){h.removeObserver_(o)}}return t}function s(e){if(null===e)throw u;o(e)}var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=je(!0).validator,l=Me(null,!0).validator,f=[Ne(i),Me(o,!0),je(!0),je(!0)];ke("on",f,arguments);var h=this,p=[Me(s),je(!0),je(!0)],d=!(D(t)||D(n)||D(r));return d?a(p):a(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);t!==-1&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_();var t=this.observers_.slice();t.forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(R(this.state_)){case st.SUCCESS:Ue(this.resolve_.bind(null,this.snapshot))();break;case st.CANCELED:case st.ERROR:var t=this.reject_;Ue(t.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){var t=R(this.state_);switch(t){case st.RUNNING:case st.PAUSED:e.next&&Ue(e.next.bind(e,this.snapshot))();break;case st.SUCCESS:e.complete&&Ue(e.complete.bind(e))();break;case st.CANCELED:case st.ERROR:e.error&&Ue(e.error.bind(e,this.error_))();break;default:e.error&&Ue(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){ke("resume",[],arguments);var e=this.state_===at.PAUSED||this.state_===at.PAUSING;return e&&this.transition_(at.RUNNING),e},e.prototype.pause=function(){ke("pause",[],arguments);var e=this.state_===at.RUNNING;return e&&this.transition_(at.PAUSING),e},e.prototype.cancel=function(){ke("cancel",[],arguments);var e=this.state_===at.RUNNING||this.state_===at.PAUSING;return e&&this.transition_(at.CANCELING),e},e}(),At=function(){function e(e,t){this.authWrapper=e,t instanceof ft?this.location=t:this.location=ft.makeFromUrl(t)}return e.prototype.toString=function(){return ke("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return te()},e.prototype.child=function(e){ke("child",[Ne()],arguments);var t=Y(this.location.path,e),n=new ft(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=Q(this.location.path);if(null===e)return null;var t=new ft(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new ft(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return X(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ke("put",[Re(),Pe(!0)],arguments),this.throwIfRoot_("put"),new It(this,this.authWrapper,this.location,this.mappings(),new lt(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=nt.RAW),ke("putString",[Ne(),Ne(S,!0),Pe(!0)],arguments),this.throwIfRoot_("putString");var r=I(t,e),i=Object.assign({},n);return!P(i.contentType)&&P(r.contentType)&&(i.contentType=r.contentType),new It(this,this.authWrapper,this.location,this.mappings(),new lt(r.data,!0),i)},e.prototype.delete=function(){var e=this;return ke("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then(function(t){var n=Ee(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.listAll=function(){ke("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then(function(){return e})},e.prototype.listAllHelper=function(e,t){return Qe.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return Qe.__generator(this,function(a){switch(a.label){case 0:return n={pageToken:t},[4,this.list(n)];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},e.prototype.list=function(e){ke("list",[De(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then(function(n){var r=e||{},i=ge(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()})},e.prototype.getMetadata=function(){var e=this;return ke("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then(function(t){var n=ve(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){var t=this;return ke("updateMetadata",[Pe()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then(function(n){var r=we(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()})},e.prototype.getDownloadURL=function(){var e=this;return ke("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then(function(t){var n=be(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then(function(e){if(null===e)throw v();return e})})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw E(e)},e}(),xt=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Ct=function(){function e(){this.map=new Map,this.id=Ze}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then(function(){return t.map.delete(n)},function(){return t.map.delete(n)})},e.prototype.clear=function(){this.map.forEach(function(e){e&&e.cancel(!0)}),this.map.clear()},e}(),kt=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;P(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=$e,this.maxUploadRetryTime_=Je,this.requestMap_=new Ct}return e.extractBucket_=function(e){var t=e[Xe]||null;if(null==t)return null;var n=ft.makeFromBucketSpec(t);return n.bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&P(this.app_.INTERNAL)&&P(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(){return null}):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw w();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new xt(w());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),Ot=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){function e(e,t){function r(e){var t=e.loaded,r=e.lengthComputable?e.total:-1;null!==n.progressCallback_&&n.progressCallback_(t,r)}if(t)return void e(!1,new Nt(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(t){null!==n.progressCallback_&&t.removeUploadProgressListener(r),n.pendingXhr_=null,t=t;var i=t.getErrorCode()===Ke.NO_ERROR,o=t.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=t.getErrorCode()===Ke.ABORT;return void e(!1,new Nt(!1,null,a))}var s=n.successCodes_.indexOf(o)!==-1;e(!0,new Nt(s,t))})}function t(e,t){var r=n.resolve_,i=n.reject_,a=t.xhr;if(t.wasSuccessCode)try{var s=n.callback_(a,a.getResponseText());D(s)?r(s):r()}catch(e){i(e)}else if(null!==a){var u=o();u.setServerResponseProp(a.getResponseText()),i(n.errorCallback_?n.errorCallback_(a,u):u)}else if(t.canceled){var u=n.appDelete_?w():f();i(u)}else{var u=l();i(u)}}var n=this;this.canceled_?t(!1,new Nt(!1,null,!0)):this.backoffId_=Fe(e,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&qe(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],r=n.indexOf(e)!==-1,i=this.additionalRetryCodes_.indexOf(e)!==-1;return t||r||i},e}(),Nt=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}(),Rt=function(){function e(e,t,n){function r(e,t){return new At(e,t)}if(this.bucket_=null,this.authWrapper_=new kt(e,r,We,this,t),this.app_=e,null!=n)this.bucket_=ft.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new ft(i,""))}this.internals_=new Pt(this)}return e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(ke("ref",[Ne(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new At(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{ft.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return ke("refFromURL",[Ne(t,!1)],arguments),new At(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ke("setMaxUploadRetryTime",[Le()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){ke("setMaxOperationRetryTime",[Le()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),Pt=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}(),Dt="storage";He(Ge),t.registerStorage=He},function(e,t){(function(t){(function(){"use strict";function t(e){return"string"==typeof e}function n(e){return"number"==typeof e}function r(e,t){e=e.split("."),t=t||gn;for(var n=0;n<e.length;n++)if(t=t[e[n]],null==t)return null;return t}function i(){}function o(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function a(e){return"array"==o(e)}function s(e){var t=o(e);return"array"==t||"object"==t&&"number"==typeof e.length}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:l,f.apply(null,arguments)}function h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function p(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(){0!=Tn&&(_n[this[bn]||(this[bn]=++wn)]=this),this.j=this.j,this.i=this.i}function m(e){e:{for(var n=Lt,r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break e}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function y(e){return Array.prototype.concat.apply([],arguments)}function v(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e){return/^[\s\xa0]*$/.test(e)}function b(e,t){return-1!=e.indexOf(t)}function w(e,t){return e<t?-1:e>t?1:0}function E(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function T(e){var t,n={};for(t in e)n[t]=e[t];return n}function _(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<On.length;o++)n=On[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){return S[" "](e),e}function I(e,t){var n=Vn;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function A(){var e=gn.document;return e?e.documentMode:void 0}function x(e){return I(e,function(){for(var t=0,n=xn(String(Nn)).split("."),r=xn(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=w(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||w(0==a[2].length,0==s[2].length)||w(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function C(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function k(e,n){if(C.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var r=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=n,n=e.relatedTarget){if(Mn){e:{try{S(n.nodeName);var o=!0;break e}catch(e){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:Gn[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}function O(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++Yn,this.X=this.Z=!1}function N(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function R(e){this.src=e,this.a={},this.b=0}function P(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=In(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(N(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function D(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}function L(e,t,n,r,i){if(r&&r.once)return U(e,t,n,r,i);if(a(t)){for(var o=0;o<t.length;o++)L(e,t[o],n,r,i);return null}return n=H(n),e&&e[Qn]?e.Aa(t,n,u(r)?!!r.capture:!!r,i):M(e,t,n,!1,r,i)}function M(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=u(i)?!!i.capture:!!i;if(a&&!zn)return null;var s=z(e);if(s||(e[Xn]=s=new R(e)),n=s.add(t,n,r,a,o),n.proxy)return n;if(r=j(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(B(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return Jn++,n}function j(){var e=W,t=zn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function U(e,t,n,r,i){if(a(t)){for(var o=0;o<t.length;o++)U(e,t[o],n,r,i);return null}return n=H(n),e&&e[Qn]?e.Ba(t,n,u(r)?!!r.capture:!!r,i):M(e,t,n,!0,r,i)}function F(e,t,n,r,i){if(a(t))for(var o=0;o<t.length;o++)F(e,t[o],n,r,i);else r=u(r)?!!r.capture:!!r,n=H(n),e&&e[Qn]?(e=e.c,t=String(t).toString(),t in e.a&&(o=e.a[t],n=D(o,n,r,i),-1<n&&(N(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=z(e))&&(t=e.a[t.toString()],e=-1,t&&(e=D(t,n,r,i)),(n=-1<e?t[e]:null)&&q(n))}function q(e){if(!n(e)&&e&&!e.X){var t=e.src;if(t&&t[Qn])P(t.c,e);else{var r=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(r,i,e.capture):t.detachEvent?t.detachEvent(B(r),i):t.addListener&&t.removeListener&&t.removeListener(i),Jn--,(r=z(t))?(P(r,e),0==r.b&&(r.src=null,t[Xn]=null)):N(e)}}}function B(e){return e in $n?$n[e]:$n[e]="on"+e}function V(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&q(e),n.call(r,t)}function W(e,t){return!!e.X||(zn?V(e,new k(t,this)):(t=new k(t||r("window.event"),this),V(e,t)))}function z(e){return e=e[Xn],e instanceof R?e:null}function H(e){return"function"==o(e)?e:(e[Zn]||(e[Zn]=function(t){return e.handleEvent(t)}),e[Zn])}function K(){d.call(this),this.c=new R(this),this.J=this,this.B=null}function G(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&P(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}function Q(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Y(){this.b=this.a=null}function X(){var e=ir,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function $(){this.next=this.b=this.a=null}function J(e){gn.setTimeout(function(){throw e},0)}function Z(e,t){nr||ee(),rr||(nr(),rr=!0),ir.add(e,t)}function ee(){var e=gn.Promise.resolve(void 0);nr=function(){e.then(te)}}function te(){for(var e;e=X();){try{e.a.call(e.b)}catch(e){J(e)}var t=tr;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}rr=!1}function ne(e,t){K.call(this),this.b=e||1,this.a=t||gn,this.f=f(this.gb,this),this.g=En()}function re(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function ie(e,t,n){if("function"==o(e))n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:gn.setTimeout(e,t||0)}function oe(e,t,n){d.call(this),this.f=null!=n?f(e,n):e,this.c=t,this.b=f(this.ab,this),this.a=[]}function ae(e){e.U=ie(e.b,e.c),e.f.apply(null,e.a)}function se(e){d.call(this),this.b=e,this.a={}}function ue(e,t,n,r){a(n)||(n&&(or[0]=n.toString()),n=or);for(var i=0;i<n.length;i++){var o=L(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ce(e){E(e.a,function(e,t){this.a.hasOwnProperty(t)&&q(e)},e),e.a={}}function le(){}function fe(e){C.call(this,"serverreachability",e)}function he(e){ar.dispatchEvent(new fe(ar,e))}function pe(e){C.call(this,"statevent",e)}function de(e){ar.dispatchEvent(new pe(ar,e))}function me(e){C.call(this,"timingevent",e)}function ye(e,t){if("function"!=o(e))throw Error("Fn must not be null and must be a function");return gn.setTimeout(function(){e()},t)}function ve(){}function ge(e){var t;return(t=e.a)||(t=e.a={}),t}function be(){}function we(){C.call(this,"d")}function Ee(){C.call(this,"c")}function Te(){}function _e(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new se(this),this.O=fr,e=Ln?125:void 0,this.P=new ne(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}function Se(e,t,n){e.F=1,e.f=$e(ze(t)),e.l=n,e.H=!0,Ae(e,null)}function Ie(e,t,n,r){e.F=1,e.f=$e(ze(t)),e.l=null,e.H=n,Ae(e,r)}function Ae(e,t){e.v=En(),ke(e),e.D=ze(e.f),Xe(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new oe(f(e.Ka,e,e.a),e.J)),ue(e.I,e.a,"readystatechange",e.eb),t=e.h?T(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),he(1)}function xe(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=Ce(e,n);if(i==pr){4==t&&(e.c=4,de(14),r=!1);break}if(i==hr){e.c=4,de(15),r=!1;break}De(e,i)}4==t&&0==n.length&&(e.c=1,de(16),r=!1),e.b=e.b&&r,r||(Pe(e),Re(e))}function Ce(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?pr:(n=Number(t.substring(n,r)),isNaN(n)?hr:(r+=1,r+n>t.length?pr:(t=t.substr(r,n),e.A=r+n,t)))}function ke(e){e.R=En()+e.O,Oe(e,e.O)}function Oe(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=ye(f(e.bb,e),t)}function Ne(e){e.i&&(gn.clearTimeout(e.i),e.i=null)}function Re(e){e.g.Da()||e.m||e.g.na(e)}function Pe(e){Ne(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,re(e.P),ce(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function De(e,t){try{e.g.Ga(e,t),he(4)}catch(e){}}function Le(e){if(e.C&&"function"==typeof e.C)return e.C();if(t(e))return e.split("");if(s(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}n=[],r=0;for(i in e)n[r++]=e[i];return n}function Me(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))An(e,n,void 0);else{if(e.K&&"function"==typeof e.K)var r=e.K();else if(e.C&&"function"==typeof e.C)r=void 0;else if(s(e)||t(e)){r=[];for(var i=e.length,o=0;o<i;o++)r.push(o)}else for(o in r=[],i=0,e)r[i++]=o;i=Le(e),o=i.length;for(var a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],e)}}function je(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof je)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ue(e){e.b={},e.a.length=0,e.c=0}function Fe(e,t){Be(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&qe(e))}function qe(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Be(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Be(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Be(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ve(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function We(e,t){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;e instanceof We?(this.h=void 0!==t?t:e.h,He(this,e.f),this.j=e.j,Ke(this,e.b),Ge(this,e.i),this.a=e.a,Qe(this,ut(e.c)),this.g=e.g):e&&(n=String(e).match(dr))?(this.h=!!t,He(this,n[1]||"",!0),this.j=et(n[2]||""),Ke(this,n[3]||"",!0),Ge(this,n[4]),this.a=et(n[5]||"",!0),Qe(this,n[6]||"",!0),this.g=et(n[7]||"")):(this.h=!!t,this.c=new rt(null,this.h))}function ze(e){return new We(e)}function He(e,t,n){e.f=n?et(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ke(e,t,n){e.b=n?et(t,!0):t}function Ge(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Qe(e,t,n){t instanceof rt?(e.c=t,lt(e.c,e.h)):(n||(t=tt(t,gr)),e.c=new rt(t,e.h))}function Ye(e,t,n){e.c.set(t,n)}function Xe(e,t,n){a(n)||(n=[String(n)]),st(e.c,t,n)}function $e(e){return Ye(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^En()).toString(36)),e}function Je(e){return e instanceof We?ze(e):new We(e,void 0)}function Ze(e,t,n,r){var i=new We(null,void 0);return e&&He(i,e),t&&Ke(i,t),n&&Ge(i,n),r&&(i.a=r),i}function et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tt(e,n,r){return t(e)?(e=encodeURI(e).replace(n,nt),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function rt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function it(e){e.a||(e.a=new je,e.b=0,e.c&&Ve(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ot(e,t){it(e),t=ct(e,t),Be(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Fe(e.a,t))}function at(e,t){return it(e),t=ct(e,t),Be(e.a.b,t)}function st(e,t,n){ot(e,t),0<n.length&&(e.c=null,e.a.set(ct(e,t),v(n)),e.b+=n.length)}function ut(e){var t=new rt;return t.c=e.c,e.a&&(t.a=new je(e.a),t.b=e.b),t}function ct(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function lt(e,t){t&&!e.f&&(it(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ot(this,t),st(this,n,e))},e)),e.f=t}function ft(){this.a=En()}function ht(){wr||(wr=new ft)}function pt(){wr||(wr=new ft)}function dt(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function mt(e){var t=e.a.F.a;if(null!=t)de(4),t?(de(10),nn(e.a,e,!1)):(de(11),nn(e.a,e,!0));else{e.b=new _e(e,void 0,void 0),e.b.h=e.h,t=e.a,t=un(t,t.Y()?e.f:null,e.i),de(4),Xe(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ye(t,n,r),Ie(e.b,t,!1,e.f)}}function yt(){this.a=this.b=null}function vt(){this.a=new je}function gt(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[bn]||(e[bn]=++wn)):t.charAt(0)+e}function bt(e,t){this.b=e,this.a=t}function wt(e){this.g=e||Er,gn.PerformanceNavigationTiming?(e=gn.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(gn.ka&&gn.ka.Ea&&gn.ka.Ea()&&gn.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new vt),this.b=null,this.c=[]}function Et(e,t){!e.a&&(b(t,"spdy")||b(t,"quic")||b(t,"h2"))&&(e.f=e.g,e.a=new vt,e.b&&(It(e,e.b),e.b=null))}function Tt(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function _t(e){return e.b?1:e.a?e.a.a.c:0}function St(e,t){return e.b?e=e.b==t:e.a?(t=gt(t),e=Be(e.a.a.b,t)):e=!1,e}function It(e,t){e.a?e.a.add(t):e.b=t}function At(e,t){if(e.b&&e.b==t)e.b=null;else{var n;(n=e.a)&&(n=gt(t),n=Be(e.a.a.b,n)),n&&Fe(e.a.a,gt(t))}}function xt(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return An(e.a.C(),function(e){t=t.concat(e.j)}),t}return v(e.c)}function Ct(){}function kt(){this.a=new Ct}function Ot(e,t,n){var r=n||"";try{Me(e,function(e,n){var i=e;u(e)&&(i=er(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Nt(e,t){var n=new le;if(gn.Image){var r=new Image;r.onload=h(Rt,n,r,"TestLoadImage: loaded",!0,t),r.onerror=h(Rt,n,r,"TestLoadImage: error",!1,t),r.onabort=h(Rt,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=h(Rt,n,r,"TestLoadImage: timeout",!1,t),gn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Rt(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Pt(e){K.call(this),this.headers=new je,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=_r,this.D=this.F=!1}function Dt(e){return Pn&&x(9)&&n(e.timeout)&&void 0!==e.ontimeout}function Lt(e){return"content-type"==e.toLowerCase()}function Mt(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,jt(e),Ft(e)}function jt(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ut(e){if(e.b&&"undefined"!=typeof vn&&(!e.s[1]||4!=Bt(e)||2!=e.T()))if(e.l&&4==Bt(e))ie(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Bt(e)){e.b=!1;try{var t=e.T();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.A).match(dr)[1]||null;if(!o&&gn.self&&gn.self.location){var a=gn.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sr.test(o?o.toLowerCase():"")}r=i}r?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",jt(e))}finally{Ft(e)}}}function Ft(e,t){if(e.a){qt(e);var n=e.a,r=e.s[0]?i:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function qt(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(gn.clearTimeout(e.m),e.m=null)}function Bt(e){return e.a?e.a.readyState:0}function Vt(e,t){return e.a?e.a.getResponseHeader(t):null}function Wt(e){var t="";return E(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,n,r){e:{for(i in r){var i=!1;break e}i=!0}if(i)return e;if(r=Wt(r),t(e)){if(n=encodeURIComponent(String(n)),r=null!=r?"="+encodeURIComponent(String(r)):"",n+=r){if(r=e.indexOf("#"),0>r&&(r=e.length),i=e.indexOf("?"),0>i||i>r){i=r;var o=""}else o=e.substring(i+1,r);e=[e.substr(0,i),o,e.substr(r)],r=e[1],e[1]=n?r?r+"&"+n:n:r,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ye(e,n,r),e}function Ht(e){this.f=[],this.F=new yt,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!r("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=r("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=r("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=r("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=r("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new wt(e&&e.concurrentRequestLimit),this.ja=new kt,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Kt(e){if(Gt(e),3==e.u){var t=e.P++,n=ze(e.B);Ye(n,"SID",e.H),Ye(n,"RID",t),Ye(n,"TYPE","terminate"),Jt(e,n),t=new _e(e,t,void 0),t.F=2,t.f=$e(ze(n)),n=!1,gn.navigator&&gn.navigator.sendBeacon&&(n=gn.navigator.sendBeacon(t.f.toString(),"")),!n&&gn.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=En(),ke(t)}sn(e)}function Gt(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(gn.clearTimeout(e.l),e.l=null),rn(e),e.b.cancel(),e.h&&(n(e.h)&&gn.clearTimeout(e.h),e.h=null)}function Qt(e,t){e.f.push(new bt(e.Ra++,t)),3==e.u&&Yt(e)}function Yt(e){Tt(e.b)||e.h||(e.h=!0,Z(e.Ia,e),e.A=0)}function Xt(e,t){return!(_t(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=ye(f(e.Ia,e,t),on(e,e.A)),e.A++,!0))}function $t(e,t){var n;n=t?t.W:e.P++;
var r=ze(e.B);Ye(r,"SID",e.H),Ye(r,"RID",n),Ye(r,"AID",e.O),Jt(e,r),e.g&&e.i&&zt(r,e.g,e.i),n=new _e(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Zt(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),It(e.b,n),Se(n,r,t)}function Jt(e,t){e.c&&Me({},function(e,n){Ye(t,n,e)})}function Zt(e,t,n){n=Math.min(e.f.length,n);var r=e.c?f(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(c-=o,0>c)o=Math.max(0,i[u].b-100),s=!1;else try{Ot(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function en(e){e.a||e.l||(e.S=1,Z(e.Ha,e),e.v=0)}function tn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=ye(f(e.Ha,e),on(e,e.v)),e.v++,!0)}function nn(e,t,n){var r=t.l;r&&Et(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=un(e,null,e.ha),Yt(e)}function rn(e){null!=e.s&&(gn.clearTimeout(e.s),e.s=null)}function on(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function an(e,t){if(2==t){var n=null;e.c&&(n=null);var r=f(e.fb,e);n||(n=new We("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||He(n,"https"),$e(n)),Nt(n.toString(),r)}else de(2);e.u=0,e.c&&e.c.ta(t),sn(e),Gt(e)}function sn(e){e.u=0,e.m=-1,e.c&&(0==xt(e.b).length&&0==e.f.length||(e.b.c.length=0,v(e.f),e.f.length=0),e.c.sa())}function un(e,t,n){var r=Je(n);if(""!=r.b)t&&Ke(r,t+"."+r.b),Ge(r,r.i);else{var i,o=gn.location;i=t?t+"."+o.hostname:o.hostname,r=Ze(o.protocol,i,+o.port,n)}return e.V&&E(e.V,function(e,t){Ye(r,t,e)}),t=e.j,n=e.I,t&&n&&Ye(r,t,n),Ye(r,"VER",e.wa),Jt(e,r),r}function cn(){}function ln(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))t=r;else{var i;(i=""==t)||(i=t.length-1,i=0<=i&&t.indexOf("/",i)==i),t+=i?r:"/"+r}}return t}function fn(){if(Pn&&!(10<=Number(Bn)))throw Error("Environmental error: no available transport.")}function hn(e,t){K.call(this),this.a=new Ht(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:ln(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!g(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!g(t)&&(this.a.j=t,e=this.b,null!==e&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new mn(this)}function pn(e){we.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function dn(){Ee.call(this),this.status=1}function mn(e){this.a=e}var yn,vn=vn||{},gn=this,bn="closure_uid_"+(1e9*Math.random()>>>0),wn=0,En=Date.now||function(){return+new Date},Tn=0,_n={};d.prototype.j=!1,d.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0!=Tn)){var e=this[bn]||(this[bn]=++wn);if(0!=Tn&&this.i&&0<this.i.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete _n[e]}},d.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Sn,In=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,n){if(t(e))return t(n)&&1==n.length?e.indexOf(n,0):-1;for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},An=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},xn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};e:{var Cn=gn.navigator;if(Cn){var kn=Cn.userAgent;if(kn){Sn=kn;break e}}Sn=""}var On="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");S[" "]=i;var Nn,Rn=b(Sn,"Opera"),Pn=b(Sn,"Trident")||b(Sn,"MSIE"),Dn=b(Sn,"Edge"),Ln=Dn||Pn,Mn=b(Sn,"Gecko")&&!(b(Sn.toLowerCase(),"webkit")&&!b(Sn,"Edge"))&&!(b(Sn,"Trident")||b(Sn,"MSIE"))&&!b(Sn,"Edge"),jn=b(Sn.toLowerCase(),"webkit")&&!b(Sn,"Edge");e:{var Un="",Fn=function(){var e=Sn;return Mn?/rv:([^\);]+)(\)|;)/.exec(e):Dn?/Edge\/([\d\.]+)/.exec(e):Pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):jn?/WebKit\/(\S+)/.exec(e):Rn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Fn&&(Un=Fn?Fn[1]:""),Pn){var qn=A();if(null!=qn&&qn>parseFloat(Un)){Nn=String(qn);break e}}Nn=Un}var Bn,Vn={},Wn=gn.document;Bn=Wn&&Pn?A()||("CSS1Compat"==Wn.compatMode?parseInt(Nn,10):5):void 0;var zn=!Pn||9<=Number(Bn),Hn=Pn&&!x("9"),Kn=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gn.addEventListener("test",i,t),gn.removeEventListener("test",i,t)}catch(e){}return e}();C.prototype.b=function(){this.Ja=!1},p(k,C);var Gn={2:"touch",3:"pen",4:"mouse"};k.prototype.b=function(){k.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Hn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var Qn="closure_listenable_"+(1e6*Math.random()|0),Yn=0;R.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.a[o],e||(e=this.a[o]=[],this.b++);var a=D(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new O(t,this.src,o,!!r,i),t.Z=n,e.push(t)),t};var Xn="closure_lm_"+(1e6*Math.random()|0),$n={},Jn=0,Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);p(K,d),K.prototype[Qn]=!0,yn=K.prototype,yn.addEventListener=function(e,t,n,r){L(this,e,t,n,r)},yn.removeEventListener=function(e,t,n,r){F(this,e,t,n,r)},yn.dispatchEvent=function(e){var n,r=this.B;if(r)for(n=[];r;r=r.B)n.push(r);r=this.J;var i=e.type||e;if(t(e))e=new C(e,r);else if(e instanceof C)e.target=e.target||r;else{var o=e;e=new C(i,r),_(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var s=e.a=n[a];o=G(s,i,!0,e)&&o}if(s=e.a=r,o=G(s,i,!0,e)&&o,o=G(s,i,!1,e)&&o,n)for(a=0;a<n.length;a++)s=e.a=n[a],o=G(s,i,!1,e)&&o;return o},yn.G=function(){if(K.N.G.call(this),this.c){var e,t=this.c,n=0;for(e in t.a){for(var r=t.a[e],i=0;i<r.length;i++)++n,N(r[i]);delete t.a[e],t.b--}}this.B=null},yn.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},yn.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var er=gn.JSON.stringify;Q.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var tr=new Q(function(){return new $},function(e){e.reset()});Y.prototype.add=function(e,t){var n=tr.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},$.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},$.prototype.reset=function(){this.next=this.b=this.a=null};var nr,rr=!1,ir=new Y;p(ne,K),yn=ne.prototype,yn.ba=!1,yn.L=null,yn.gb=function(){if(this.ba){var e=En()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(re(this),this.start()))}},yn.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=En())},yn.G=function(){ne.N.G.call(this),re(this),delete this.a},p(oe,d),yn=oe.prototype,yn.ea=!1,yn.U=null,yn.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ae(this)},yn.G=function(){oe.N.G.call(this),this.U&&(gn.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},yn.ab=function(){this.U=null,this.ea&&(this.ea=!1,ae(this))},p(se,d);var or=[];se.prototype.G=function(){se.N.G.call(this),ce(this)},se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=new K;p(fe,C),p(pe,C),p(me,C);var sr={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ur={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};ve.prototype.a=null;var cr={OPEN:"a",ib:"b",Na:"c",rb:"d"};p(we,C),p(Ee,C);var lr;p(Te,ve),lr=new Te;var fr=45e3,hr={},pr={};yn=_e.prototype,yn.setTimeout=function(e){this.O=e},yn.eb=function(e){e=e.target;var t=this.B;t&&3==Bt(e)?t.Ua():this.Ka(e)},yn.Ka=function(e){try{if(e==this.a)e:{var t=Bt(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!Ln&&!this.a.aa())){this.m||4!=t||7==n||he(8==n||0>=r?3:2),Ne(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=Vt(this.a,"X-HTTP-Initial-Response");if(a&&!g(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,de(12),Pe(this),Re(this);break e}this.s=!0,De(this,s)}this.H?(xe(this,t,o),Ln&&this.b&&3==t&&(ue(this.I,this.P,"tick",this.cb),this.P.start())):De(this,o),4==t&&Pe(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,ke(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,de(12)):(this.c=0,de(13)),Pe(this),Re(this)}}}catch(e){}finally{}},yn.cb=function(){if(this.a){var e=Bt(this.a),t=this.a.aa();this.A<t.length&&(Ne(this),xe(this,e,t),this.b&&4!=e&&ke(this))}},yn.cancel=function(){this.m=!0,Pe(this)},yn.bb=function(){this.i=null;var e=En();0<=e-this.R?(2!=this.F&&(he(3),de(17)),Pe(this),this.c=2,Re(this)):Oe(this,this.R-e)},yn=je.prototype,yn.C=function(){qe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},yn.K=function(){return qe(this),this.a.concat()},yn.get=function(e,t){return Be(this.b,e)?this.b[e]:t},yn.set=function(e,t){Be(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},yn.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var dr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;We.prototype.toString=function(){var e=[],t=this.f;t&&e.push(tt(t,mr,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(tt(t,mr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(tt(n,"/"==n.charAt(0)?vr:yr,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",tt(n,br)),e.join("")},We.prototype.resolve=function(e){var t=ze(this),n=!!e.f;n?He(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Ke(t,e.b):n=null!=e.i;var r=e.a;if(n)Ge(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(b(i,"./")||b(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Qe(t,ut(e.c)):n=!!e.g,n&&(t.g=e.g),t};var mr=/[#\/\?@]/g,yr=/[#\?:]/g,vr=/[#\?]/g,gr=/[#\?@]/g,br=/#/g;yn=rt.prototype,yn.add=function(e,t){it(this),this.c=null,e=ct(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},yn.forEach=function(e,t){it(this),this.a.forEach(function(n,r){An(n,function(n){e.call(t,n,r,this)},this)},this)},yn.K=function(){it(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},yn.C=function(e){it(this);var n=[];if(t(e))at(this,e)&&(n=y(n,this.a.get(ct(this,e))));else{e=this.a.C();for(var r=0;r<e.length;r++)n=y(n,e[r])}return n},yn.set=function(e,t){return it(this),this.c=null,e=ct(this,e),at(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},yn.get=function(e,t){return e?(e=this.C(e),0<e.length?String(e[0]):t):t},yn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var wr=null;ft.prototype.set=function(e){this.a=e},ft.prototype.reset=function(){this.set(En())},ft.prototype.get=function(){return this.a},p(pt,ht),yn=dt.prototype,yn.M=null,yn.$=function(e){return this.a.$(e)},yn.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},yn.Da=function(){return!1},yn.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Vt(e,"X-Client-Wire-Protocol");this.l=n?n:null,this.a.j&&(e=Vt(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return t=this.a,t.m=this.c,void an(t,2)}this.f=r[0]}else t=this.a,t.m=this.c,an(t,2)}else 1==this.M&&(this.g?de(6):"11111"==t?(de(5),this.g=!0,(!Pn||10<=Number(Bn))&&(this.c=200,this.b.cancel(),de(11),nn(this.a,this,!0))):(de(7),this.g=!1))},yn.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,mt(this)):1==this.M&&(this.g?(de(11),nn(this.a,this,!0)):(de(10),nn(this.a,this,!1)));else{0==this.M?de(8):1==this.M&&de(9);var e=this.a;e.m=this.c,an(e,2)}},yn.Y=function(){return this.a.Y()},yn.ma=function(){return this.a.ma()},vt.prototype.add=function(e){this.a.set(gt(e),e)},vt.prototype.C=function(){return this.a.C()};var Er=10;wt.prototype.cancel=function(){this.c=xt(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(An(this.a.C(),function(e){e.cancel()}),Ue(this.a.a))},Ct.prototype.stringify=function(e){return gn.JSON.stringify(e,void 0)},Ct.prototype.parse=function(e){return gn.JSON.parse(e,void 0)};var Tr=gn.JSON.parse;p(Pt,K);var _r="",Sr=/^https?$/i,Ir=["POST","PUT"];yn=Pt.prototype,yn.ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=ge(this.H?this.H:lr),this.a.onreadystatechange=f(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Mt(this,e)}e=n||"";var i=new je(this.headers);r&&Me(r,function(e,t){i.set(t,e)}),r=m(i.K()),n=gn.FormData&&e instanceof gn.FormData,!(0<=In(Ir,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qt(this),0<this.o&&((this.D=Dt(this.a))?(this.a.timeout=this.o,this.a.ontimeout=f(this.Ca,this)):this.m=ie(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Mt(this,e)}},yn.Ca=function(){"undefined"!=typeof vn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},yn.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ft(this))},yn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ft(this,!0)),Pt.N.G.call(this)},yn.Fa=function(){this.j||(this.w||this.l||this.g?Ut(this):this.$a())},yn.$a=function(){Ut(this)},yn.T=function(){try{return 2<Bt(this)?this.a.status:-1}catch(e){return-1}},yn.za=function(){try{return 2<Bt(this)?this.a.statusText:""}catch(e){return""}},yn.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},yn.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tr(t)}},yn.ya=function(){return this.h},yn.Ya=function(){return t(this.f)?this.f:String(this.f)},yn=Ht.prototype,yn.wa=8,yn.u=1,yn.Da=function(){return 0==this.u},yn.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random()),e=this.P++;var n=new _e(this,e,void 0),r=this.i;this.J&&(r?(r=T(r),_(r,this.J)):r=this.J),null===this.g&&(n.h=r);var i;if(this.W)e:{for(var o=i=0;o<this.f.length;o++){var a=this.f[o];if(a="__data__"in a.a&&(a=a.a.__data__,t(a))?a.length:void 0,void 0===a)break;if(i+=a,4096<i){i=o;break e}if(4096===i||o===this.f.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=Zt(this,n,i),o=ze(this.B),Ye(o,"RID",e),Ye(o,"CVER",22),this.o&&this.j&&Ye(o,"X-HTTP-Session-Id",this.j),Jt(this,o),this.g&&r&&zt(o,this.g,r),It(this.b,n),this.W?(Ye(o,"$req",i),Ye(o,"SID","null"),n.S=!0,Se(n,o,null)):Se(n,o,i),this.u=2}}else 3==this.u&&(e?$t(this,e):0==this.f.length||Tt(this.b)||$t(this))},yn.Ha=function(){this.l=null,this.a=new _e(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=ze(this.pa);Ye(e,"RID","rpc"),Ye(e,"SID",this.H),Ye(e,"CI",this.ia?"0":"1"),Ye(e,"AID",this.O),Jt(this,e),Ye(e,"TYPE","xmlhttp"),this.g&&this.i&&zt(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Ie(this.a,e,!0,this.ga)},yn.Ga=function(e,t){if(0!=this.u&&(this.a==e||St(this.b,e)))if(this.m=e.o,!e.s&&St(this.b,e)&&3==this.u){try{var r=this.ja.a.parse(t)}catch(e){r=null}if(a(r)&&3==r.length){if(t=r,0==t[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;rn(this),this.a.cancel(),this.a=null}tn(this),de(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ye(f(this.Za,this),6e3));if(1>=_t(this.b)&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else an(this,11)}else if((e.s||this.a==e)&&rn(this),!g(t))for(t=r=this.ja.a.parse(t),r=0;r<t.length;r++){var i=t[r];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var o=i[3];null!=o&&(this.wa=o),i=i[5],null!=i&&n(i)&&0<i&&(this.D=1.5*i),this.o&&(i=e.a)&&((o=Vt(i,"X-Client-Wire-Protocol"))&&Et(this.b,o),this.j&&(i=Vt(i,"X-HTTP-Session-Id")))&&(this.I=i,Ye(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=e,this.pa=un(this,this.Y()?this.ga:null,this.ha),i.s?(At(this.b,i),(o=this.D)&&i.setTimeout(o),i.i&&(Ne(i),ke(i)),this.a=i):en(this),0<this.f.length&&Yt(this)}else"stop"!=i[0]&&"close"!=i[0]||an(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?an(this,7):Kt(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},yn.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,tn(this),de(19))},yn.na=function(e){var t=null;if(this.a==e){rn(this),this.a=null;var n=2}else{if(!St(this.b,e))return;t=e.j,At(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=En()-e.v,ar.dispatchEvent(new me(ar,e.l?e.l.length:0,t,this.A)),Yt(this)):en(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&Xt(this,e)||2==n&&tn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:an(this,5);break;case 4:an(this,10);break;case 3:an(this,6);break;default:an(this,2)}}},yn.fb=function(e){de(e?2:1)},yn.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Pt(this.La),e.F=this.R,e},yn.ma=function(){return!!this.c&&!0},yn.Y=function(){return this.R},new pt,yn=cn.prototype,yn.va=function(){},yn.ua=function(){},yn.ta=function(){},yn.sa=function(){},yn.Ta=function(){},fn.prototype.a=function(e,t){return new hn(e,t)},p(hn,K),yn=hn.prototype,yn.addEventListener=function(e,t,n,r){hn.N.addEventListener.call(this,e,t,n,r)},yn.removeEventListener=function(e,t,n,r){hn.N.removeEventListener.call(this,e,t,n,r)},yn.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;de(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new dt(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=zt(t,e.g,e.i)),e=e.w,e.i=n,t=un(e.a,null,e.i),de(3),n=e.a.F.b,null!=n?(e.f=n[0],e.M=1,mt(e)):(Xe(t,"MODE","init"),!e.a.o&&e.a.j&&Xe(t,"X-HTTP-Session-Id",e.a.j),e.b=new _e(e,void 0,void 0),e.b.h=e.h,Ie(e.b,t,!1,null),e.M=0)},yn.close=function(){Kt(this.a)},yn.Xa=function(e){if(t(e)){var n={};n.__data__=e,Qt(this.a,n)}else this.h?(n={},n.__data__=er(e),Qt(this.a,n)):Qt(this.a,e)},yn.G=function(){this.a.c=null,delete this.f,Kt(this.a),delete this.a,hn.N.G.call(this)},p(pn,we),p(dn,Ee),p(mn,cn),mn.prototype.va=function(){this.a.dispatchEvent("a")},mn.prototype.ua=function(e){this.a.dispatchEvent(new pn(e))},mn.prototype.ta=function(e){this.a.dispatchEvent(new dn(e))},mn.prototype.sa=function(){this.a.dispatchEvent("b")};var Ar=h(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},fn);fn.prototype.createWebChannel=fn.prototype.a,hn.prototype.send=hn.prototype.Xa,hn.prototype.open=hn.prototype.Wa,hn.prototype.close=hn.prototype.close,sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,ur.COMPLETE="complete",be.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",K.prototype.listen=K.prototype.Aa,Pt.prototype.listenOnce=Pt.prototype.Ba,Pt.prototype.getLastError=Pt.prototype.Ya,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.T,Pt.prototype.getStatusText=Pt.prototype.za,Pt.prototype.getResponseJson=Pt.prototype.Va,Pt.prototype.getResponseText=Pt.prototype.aa,Pt.prototype.send=Pt.prototype.ca,e.exports={createWebChannelTransport:Ar,ErrorCode:sr,EventType:ur,WebChannel:be,XhrIo:Pt}}).call("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e){s.length||(a(),u=!0),s[s.length]=e}function r(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>l){for(var t=0,n=s.length-c;t<n;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,u=!1}function i(e){var t=1,n=new h(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var a,s=[],u=!1,c=0,l=1024,f="undefined"!=typeof t?t:self,h=f.MutationObserver||f.WebKitMutationObserver;a="function"==typeof h?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u);n(229),n(233),n(231),n(122),n(235);var l=n(218),f=r(l),h=n(48),p=r(h),d=n(29),m=n(212),y=r(m),v=n(209),g=r(v),b=n(210),w=r(b),E=n(213),T=r(E),_=n(214),S=r(_),I=n(215),A=r(I),x=n(211),C=r(x),k=n(49),O=r(k),N=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={signedin:!1,loading:!0},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;p.default.auth().onAuthStateChanged(function(t){t?p.default.firestore().collection("users").doc(t.uid).get().then(function(t){var n=t.data();e.setState({user:n,signedin:!0,loading:!1})}):(e.setState({user:void 0,signedin:!1,loading:!1}),console.log("not logged in"))})}},{key:"render",value:function(){var e=this;return this.state.loading?c.default.createElement(O.default,null):c.default.createElement(d.BrowserRouter,null,c.default.createElement("div",{className:"App flex-column justify align"},c.default.createElement(d.Switch,null,c.default.createElement(d.Route,{path:"/signin",component:T.default}),c.default.createElement(d.Route,{path:"/signup",component:S.default}),c.default.createElement(f.default,{signedin:this.state.signedin,user:this.state.user})),c.default.createElement(d.Route,{exact:!0,path:"/",component:y.default}),c.default.createElement(d.Route,{path:"/about",component:g.default}),c.default.createElement(d.Route,{exact:!0,path:"/sell",component:function(t){return c.default.createElement(A.default,Object.assign({},t,{user:e.state.user}))}}),c.default.createElement(d.Route,{exact:!0,path:"/buy",component:function(e){return c.default.createElement(w.default,e)}}),c.default.createElement(d.Route,{path:"/buy/:buy_id",component:function(t){return c.default.createElement(C.default,Object.assign({},t,{user:e.state.user}))}}),c.default.createElement(d.Route,{exact:!0,path:"/profile",component:y.default})))}}]),t}(u.Component);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=function(){return o.default.createElement("div",{className:"flex-column align justify align-text large-text-vw orange-text berlin-font margin-top-4"},"An Application made by:",o.default.createElement("a",{href:"https://ziadhishamali.github.io",target:"_blank",rel:"noopener noreferrer",className:"xlarge-text-vw Forte-font white-text"},"Ziad Hisham Ali"),o.default.createElement("br",null),o.default.createElement("span",{className:"box-shadow-2 medium-text-vw blue-text no-books Forte-font margin-top-2"},"© all copyrights reserved 2020"))};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u),l=n(216),f=r(l),h=n(239),p=r(h),d=n(217),m=r(d),y=n(248),v=r(y),g=n(46),b=n(28),w=n(76),E=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={bookShown:null,search:"",filterOption:"Newest",filterState:!1,filters:{Newest:["addedAt","desc"],Oldest:["addedAt","asc"],"Name: A-Z":["title","asc"],"Name: Z-A":["title","desc"],"Price: LOW-HIGH":["price","asc"],"Price: HIGH-LOW":["price","desc"]},addedBy:{}},r.showBook=function(e){document.getElementById("details").style.visibility="visible",document.getElementById("details").style.opacity="1",r.setState({bookShown:e})},r.hideBook=function(){document.getElementById("details").style.visibility="hidden",document.getElementById("details").style.opacity="0"},r.changeText=function(e){var t=Object.assign({},r.state);t[e.target.id]=e.target.value,r.setState(t),r.props.searchBook(e.target.value)},r.changeFilterState=function(){r.setState({filterState:!r.state.filterState})},r.filter=function(){if(r.state.filterState){var e=c.default.createElement("div",{className:"drop-down-menu box-shadow-2"},c.default.createElement("div",{className:"drop-down-item"},"Newest"),c.default.createElement("div",{className:"drop-down-item"},"Oldest"),c.default.createElement("div",{className:"drop-down-item"},"Name: A-Z"),c.default.createElement("div",{className:"drop-down-item"},"Name: Z-A"),c.default.createElement("div",{className:"drop-down-item"},"Price: LOW-HIGH"),c.default.createElement("div",{className:"drop-down-item"},"Price: HIGH-LOW"));return e}return c.default.createElement("span",null)},r.getRadius=function(){return r.state.filterState?" radius-bottom-no":""},r.getArrow=function(){return r.state.filterState?" arrow-down-up":""},r.getDetails=function(){return null!==r.state.bookShown?c.default.createElement(m.default,{book:r.props.books.filter(function(e){return e.id===r.state.bookShown})[0],usersData:r.props.usersData,hideBook:r.hideBook}):c.default.createElement("div",null)},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.changeFilter(this.state.filters[this.state.filterOption])}},{key:"componentDidUpdate",value:function(){var e=this;(0,v.default)(".drop-down-item").on("click",function(t){var n=Object.assign({},e.state);n.filterOption=t.target.innerText,n.filterState=!e.state.filterState,e.props.changeFilter(e.state.filters[t.target.innerText]),e.setState(n)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.books!==this.props.books&&(0,v.default)(".drop-down-item").on("click",function(e){var n=Object.assign({},t.state);n.filterOption=e.target.innerText,n.filterState=!t.state.filterState,t.props.changeFilter(t.state.filters[e.target.innerText]),t.setState(n)})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"buyborrowpage"},c.default.createElement("div",{className:"flex-column align justify align-text xlarge-text-vw white-text Forte-font margin-top-5"},c.default.createElement("div",{className:"flex-row justify align margin-top"},c.default.createElement("div",null,c.default.createElement("div",{className:"box-shadow-2 filter-drop flex-column justify align align-text margin-left margin-right margin-bottom"+this.getRadius(),onClick:function(){return e.changeFilterState()}},c.default.createElement("div",{className:"flex-row title-filter align medium-text berlin-font align-text all-width"},c.default.createElement("div",{className:"third-width flex-row justify-start"},c.default.createElement("span",null,this.state.filterOption)),c.default.createElement("div",{className:"half-width flex-row justify-end"},c.default.createElement("img",{className:"arrow-down margin-left"+this.getArrow(),src:p.default,alt:"down"})))),this.filter()),c.default.createElement("input",{id:"search",className:"box-shadow-2 search-box small-text black-text berlin-font white-background-trans-2 margin-bottom",type:"text",value:this.state.search,onChange:function(t){return e.changeText(t)},placeholder:"Search for a book"}))),c.default.createElement("div",{id:"card-container",className:"row margin-bottom"},this.state.search.length<1?c.default.createElement(f.default,{books:this.props.books,showBook:this.showBook}):c.default.createElement(f.default,{books:this.props.searchedBooks,showBook:this.showBook})),c.default.createElement("div",{className:"details",id:"details"},this.getDetails()))}}]),t}(u.Component),T=function(e){return{books:e.book.books,searchedBooks:e.book.searchedBooks,usersData:e.book.usersData}},_=function(e){return{changeFilter:function(t){return e((0,w.changeFilter)(t))},searchBook:function(t){return e((0,w.searchBook)(t))}}};t.default=(0,g.compose)((0,b.connect)(T,_))(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,
configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u);n(232);var l=n(28),f=n(46),h=n(192),p=n(49),d=r(p),m=n(76),y=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={number:"",email:"",showNumber:!1,showEmail:!1,loading:!0,firstLoad:!0},r.changeNumberState=function(){r.setState({showNumber:!r.state.showNumber})},r.changeEmailState=function(){r.setState({showEmail:!r.state.showEmail})},r.getNumber=function(){return r.state.showNumber?r.state.number:""},r.getEmail=function(){return r.state.showEmail?r.state.email:""},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.user;if(void 0===e){for(;!confirm("you need to login first"););this.props.history.push("/signin")}else this.setState({loading:!1})}},{key:"componentWillReceiveProps",value:function(e){e.books!==this.props.books&&this.props.ChangeGetUsers(e.books)}},{key:"render",value:function(){var e=this;if(this.state.loading)return c.default.createElement(d.default,null);var t=this.props.match.params.buy_id,n=void 0;void 0!==this.props.books&&(n=this.props.books.filter(function(e){return JSON.stringify(e.id)===JSON.stringify(t)})[0]);var r=void 0!==n&&void 0!==this.props.usersData?this.props.usersData[n.addedBy].name:"",i=void 0!==n&&this.state.showNumber&&void 0!==this.props.usersData?this.props.usersData[n.addedBy].phone||"No phone number is available":"",o=void 0!==n&&this.state.showEmail&&void 0!==this.props.usersData?this.props.usersData[n.addedBy].email||"No email address is available":"";if(void 0===n)return c.default.createElement(d.default,null);var a={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return c.default.createElement("div",{className:"checkout flex-row justify align"},c.default.createElement("div",{className:"details-container"},c.default.createElement("div",{className:"book-info flex-column align justify"},c.default.createElement("img",{className:"details-image",src:n.image,alt:"book"}),c.default.createElement("p",{className:"orange-text berlin-font bold-weight large-text margin-bottom-2"},n.title)),c.default.createElement("div",{className:"flex-column book-description justify-start align"},c.default.createElement("p",{className:"gray-text berlin-font margin-bottom-2 align-text"},n.description),c.default.createElement("p",{className:"black-text berlin-font margin-top-4"},"Author: ",c.default.createElement("span",{className:"blue-text"},n.author)),c.default.createElement("p",{className:"black-text berlin-font"},"Added By: ",c.default.createElement("span",{className:"blue-text"},r)),c.default.createElement("p",{className:"black-text berlin-font"},"Added At: ",c.default.createElement("span",{className:"blue-text"},n.addedAt.toDate().toLocaleString("en-us",a))),c.default.createElement("p",{className:"black-text berlin-font"},"Price: ",c.default.createElement("span",{className:"blue-text"},n.price+" LE")),c.default.createElement("br",null),c.default.createElement("div",{className:"flex-column justify align"},c.default.createElement("button",{type:"button",className:"submit-button button-orange small-text berlin-font margin-left-2 margin-right-2 margin-top-4",onClick:function(){e.changeNumberState()}},"Show Number"),c.default.createElement("span",{className:"margin-top--- blue-text Forte-font large-text"},i),c.default.createElement("button",{type:"button",className:"submit-button button-orange small-text berlin-font margin-left-2 margin-right-2 margin-top",onClick:function(){e.changeEmailState()}},"Show Email"),c.default.createElement("span",{className:"margin-top--- blue-text Forte-font large-text"},o)))))}}]),t}(u.Component),v=function(e){return{books:e.firestore.ordered.books,usersData:e.book.usersData}},g=function(e){return{ChangeGetUsers:function(t){return e((0,m.ChangeGetUsers)(t))}}};t.default=(0,f.compose)((0,l.connect)(v,g),(0,h.firestoreConnect)(["books"]))(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u),l=n(29),f=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.today=new Date,r.time=r.today.toLocaleTimeString(),r.state={hours:r.time.split(":")[0],minutes:r.time.split(":")[1],seconds:r.time.split(":")[2].split(" ")[0],am:r.time.split(":")[2].split(" ")[1].toLowerCase()},r.updateTime=function(){r.today=new Date,r.time=r.today.toLocaleTimeString(),r.setState({hours:r.time.split(":")[0],minutes:r.time.split(":")[1],seconds:r.time.split(":")[2].split(" ")[0],am:r.time.split(":")[2].split(" ")[1].toLowerCase()})},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.updateTime,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return c.default.createElement("div",{className:"homePage flex-column justify align"},c.default.createElement("span",{className:"mainPara xlarge-text-vw white-text Forte-font lighter-weight"},"It's never late to read a ",c.default.createElement(l.Link,{to:"/buy",className:"white-text Forte-font bolder-weight"},"BOOK")),c.default.createElement("div",{className:"clock box-shadow-2 xxlarge-text-vw white-text berlin-font margin-top-4"},c.default.createElement("span",null,this.state.hours),c.default.createElement("span",{className:"splitting"},":"),c.default.createElement("span",null,this.state.minutes),c.default.createElement("span",{className:"splitting"},":"),c.default.createElement("span",null,this.state.seconds),c.default.createElement("span",{className:"hours xlarge-text-vw"},this.state.am)))}}]),t}(u.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(31),c=r(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),h=r(f);n(122);var p=n(121),d=n(28),m=function(e){function t(){var e,n,r,s,u=this;o(this,t);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={email:"",password:""},r.changeEmail=function(e){r.setState({email:e.target.value})},r.changePassword=function(e){r.setState({password:e.target.value})},r.submit=function(){var e=i(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(r.state),e.next=4,r.props.signin(r.state);case 4:r.props.user&&void 0!==localStorage.getItem("uid")&&null!==localStorage.getItem("uid")&&r.props.history.push("/");case 5:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}(),s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"signin"},h.default.createElement("form",{className:"signin-form",onSubmit:function(t){return e.submit(t)}},h.default.createElement("h1",{className:"large-text white-text berlin-font margin-top-2"},"SIGN IN",h.default.createElement("span",{className:"orange-text"},".")),h.default.createElement("input",{className:"input-text small-text white-text berlin-font trans-background margin-top-4",type:"text",value:this.state.email,onChange:function(t){return e.changeEmail(t)},placeholder:"email address"}),h.default.createElement("input",{className:"input-text small-text white-text berlin-font trans-background margin-top",type:"password",value:this.state.password,onChange:function(t){return e.changePassword(t)},placeholder:"password"}),h.default.createElement("button",{className:"submit-button small-text berlin-font margin-top-2"},"LOG IN"),h.default.createElement("button",{type:"button",className:"submit-button button-orange small-text berlin-font margin-top-4 margin-bottom-2",onClick:function(){e.props.history.push("./signup")}},"SIGN UP")))}}]),t}(f.Component),y=function(e){return{user:e.auth.user}},v=function(e){return{signin:function(t){return e((0,p.signin)(t))}}};t.default=(0,d.connect)(y,v)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(31),c=r(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),h=r(f),p=n(121),d=n(28),m=function(e){function t(){var e,n,r,s,u=this;o(this,t);for(var l=arguments.length,f=Array(l),h=0;h<l;h++)f[h]=arguments[h];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={firstName:"",lastName:"",imageUrl:"",email:"",password:""},r.changeFirst=function(e){r.setState({firstName:e.target.value})},r.changeLast=function(e){r.setState({lastName:e.target.value})},r.changeEmail=function(e){r.setState({email:e.target.value})},r.changePassword=function(e){r.setState({password:e.target.value})},r.submit=function(){var e=i(c.default.mark(function e(t){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(r.state),e.next=4,r.props.signup(r.state);case 4:r.props.user&&void 0!==localStorage.getItem("uid")&&null!==localStorage.getItem("uid")&&r.props.history.push("/");case 5:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}(),s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"signin"},h.default.createElement("form",{className:"signin-form",onSubmit:function(t){return e.submit(t)}},h.default.createElement("h1",{className:"large-text white-text berlin-font margin-top-2"},"SIGN UP",h.default.createElement("span",{className:"orange-text"},".")),h.default.createElement("div",null,h.default.createElement("input",{className:"input-text text-name small-text white-text berlin-font trans-background margin-top-4 margin-right",type:"text",value:this.state.firstName,onChange:function(t){return e.changeFirst(t)},placeholder:"first name"}),h.default.createElement("input",{className:"input-text text-name small-text white-text berlin-font trans-background margin-top",type:"text",value:this.state.lastName,onChange:function(t){return e.changeLast(t)},placeholder:"last name"})),h.default.createElement("input",{className:"input-text small-text white-text berlin-font trans-background margin-top",type:"text",value:this.state.email,onChange:function(t){return e.changeEmail(t)},placeholder:"email"}),h.default.createElement("input",{className:"input-text small-text white-text berlin-font trans-background margin-top",type:"password",value:this.state.password,onChange:function(t){return e.changePassword(t)},placeholder:"password"}),h.default.createElement("button",{className:"submit-button small-text berlin-font margin-top-2"},"SIGN UP"),h.default.createElement("button",{type:"button",className:"submit-button button-orange small-text berlin-font margin-top-4 margin-bottom-2",onClick:function(){e.props.history.push("./signin")}},"SIGN IN")))}}]),t}(f.Component),y=function(e){return{user:e.auth.user}},v=function(e){return{signup:function(t){return e((0,p.signup)(t))}}};t.default=(0,d.connect)(y,v)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),c=r(u),l=n(48);r(l);n(230);var f=n(76),h=n(28),p=n(49),d=r(p),m=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={loading:!0,title:"",author:"",description:"",price:"",image:"",addedBy:r.props.user?r.props.user.uid||"":""},r.submit=function(e){e.preventDefault(),r.props.addBook(r.state)},r.changeText=function(e){if("image"===e.target.id){var t=e.target.files,n=t[0].type;if(n.indexOf("image")===-1)return;var i=t[0],o=Object.assign({},r.state);o.imageFile=i,r.setState(o)}var a=e.target.value,s=Object.assign({},r.state);s[e.target.id]=a,r.setState(s)},a=n,o(r,a)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.user;void 0===e?this.props.history.push("/signin"):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return this.state.loading?c.default.createElement(d.default,null):c.default.createElement("div",{className:"sell"},c.default.createElement("form",{className:"signin-form",onSubmit:function(t){return e.submit(t)}},c.default.createElement("div",null,c.default.createElement("h1",{className:"large-text white-text berlin-font margin-top-2"},"SELL / LEND",c.default.createElement("span",{className:"orange-text"},"."))),c.default.createElement("div",null,c.default.createElement("input",{id:"title",className:"input-text small-text white-text berlin-font trans-background margin-top-4",type:"text",value:this.state.title,onChange:function(t){return e.changeText(t)},placeholder:"Book Title"})),c.default.createElement("div",null,c.default.createElement("input",{id:"author",className:"input-text small-text white-text berlin-font trans-background margin-top",type:"text",value:this.state.author,onChange:function(t){return e.changeText(t)},placeholder:"Book Author"})),c.default.createElement("div",null,c.default.createElement("textarea",{id:"description",className:"input-text small-text white-text berlin-font trans-background margin-top",type:"text",value:this.state.description,onChange:function(t){return e.changeText(t)},placeholder:"Book Description"})),c.default.createElement("div",null,c.default.createElement("input",{id:"price",className:"input-text small-text white-text berlin-font trans-background margin-top",type:"number",value:this.state.price,onChange:function(t){return e.changeText(t)},placeholder:"Price"})),c.default.createElement("div",null,c.default.createElement("input",{id:"image",className:"input-text small-text white-text berlin-font trans-background margin-top",type:"file",accept:"image/*",value:this.state.image,onChange:function(t){return e.changeText(t)}})),c.default.createElement("div",null,c.default.createElement("button",{type:"button",className:"submit-button button-orange small-text berlin-font margin-top-4 margin-bottom-2",onClick:function(t){return e.submit(t)}},"ADD BOOK"))))}}]),t}(u.Component),y=function(e){return{addBook:function(t){return e((0,f.addBook)(t))}}};t.default=(0,h.connect)(null,y)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(49),s=r(a),u=n(29),c=function(e){var t=e.books,n=e.showBook,r=void 0;return void 0!==t?r=t.length?t.map(function(e){return o.default.createElement("div",{key:e.id,className:"card flex-column justify-start align white-background-trans box-shadow margin-top-- margin-bottom--",onClick:function(){n(e.id)}},o.default.createElement("div",{className:"card-image flex-column justify align waves-effect waves-block waves-light"},o.default.createElement("img",{src:e.image,alt:"book"})),o.default.createElement("div",{className:"card-title flex-column justify align"},o.default.createElement("span",{className:"titleBook orange-text berlin-font bold-weight"},e.title)),o.default.createElement("div",{className:"card-content flex-column justify align"},o.default.createElement("span",{className:"card-description berlin-font"},e.description)),o.default.createElement(u.NavLink,{to:"buy/"+e.id,className:"card-action berlin-font flex-row justify align"},"Buy/Borrow"))}):o.default.createElement("div",{className:"large-text-vw no-books blue-text Forte-font"},"Oooops!! We can't find any books"):void 0===t&&(r=o.default.createElement(s.default,null)),o.default.createElement("div",{className:"flex-row justify align"},r)};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},s=function(e){var t=e.book,n=e.hideBook,r=e.usersData;return o.default.createElement("div",{className:"details-container"},o.default.createElement("button",{className:"button-close",onClick:function(){n()}},"X"),o.default.createElement("div",{className:"book-info flex-column align justify"},o.default.createElement("img",{className:"details-image",src:t.image,alt:"book"}),o.default.createElement("p",{className:"orange-text berlin-font bold-weight large-text margin-bottom-2"},t.title),o.default.createElement("p",{className:"black-text berlin-font"},"Author: ",o.default.createElement("span",{className:"blue-text"},t.author)),o.default.createElement("p",{className:"black-text berlin-font"},"Added By: ",o.default.createElement("span",{className:"blue-text"},r[t.addedBy].name)),o.default.createElement("p",{className:"black-text berlin-font"},"Added At: ",o.default.createElement("span",{className:"blue-text"},t.addedAt.toDate().toLocaleString("en-us",a))),o.default.createElement("p",{className:"black-text berlin-font"},"Price: ",o.default.createElement("span",{className:"blue-text"},t.price+" LE")),o.default.createElement("br",null)),o.default.createElement("div",{className:"flex-column book-description justify-start align margin-top-2"},o.default.createElement("p",{className:"gray-text berlin-font margin-bottom-2 align-text"},t.description)))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(29),s=n(219),u=r(s),c=n(220),l=r(c),f=n(456),h=r(f),p=function(e){var t=e.signedin,n=e.user,r=function(){var e=document.getElementById("side-menu"),t=document.getElementById("side-nav");e.classList.toggle("change"),e.classList.toggle("move-side-menu"),t.classList.toggle("show")};return o.default.createElement("div",{className:"nav-container justify align box-shadow-2"},o.default.createElement("div",{className:"flex-row justify-start full-width"},o.default.createElement(a.Link,{to:"/",className:"links-title blue-text flex-row large-text margin-right-4 margin-left-4 align justify"},o.default.createElement("img",{className:"margin-right-- align justify",src:h.default,alt:"brand"}),"Book a Book")),t?o.default.createElement(u.default,{user:n,align:"flex-row",linksContainer:"links-container"}):o.default.createElement(l.default,{align:"flex-row",linksContainer:"links-container",mobile:!1}),o.default.createElement("div",{id:"side-menu",className:"side-menu margin-left-4",onClick:function(){return r()}},o.default.createElement("div",{className:"bar1"}),o.default.createElement("div",{className:"bar2"}),o.default.createElement("div",{className:"bar3"})),o.default.createElement("div",{id:"side-nav",className:"side-nav"},t?o.default.createElement(u.default,{user:n,align:"flex-column",linksContainer:"links-container-side"}):o.default.createElement(l.default,{align:"flex-column",linksContainer:"links-container-side",mobile:!0})))};t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}return a.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),a=r(o),s=n(2),u=r(s),c=n(48),l=r(c),f=n(29),h=function(e){var t=e.align,n=e.linksContainer,r=e.user,o="";return r&&(o=r.firstName?r.firstName[0]||"":"",o+=r.lastName?r.lastName[0]||"":""),u.default.createElement("div",{className:t+" justify-start align "+n},u.default.createElement(f.NavLink,{exact:!0,to:"/",className:"links"},u.default.createElement("span",null,"Home")),u.default.createElement(f.NavLink,{to:"/sell",className:"links"},u.default.createElement("span",null,"Sell/Lend")),u.default.createElement(f.NavLink,{to:"/buy",className:"links"},u.default.createElement("span",null,"Buy/Borrow")),u.default.createElement(f.NavLink,{to:"/about",className:"links"},u.default.createElement("span",null,"About")),u.default.createElement(f.NavLink,{to:"/profile",className:"links profile-link"},u.default.createElement("span",null,o)),u.default.createElement(f.NavLink,{to:"/",className:"links signup-nav",onClick:i(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.auth().signOut();case 2:localStorage.removeItem("uid");case 3:case"end":return e.stop()}},e,void 0)}))},u.default.createElement("span",null,"Log out")))};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a=n(29),s=function(e){var t=e.align,n=e.linksContainer,r=e.mobile;return o.default.createElement("div",{className:t+" justify-start align "+n},o.default.createElement(a.NavLink,{to:"/buy",className:"links margin-right"},o.default.createElement("span",null,"Buy/Borrow")),o.default.createElement(a.NavLink,{to:"/signin",className:r?"links":"links signin-nav"},o.default.createElement("span",null,"Sign In")),o.default.createElement(a.NavLink,{to:"/signup",className:r?"links":"links signup-nav"},o.default.createElement("span",null,"Sign Up")))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(2),o=r(i),a=n(407),s=r(a),u=n(208),c=r(u);n(236),n(234);var l=n(46),f=n(224),h=r(f),p=n(28),d=n(450),m=r(d),y=n(192),v=n(201),g=n(48),b=r(g),w=(0,l.createStore)(h.default,(0,l.compose)((0,l.applyMiddleware)(m.default.withExtraArgument({getFirebase:y.getFirebase,getFirestore:v.getFirestore})),(0,y.reactReduxFirebase)(b.default),(0,v.reduxFirestore)(b.default)));s.default.render(o.default.createElement(p.Provider,{store:w},o.default.createElement(c.default,null)),document.getElementById("root"))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1],r=void 0;switch(t.type){case"SIGNIN":return r=Object.assign({},e,{user:t.user});case"SIGNUP":return r=Object.assign({},e,{user:t.user});case"ERROR":return r=Object.assign({},e,{user:void 0})}return e};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1],r=void 0;switch(t.type){case"ADD_BOOK":alert("You added a new book");break;case"CHANGE_FILTER":return r=Object.assign({},e,{books:t.books,usersData:t.usersData});case"SEARCH_BOOK":return r=Object.assign({},e,{searchedBooks:t.searchedBooks})}return e};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(222),o=r(i),a=n(223),s=r(a),u=n(46),c=n(201),l=(0,u.combineReducers)({auth:o.default,book:s.default,firestore:c.firestoreReducer});t.default=l},function(e,t,n){(function(t){var r="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(226),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}}).call(t,function(){return this}())},function(e,t){(function(t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=c(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function n(t,i,o,a){var s=r(e[t],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function i(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var o;this._invoke=i}function c(e,t,n){var i=I;return function(o,a){if(i===x)throw new Error("Generator is already running");if(i===C){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===k)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===I)throw i=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=x;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?C:A,c.arg===k)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=C,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,l(e,t),"throw"===t.method))return k;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,k;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,k):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,k)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function d(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var y,v=Object.prototype,g=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",E=b.asyncIterator||"@@asyncIterator",T=b.toStringTag||"@@toStringTag",_="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(_&&(e.exports=S));S=t.regeneratorRuntime=_?e.exports:{},S.wrap=n;var I="suspendedStart",A="suspendedYield",x="executing",C="completed",k={},O={};O[w]=function(){return this};var N=Object.getPrototypeOf,R=N&&N(N(d([])));R&&R!==v&&g.call(R,w)&&(O=R);var P=a.prototype=i.prototype=Object.create(O);o.prototype=P.constructor=a,a.constructor=o,a[T]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,T in e||(e[T]="GeneratorFunction")),e.prototype=Object.create(P),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[E]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(P),P[T]="Generator",P[w]=function(){return this},P.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=d,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,
this.method="next",this.arg=y,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),k},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),k}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:d(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),k}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}function c(e){return Array.isArray(e)?e[0]:e}function l(e,t){var n,r,l="__create-react-context-"+(0,m.default)()+"__",h=function(e){function n(){var t,r,a;i(this,n);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return t=r=o(this,e.call.apply(e,[this].concat(c))),r.emitter=u(r.props.value),a=t,o(r,a)}return a(n,e),n.prototype.getChildContext=function(){var e;return e={},e[l]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;s(n,r)?i=0:(i="function"==typeof t?t(n,r):v,i|=0,0!==i&&this.emitter.set(e.value,i))}},n.prototype.render=function(){return this.props.children},n}(f.Component);h.childContextTypes=(n={},n[l]=p.default.object.isRequired,n);var d=function(t){function n(){var e,r,a;i(this,n);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return e=r=o(this,t.call.apply(t,[this].concat(u))),r.state={value:r.getValue()},r.onUpdate=function(e,t){var n=0|r.observedBits;0!==(n&t)&&r.setState({value:r.getValue()})},a=e,o(r,a)}return a(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?v:t},n.prototype.componentDidMount=function(){this.context[l]&&this.context[l].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?v:e},n.prototype.componentWillUnmount=function(){this.context[l]&&this.context[l].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[l]?this.context[l].get():e},n.prototype.render=function(){return c(this.props.children)(this.state.value)},n}(f.Component);return d.contextTypes=(r={},r[l]=p.default.object,r),{Provider:h,Consumer:d}}t.__esModule=!0;var f=n(2),h=(r(f),n(13)),p=r(h),d=n(244),m=r(d),y=n(238),v=(r(y),1073741823);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(2),o=r(i),a=n(227),s=r(a);t.default=o.default.createContext||s.default,e.exports=t.default},122,122,122,122,122,122,122,122,function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=n(237),i=r;e.exports=i},function(e,t,n){e.exports=n.p+"static/media/next.bbd22377.svg"},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n(47));e.exports=i},function(e,t,n){"use strict";n(203)},function(e,t,n){"use strict";n(204)},function(e,t,n){"use strict";n(205)},function(e,t){(function(t){"use strict";var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){return"/"===e.charAt(0)?e:"/"+e}function a(e){return"/"===e.charAt(0)?e.substr(1):e}function s(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}function u(e,t){return s(e,t)?e.substr(t.length):e}function c(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function l(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function f(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function h(e,t,n,r){var o;"string"==typeof e?(o=l(e)).state=t:(void 0===(o=i({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=C(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function p(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&k(e.state,t.state)}function d(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){function n(){r&&e.apply(void 0,arguments)}var r=!0;return t.push(n),function(){r=!1,t=t.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}function m(e,t){t(window.confirm(e))}function y(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}function v(){return-1===window.navigator.userAgent.indexOf("Trident")}function g(){return-1===window.navigator.userAgent.indexOf("Firefox")}function b(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")}function w(){try{return window.history.state||{}}catch(e){return{}}}function E(e){function t(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return M&&(o=u(o,M)),h(o,r,n)}function n(){return Math.random().toString(36).substr(2,L)}function r(e){i(W,e),W.length=T.length,j.notifyListeners(W.location,W.action)}function a(e){b(e)||l(t(e.state))}function s(){l(t(w()))}function l(e){U?(U=!1,r()):j.confirmTransitionTo(e,"POP",k,function(t){t?r({action:"POP",location:e}):function(e){var t=W.location,n=q.indexOf(t.key);-1===n&&(n=0);var r=q.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(U=!0,g(i))}(e)})}function p(e){return M+f(e)}function g(e){T.go(e)}function E(e){1===(B+=e)&&1===e?(window.addEventListener(R,a),S&&window.addEventListener(P,s)):0===B&&(window.removeEventListener(R,a),S&&window.removeEventListener(P,s))}void 0===e&&(e={}),N||O(!1);var T=window.history,_=y(),S=!v(),I=e,A=I.forceRefresh,x=void 0!==A&&A,C=I.getUserConfirmation,k=void 0===C?m:C,D=I.keyLength,L=void 0===D?6:D,M=e.basename?c(o(e.basename)):"",j=d(),U=!1,F=t(w()),q=[F.key],B=0,V=!1,W={length:T.length,action:"POP",location:F,createHref:p,push:function(e,t){var i=h(e,t,n(),W.location);j.confirmTransitionTo(i,"PUSH",k,function(e){if(e){var t=p(i),n=i.key,o=i.state;if(_)if(T.pushState({key:n,state:o},null,t),x)window.location.href=t;else{var a=q.indexOf(W.location.key),s=q.slice(0,-1===a?0:a+1);s.push(i.key),q=s,r({action:"PUSH",location:i})}else window.location.href=t}})},replace:function(e,t){var i="REPLACE",o=h(e,t,n(),W.location);j.confirmTransitionTo(o,i,k,function(e){if(e){var t=p(o),n=o.key,a=o.state;if(_)if(T.replaceState({key:n,state:a},null,t),x)window.location.replace(t);else{var s=q.indexOf(W.location.key);-1!==s&&(q[s]=o.key),r({action:i,location:o})}else window.location.replace(t)}})},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},block:function(e){void 0===e&&(e=!1);var t=j.setPrompt(e);return V||(E(1),V=!0),function(){return V&&(V=!1,E(-1)),t()}},listen:function(e){var t=j.appendListener(e);return E(1),function(){E(-1),t()}}};return W}function T(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _(e){window.location.hash=e}function S(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+e)}function I(e){function t(){var e=C(T());return I&&(e=u(e,I)),h(e)}function n(e){i(V,e),V.length=l.length,k.notifyListeners(V.location,V.action)}function r(){var e=T(),r=x(e);if(e!==r)S(r);else{var i=t(),o=V.location;if(!R&&p(o,i))return;if(P===f(i))return;P=null,function(e){R?(R=!1,n()):k.confirmTransitionTo(e,"POP",b,function(t){t?n({action:"POP",location:e}):function(e){var t=V.location,n=F.lastIndexOf(f(t));-1===n&&(n=0);var r=F.lastIndexOf(f(e));-1===r&&(r=0);var i=n-r;i&&(R=!0,a(i))}(e)})}(i)}}function a(e){l.go(e)}function s(e){1===(q+=e)&&1===e?window.addEventListener(D,r):0===q&&window.removeEventListener(D,r)}void 0===e&&(e={}),N||O(!1);var l=window.history,y=(g(),e),v=y.getUserConfirmation,b=void 0===v?m:v,w=y.hashType,E=void 0===w?"slash":w,I=e.basename?c(o(e.basename)):"",A=L[E],x=A.encodePath,C=A.decodePath,k=d(),R=!1,P=null,M=T(),j=x(M);M!==j&&S(j);var U=t(),F=[f(U)],q=0,B=!1,V={length:l.length,action:"POP",location:U,createHref:function(e){return"#"+x(I+f(e))},push:function(e,t){var r=h(e,void 0,void 0,V.location);k.confirmTransitionTo(r,"PUSH",b,function(e){if(e){var t=f(r),i=x(I+t);if(T()!==i){P=t,_(i);var o=F.lastIndexOf(f(V.location)),a=F.slice(0,-1===o?0:o+1);a.push(t),F=a,n({action:"PUSH",location:r})}else n()}})},replace:function(e,t){var r="REPLACE",i=h(e,void 0,void 0,V.location);k.confirmTransitionTo(i,r,b,function(e){if(e){var t=f(i),o=x(I+t);T()!==o&&(P=t,S(o));var a=F.indexOf(f(V.location));-1!==a&&(F[a]=t),n({action:r,location:i})}})},go:a,goBack:function(){a(-1)},goForward:function(){a(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return B||(s(1),B=!0),function(){return B&&(B=!1,s(-1)),t()}},listen:function(e){var t=k.appendListener(e);return s(1),function(){s(-1),t()}}};return V}function A(e,t,n){return Math.min(Math.max(e,t),n)}function x(e){function t(e){i(w,e),w.length=w.entries.length,y.notifyListeners(w.location,w.action)}function n(){return Math.random().toString(36).substr(2,m)}function r(e){var n=A(w.index+e,0,w.entries.length-1),r=w.entries[n];y.confirmTransitionTo(r,"POP",a,function(e){e?t({action:"POP",location:r,index:n}):t()})}void 0===e&&(e={});var o=e,a=o.getUserConfirmation,s=o.initialEntries,u=void 0===s?["/"]:s,c=o.initialIndex,l=void 0===c?0:c,p=o.keyLength,m=void 0===p?6:p,y=d(),v=A(l,0,u.length-1),g=u.map(function(e){return h(e,void 0,"string"==typeof e?n():e.key||n())}),b=f,w={length:g.length,action:"POP",location:g[v],index:v,entries:g,createHref:b,push:function(e,r){var i=h(e,r,n(),w.location);y.confirmTransitionTo(i,"PUSH",a,function(e){if(e){var n=w.index+1,r=w.entries.slice(0);r.length>n?r.splice(n,r.length-n,i):r.push(i),t({action:"PUSH",location:i,index:n,entries:r})}})},replace:function(e,r){var i="REPLACE",o=h(e,r,n(),w.location);y.confirmTransitionTo(o,i,a,function(e){e&&(w.entries[w.index]=o,t({action:i,location:o}))})},go:r,goBack:function(){r(-1)},goForward:function(){r(1)},canGo:function(e){var t=w.index+e;return 0<=t&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),y.setPrompt(e)},listen:function(e){return y.appendListener(e)}};return w}Object.defineProperty(t,"__esModule",{value:!0});var C=r(n(451)),k=r(n(457));n(118);var O=r(n(117)),N=!("undefined"==typeof window||!window.document||!window.document.createElement),R="popstate",P="hashchange",D="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+a(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:a,decodePath:o},slash:{encodePath:o,decodePath:o}};t.createBrowserHistory=E,t.createHashHistory=I,t.createMemoryHistory=x,t.createLocation=h,t.locationsAreEqual=p,t.parsePath=l,t.createPath=f},function(e,t,n){"use strict";function r(e){return o.isMemo(e)?c:l[e.$$typeof]||a}function i(e,t,n){if("string"!=typeof t){if(y){var o=m(t);o&&o!==y&&i(e,o,n)}var a=h(t);p&&(a=a.concat(p(t)));for(var u=r(e),c=r(t),l=0;l<a.length;++l){var v=a[l];if(!(s[v]||n&&n[v]||c&&c[v]||u&&u[v])){var g=d(t,v);try{f(e,v,g)}catch(e){}}}return e}return e}var o=n(187),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[o.ForwardRef]=u;var f=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;e.exports=i},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){var r,i;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(e,t,n){n=n||he;var r,i,o=n.createElement("script");if(o.text=e,t)for(r in Ae)i=t[r]||t.getAttribute&&t.getAttribute(r),i&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function s(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ge[be.call(e)]||"object":typeof e}function u(e){var t=!!e&&"length"in e&&e.length,n=s(e);return!Se(e)&&!Ie(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,n){return Se(t)?Ce.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ce.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ce.grep(e,function(e){return ve.call(t,e)>-1!==n}):Ce.filter(t,e,n)}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var t={};return Ce.each(e.match(qe)||[],function(e,n){t[n]=!0}),t}function p(e){return e}function d(e){throw e}function m(e,t,n,r){var i;try{e&&Se(i=e.promise)?i.call(e).done(t).fail(n):e&&Se(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function y(){he.removeEventListener("DOMContentLoaded",y),n.removeEventListener("load",y),Ce.ready()}function v(e,t){return t.toUpperCase()}function g(e){return e.replace(ze,"ms-").replace(He,v)}function b(){this.expando=Ce.expando+b.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ye.test(e)?JSON.parse(e):e)}function E(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Xe,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=w(n)}catch(e){}Qe.set(e,t,n)}else n=void 0;return n}function T(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Ce.css(e,t,"")},u=s(),c=n&&n[3]||(Ce.cssNumber[t]?"":"px"),l=e.nodeType&&(Ce.cssNumber[t]||"px"!==c&&+u)&&Je.exec(Ce.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)Ce.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,Ce.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function _(e){var t,n=e.ownerDocument,r=e.nodeName,i=ot[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=Ce.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ot[r]=i,i)}function S(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Ge.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&rt(r)&&(i[o]=_(r))):"none"!==n&&(i[o]="none",Ge.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function I(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&c(e,t)?Ce.merge([e],n):n}function A(e,t){for(var n=0,r=e.length;n<r;n++)Ge.set(e[n],"globalEval",!t||Ge.get(t[n],"globalEval"))}function x(e,t,n,r,i){for(var o,a,u,c,l,f,h=t.createDocumentFragment(),p=[],d=0,m=e.length;d<m;d++)if(o=e[d],o||0===o)if("object"===s(o))Ce.merge(p,o.nodeType?[o]:o);else if(lt.test(o)){for(a=a||h.appendChild(t.createElement("div")),u=(st.exec(o)||["",""])[1].toLowerCase(),c=ct[u]||ct._default,a.innerHTML=c[1]+Ce.htmlPrefilter(o)+c[2],f=c[0];f--;)a=a.lastChild;Ce.merge(p,a.childNodes),a=h.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(r&&Ce.inArray(o,r)>-1)i&&i.push(o);else if(l=tt(o),a=I(h.appendChild(o),"script"),l&&A(a),n)for(f=0;o=a[f++];)ut.test(o.type||"")&&n.push(o);return h}function C(){return!0}function k(){return!1}function O(e,t){return e===N()==("focus"===t)}function N(){try{return he.activeElement}catch(e){}}function R(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)R(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=k;else if(!i)return e;return 1===o&&(a=i,i=function(e){return Ce().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Ce.guid++)),e.each(function(){Ce.event.add(this,t,i,r,n)})}function P(e,t,n){return n?(Ge.set(e,t,!1),void Ce.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Ge.get(this,t);if(1&e.isTrigger&&this[t]){if(o)(Ce.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=de.call(arguments),Ge.set(this,t,o),r=n(this,t),this[t](),i=Ge.get(this,t),o!==i||r?Ge.set(this,t,!1):i=void 0,o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i}else o&&(Ge.set(this,t,Ce.event.trigger(Ce.extend(o.shift(),Ce.Event.prototype),o,this)),e.stopImmediatePropagation())}})):void Ce.event.add(e,t,C)}function D(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")?Ce(e).children("tbody")[0]||e:e}function L(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function M(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function j(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(Ge.hasData(e)&&(o=Ge.access(e),a=Ge.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)Ce.event.add(t,i,c[i][n])}Qe.hasData(e)&&(s=Qe.access(e),u=Ce.extend({},s),Qe.set(t,u))}}function U(e,t){var n=t.nodeName.toLowerCase();"input"===n&&at.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function F(e,t,n,r){t=me.apply([],t);var i,o,s,u,c,l,f=0,h=e.length,p=h-1,d=t[0],m=Se(d);if(m||h>1&&"string"==typeof d&&!_e.checkClone&&yt.test(d))return e.each(function(i){var o=e.eq(i);m&&(t[0]=d.call(this,i,o.html())),F(o,t,n,r)});if(h&&(i=x(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=Ce.map(I(i,"script"),L),u=s.length;f<h;f++)c=i,f!==p&&(c=Ce.clone(c,!0,!0),u&&Ce.merge(s,I(c,"script"))),n.call(e[f],c,f);if(u)for(l=s[s.length-1].ownerDocument,Ce.map(s,M),f=0;f<u;f++)c=s[f],ut.test(c.type||"")&&!Ge.access(c,"globalEval")&&Ce.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Ce._evalUrl&&!c.noModule&&Ce._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):a(c.textContent.replace(vt,""),c,l))}return e}function q(e,t,n){for(var r,i=t?Ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Ce.cleanData(I(r)),r.parentNode&&(n&&tt(r)&&A(I(r,"script")),r.parentNode.removeChild(r));return e}function B(e,t,n){var r,i,o,a,s=e.style;return n=n||bt(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||tt(e)||(a=Ce.style(e,t)),!_e.pixelBoxStyles()&&gt.test(a)&&wt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function V(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function W(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Et.length;n--;)if(e=Et[n]+t,e in Tt)return e}function z(e){var t=Ce.cssProps[e]||_t[e];return t?t:e in Tt?e:_t[e]=W(e)||e}function H(e,t,n){var r=Je.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function K(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=Ce.css(e,n+Ze[a],!0,i)),r?("content"===n&&(u-=Ce.css(e,"padding"+Ze[a],!0,i)),"margin"!==n&&(u-=Ce.css(e,"border"+Ze[a]+"Width",!0,i))):(u+=Ce.css(e,"padding"+Ze[a],!0,i),"padding"!==n?u+=Ce.css(e,"border"+Ze[a]+"Width",!0,i):s+=Ce.css(e,"border"+Ze[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function G(e,t,n){var r=bt(e),i=!_e.boxSizingReliable()||n,o=i&&"border-box"===Ce.css(e,"boxSizing",!1,r),a=o,s=B(e,t,r),u="offset"+t[0].toUpperCase()+t.slice(1);if(gt.test(s)){if(!n)return s;s="auto"}return(!_e.boxSizingReliable()&&o||"auto"===s||!parseFloat(s)&&"inline"===Ce.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===Ce.css(e,"boxSizing",!1,r),a=u in e,a&&(s=e[u])),s=parseFloat(s)||0,s+K(e,t,n||(o?"border":"content"),a,r,s)+"px"}function Q(e,t,n,r,i){return new Q.prototype.init(e,t,n,r,i)}function Y(){kt&&(he.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(Y):n.setTimeout(Y,Ce.fx.interval),Ce.fx.tick())}function X(){return n.setTimeout(function(){Ct=void 0}),Ct=Date.now()}function $(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ze[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function J(e,t,n){for(var r,i=(te.tweeners[t]||[]).concat(te.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Z(e,t,n){var r,i,o,a,s,u,c,l,f="width"in t||"height"in t,h=this,p={},d=e.style,m=e.nodeType&&rt(e),y=Ge.get(e,"fxshow");n.queue||(a=Ce._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Ce.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],Ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;m=!0}p[r]=y&&y[r]||Ce.style(e,r)}if(u=!Ce.isEmptyObject(t),u||!Ce.isEmptyObject(p)){f&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=y&&y.display,null==c&&(c=Ge.get(e,"display")),l=Ce.css(e,"display"),"none"===l&&(c?l=c:(S([e],!0),c=e.style.display||c,l=Ce.css(e,"display"),S([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===Ce.css(e,"float")&&(u||(h.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in p)u||(y?"hidden"in y&&(m=y.hidden):y=Ge.access(e,"fxshow",{display:c}),o&&(y.hidden=!m),m&&S([e],!0),h.done(function(){m||S([e]),Ge.remove(e,"fxshow");for(r in p)Ce.style(e,r,p[r])})),u=J(m?y[r]:0,r,h),r in y||(y[r]=u.start,m&&(u.end=u.start,u.start=0))}}function ee(e,t){var n,r,i,o,a;for(n in e)if(r=g(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Ce.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function te(e,t,n){var r,i,o=0,a=te.prefilters.length,s=Ce.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ct||X(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),o<1&&u?n:(u||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Ce.extend({},t),opts:Ce.extend(!0,{specialEasing:{},easing:Ce.easing._default},n),originalProperties:t,originalOptions:n,startTime:Ct||X(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ce.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(ee(l,c.opts.specialEasing);o<a;o++)if(r=te.prefilters[o].call(c,e,l,c.opts))return Se(r.stop)&&(Ce._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return Ce.map(l,J,c),Se(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Ce.fx.timer(Ce.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}function ne(e){var t=e.match(qe)||[];return t.join(" ")}function re(e){return e.getAttribute&&e.getAttribute("class")||""}function ie(e){return Array.isArray(e)?e:"string"==typeof e?e.match(qe)||[]:[]}function oe(e,t,n,r){var i;if(Array.isArray(t))Ce.each(t,function(t,i){n||Vt.test(e)?r(e,i):oe(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==s(t))r(e,t);else for(i in t)oe(e+"["+i+"]",t[i],n,r)}function ae(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(qe)||[];if(Se(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function se(e,t,n,r){function i(s){var u;return o[s]=!0,Ce.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===en;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ue(e,t){var n,r,i=Ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Ce.extend(!0,e,r),e}function ce(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function le(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var fe=[],he=n.document,pe=Object.getPrototypeOf,de=fe.slice,me=fe.concat,ye=fe.push,ve=fe.indexOf,ge={},be=ge.toString,we=ge.hasOwnProperty,Ee=we.toString,Te=Ee.call(Object),_e={},Se=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Ie=function(e){return null!=e&&e===e.window},Ae={type:!0,src:!0,nonce:!0,noModule:!0},xe="3.4.0",Ce=function(e,t){return new Ce.fn.init(e,t)},ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ce.fn=Ce.prototype={jquery:xe,constructor:Ce,length:0,toArray:function(){return de.call(this)},get:function(e){return null==e?de.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ce.each(this,e)},map:function(e){return this.pushStack(Ce.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(de.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ye,sort:fe.sort,splice:fe.splice},Ce.extend=Ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||Se(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(Ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||Ce.isPlainObject(n)?n:{},i=!1,a[t]=Ce.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},Ce.extend({expando:"jQuery"+(xe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==be.call(e))&&(!(t=pe(e))||(n=we.call(t,"constructor")&&t.constructor,"function"==typeof n&&Ee.call(n)===Te))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){a(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(u(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ke,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(u(Object(e))?Ce.merge(n,"string"==typeof e?[e]:e):ye.call(n,e)),
n},inArray:function(e,t,n){return null==t?-1:ve.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,a=[];if(u(e))for(r=e.length;o<r;o++)i=t(e[o],o,n),null!=i&&a.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&a.push(i);return me.apply([],a)},guid:1,support:_e}),"function"==typeof Symbol&&(Ce.fn[Symbol.iterator]=fe[Symbol.iterator]),Ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ge["[object "+t+"]"]=t.toLowerCase()});var Oe=function(e){function t(e,t,n,r){var i,o,a,s,u,c,l,h=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&((t?t.ownerDocument||t:B)!==P&&R(t),t=t||P,L)){if(11!==d&&(u=be.exec(e)))if(i=u[1]){if(9===d){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&F(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(T.qsa&&!G[e+" "]&&(!M||!M.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(l=e,h=t,1===d&&fe.test(e)){for((s=t.getAttribute("id"))?s=s.replace(_e,Se):t.setAttribute("id",s=q),c=A(e),o=c.length;o--;)c[o]="#"+s+" "+p(c[o]);l=c.join(","),h=we.test(e)&&f(t.parentNode)||t}try{return Z.apply(n,h.querySelectorAll(l)),n}catch(t){G(e,!0)}finally{s===q&&t.removeAttribute("id")}}}return C(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[q]=!0,e}function i(e){var t=P.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=W++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,f,h=[V,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[q]||(t[q]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===V&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=e(t,n,u))return!0}return!1}}function m(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function y(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function g(e,t,n,i,o,a){return i&&!i[q]&&(i=g(i)),o&&!o[q]&&(o=g(o,a)),r(function(r,a,s,u){var c,l,f,h=[],p=[],d=a.length,m=r||y(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:v(m,h,e,s,u),b=n?o||(r?e:d||i)?[]:a:g;if(n&&n(g,b,s,u),i)for(c=v(b,p),i(c,[],s,u),l=c.length;l--;)(f=c[l])&&(b[p[l]]=!(g[p[l]]=f));if(r){if(o||e){if(o){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(g[l]=f);o(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=o?te(r,f):h[l])>-1&&(r[c]=!(a[c]=f))}}else b=v(b===a?b.splice(d,b.length):b),o?o(null,a,b,u):Z.apply(a,b)})}function b(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),c=d(function(e){return te(t,e)>-1},a,!0),l=[function(e,n,r){var i=!o&&(r||n!==k)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];s<i;s++)if(n=_.relative[e[s].type])l=[d(m(l),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[q]){for(r=++s;r<i&&!_.relative[e[r].type];r++);return g(s>1&&m(l),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,s<r&&b(e.slice(s,r)),r<i&&b(e=e.slice(r)),r<i&&p(e))}l.push(n)}return m(l)}function w(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,c){var l,f,h,p=0,d="0",m=r&&[],y=[],g=k,b=r||o&&_.find.TAG("*",c),w=V+=null==g?1:Math.random()||.1,E=b.length;for(c&&(k=a===P||a||c);d!==E&&null!=(l=b[d]);d++){if(o&&l){for(f=0,a||l.ownerDocument===P||(R(l),s=!L);h=e[f++];)if(h(l,a||P,s)){u.push(l);break}c&&(V=w)}i&&((l=!h&&l)&&p--,r&&m.push(l))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(m,y,a,s);if(r){if(p>0)for(;d--;)m[d]||y[d]||(y[d]=$.call(u));y=v(y)}Z.apply(u,y),c&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(u)}return c&&(V=w,k=g),m};return i?r(a):a}var E,T,_,S,I,A,x,C,k,O,N,R,P,D,L,M,j,U,F,q="sizzle"+1*new Date,B=e.document,V=0,W=0,z=n(),H=n(),K=n(),G=n(),Q=function(e,t){return e===t&&(N=!0),0},Y={}.hasOwnProperty,X=[],$=X.pop,J=X.push,Z=X.push,ee=X.slice,te=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(re+"+","g"),ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp(re+"|>"),he=new RegExp(ae),pe=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},me=/HTML$/i,ye=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,Ee=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Se=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ie=function(){R()},Ae=d(function(e){return e.disabled===!0&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(X=ee.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},I=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!me.test(t||n&&n.nodeName||"HTML")},R=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,D=P.documentElement,L=!I(P),B!==P&&(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ie,!1):n.attachEvent&&n.attachEvent("onunload",Ie)),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ge.test(P.getElementsByClassName),T.getById=i(function(e){return D.appendChild(e).id=q,!P.getElementsByName||!P.getElementsByName(q).length}),T.getById?(_.filter.ID=function(e){var t=e.replace(Ee,Te);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}}):(_.filter.ID=function(e){var t=e.replace(Ee,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),_.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=T.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},j=[],M=[],(T.qsa=ge.test(P.querySelectorAll))&&(i(function(e){D.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+q+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||M.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=P.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+re+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),D.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(T.matchesSelector=ge.test(U=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){T.disconnectedMatch=U.call(e,"*"),U.call(e,"[s!='']:x"),j.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),j=j.length&&new RegExp(j.join("|")),t=ge.test(D.compareDocumentPosition),F=t||ge.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===P||e.ownerDocument===B&&F(B,e)?-1:t===P||t.ownerDocument===B&&F(B,t)?1:O?te(O,e)-te(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===P?-1:t===P?1:i?-1:o?1:O?te(O,e)-te(O,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===B?-1:u[r]===B?1:0},P):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&R(e),T.matchesSelector&&L&&!G[n+" "]&&(!j||!j.test(n))&&(!M||!M.test(n)))try{var r=U.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){G(n,!0)}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&R(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&R(e);var n=_.attrHandle[t.toLowerCase()],r=n&&Y.call(_.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:T.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(_e,Se)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(N=!T.detectDuplicates,O=!T.sortStable&&e.slice(0),e.sort(Q),N){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return O=null,e},S=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ee,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(Ee,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ee,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,h,p,d,m=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),g=!u&&!s,b=!1;if(y){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?y.firstChild:y.lastChild],a&&g){for(h=y,f=h[q]||(h[q]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),c=l[e]||[],p=c[0]===V&&c[1],b=p&&c[2],h=p&&y.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){l[e]=[V,p,b];break}}else if(g&&(h=t,f=h[q]||(h[q]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),c=l[e]||[],p=c[0]===V&&c[1],b=p),b===!1)for(;(h=++p&&h&&h[m]||(b=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(g&&(f=h[q]||(h[q]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),l[e]=[V,b]),h!==t)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[q]?o(n):o.length>1?(i=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=te(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=x(e.replace(ue,"$1"));return i[q]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Ee,Te),function(t){return(t.textContent||S(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ee,Te).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return ye.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})_.pseudos[E]=u(E);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,A=t.tokenize=function(e,n){var r,i,o,a,s,u,c,l=H[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=_.preFilter;s;){r&&!(i=ce.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in _.filter)!(i=de[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,u).slice(0)},x=t.compile=function(e,t){var n,r=[],i=[],o=K[e+" "];if(!o){for(t||(t=A(e)),n=t.length;n--;)o=b(t[n]),o[q]?r.push(o):i.push(o);o=K(e,w(i,r)),o.selector=e}return o},C=t.select=function(e,t,n,r){var i,o,a,s,u,c="function"==typeof e&&e,l=!r&&A(e=c.selector||e);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&L&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(Ee,Te),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((u=_.find[s])&&(r=u(a.matches[0].replace(Ee,Te),we.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Z.apply(n,r),n;break}}return(c||x(e,l))(r,t,!L,n,!t||we.test(e)&&f(t.parentNode)||t),n},T.sortStable=q.split("").sort(Q).join("")===q,T.detectDuplicates=!!N,R(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);Ce.find=Oe,Ce.expr=Oe.selectors,Ce.expr[":"]=Ce.expr.pseudos,Ce.uniqueSort=Ce.unique=Oe.uniqueSort,Ce.text=Oe.getText,Ce.isXMLDoc=Oe.isXML,Ce.contains=Oe.contains,Ce.escapeSelector=Oe.escape;var Ne=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Ce(e).is(n))break;r.push(e)}return r},Re=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Pe=Ce.expr.match.needsContext,De=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ce.find.matchesSelector(r,e)?[r]:[]:Ce.find.matches(e,Ce.grep(t,function(e){return 1===e.nodeType}))},Ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Ce(e).filter(function(){for(t=0;t<r;t++)if(Ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ce.find(e,i[t],n);return r>1?Ce.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&Pe.test(e)?Ce(e):e||[],!1).length}});var Le,Me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,je=Ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Le,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Me.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ce?t[0]:t,Ce.merge(this,Ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),De.test(r[1])&&Ce.isPlainObject(t))for(r in t)Se(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=he.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Se(e)?void 0!==n.ready?n.ready(e):e(Ce):Ce.makeArray(e,this)};je.prototype=Ce.fn,Le=Ce(he);var Ue=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};Ce.fn.extend({has:function(e){var t=Ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Ce(e);if(!Pe.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ve.call(Ce(e),this[0]):ve.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ce.uniqueSort(Ce.merge(this.get(),Ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ne(e,"parentNode")},parentsUntil:function(e,t,n){return Ne(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return Ne(e,"nextSibling")},prevAll:function(e){return Ne(e,"previousSibling")},nextUntil:function(e,t,n){return Ne(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ne(e,"previousSibling",n)},siblings:function(e){return Re((e.parentNode||{}).firstChild,e)},children:function(e){return Re(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(c(e,"template")&&(e=e.content||e),Ce.merge([],e.childNodes))}},function(e,t){Ce.fn[e]=function(n,r){var i=Ce.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Ce.filter(r,i)),this.length>1&&(Fe[e]||Ce.uniqueSort(i),Ue.test(e)&&i.reverse()),this.pushStack(i)}});var qe=/[^\x20\t\r\n\f]+/g;Ce.Callbacks=function(e){e="string"==typeof e?h(e):Ce.extend({},e);var t,n,r,i,o=[],a=[],u=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(u=o.length-1,a.push(n)),function t(n){Ce.each(n,function(n,r){Se(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==s(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return Ce.each(arguments,function(e,t){for(var n;(n=Ce.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?Ce.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},Ce.extend({Deferred:function(e){var t=[["notify","progress",Ce.Callbacks("memory"),Ce.Callbacks("memory"),2],["resolve","done",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),0,"resolved"],["reject","fail",Ce.Callbacks("once memory"),Ce.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Ce.Deferred(function(n){Ce.each(t,function(t,r){var i=Se(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&Se(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){function o(e,t,r,i){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(e<a)){if(n=r.apply(s,u),n===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,Se(c)?i?c.call(n,o(a,t,p,i),o(a,t,d,i)):(a++,c.call(n,o(a,t,p,i),o(a,t,d,i),o(a,t,p,t.notifyWith))):(r!==p&&(s=void 0,u=[n]),(i||t.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(n){Ce.Deferred.exceptionHook&&Ce.Deferred.exceptionHook(n,l.stackTrace),e+1>=a&&(r!==d&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?l():(Ce.Deferred.getStackHook&&(l.stackTrace=Ce.Deferred.getStackHook()),n.setTimeout(l))}}var a=0;return Ce.Deferred(function(n){t[0][3].add(o(0,n,Se(i)?i:p,n.notifyWith)),t[1][3].add(o(0,n,Se(e)?e:p)),t[2][3].add(o(0,n,Se(r)?r:d))}).promise()},promise:function(e){return null!=e?Ce.extend(e,i):i}},o={};return Ce.each(t,function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=de.call(arguments),o=Ce.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?de.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(m(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||Se(i[n]&&i[n].then)))return o.then();for(;n--;)m(i[n],a(n),o.reject);return o.promise()}});var Be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ce.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Be.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Ce.readyException=function(e){n.setTimeout(function(){throw e})};var Ve=Ce.Deferred();Ce.fn.ready=function(e){return Ve.then(e).catch(function(e){Ce.readyException(e)}),this},Ce.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Ce.readyWait:Ce.isReady)||(Ce.isReady=!0,e!==!0&&--Ce.readyWait>0||Ve.resolveWith(he,[Ce]))}}),Ce.ready.then=Ve.then,"complete"===he.readyState||"loading"!==he.readyState&&!he.documentElement.doScroll?n.setTimeout(Ce.ready):(he.addEventListener("DOMContentLoaded",y),n.addEventListener("load",y));var We=function(e,t,n,r,i,o,a){var u=0,c=e.length,l=null==n;if("object"===s(n)){i=!0;for(u in n)We(e,t,u,n[u],!0,o,a)}else if(void 0!==r&&(i=!0,Se(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Ce(e),n)})),t))for(;u<c;u++)t(e[u],n,a?r:r.call(e[u],u,t(e[u],n)));return i?e:l?t.call(e):c?t(e[0],n):o},ze=/^-ms-/,He=/-([a-z])/g,Ke=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};b.uid=1,b.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ke(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[g(t)]=n;else for(r in t)i[g(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(g):(t=g(t),t=t in r?[t]:t.match(qe)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ce.isEmptyObject(t)}};var Ge=new b,Qe=new b,Ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xe=/[A-Z]/g;Ce.extend({hasData:function(e){return Qe.hasData(e)||Ge.hasData(e)},data:function(e,t,n){return Qe.access(e,t,n)},removeData:function(e,t){Qe.remove(e,t)},_data:function(e,t,n){return Ge.access(e,t,n)},_removeData:function(e,t){Ge.remove(e,t)}}),Ce.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Qe.get(o),1===o.nodeType&&!Ge.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=g(r.slice(5)),E(o,r,i[r])));Ge.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Qe.set(this,e)}):We(this,function(t){var n;if(o&&void 0===t){if(n=Qe.get(o,e),void 0!==n)return n;if(n=E(o,e),void 0!==n)return n}else this.each(function(){Qe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Qe.remove(this,e)})}}),Ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ge.get(e,t),n&&(!r||Array.isArray(n)?r=Ge.access(e,t,Ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ce.queue(e,t),r=n.length,i=n.shift(),o=Ce._queueHooks(e,t),a=function(){Ce.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ge.get(e,n)||Ge.access(e,n,{empty:Ce.Callbacks("once memory").add(function(){Ge.remove(e,[t+"queue",n])})})}}),Ce.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ce.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ce.queue(this,e,t);Ce._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Ge.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Je=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Ze=["Top","Right","Bottom","Left"],et=he.documentElement,tt=function(e){return Ce.contains(e.ownerDocument,e)},nt={composed:!0};et.attachShadow&&(tt=function(e){return Ce.contains(e.ownerDocument,e)||e.getRootNode(nt)===e.ownerDocument});var rt=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&tt(e)&&"none"===Ce.css(e,"display")},it=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],
e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},ot={};Ce.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){rt(this)?Ce(this).show():Ce(this).hide()})}});var at=/^(?:checkbox|radio)$/i,st=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ut=/^$|^module$|\/(?:java|ecma)script/i,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td;var lt=/<|&#?\w+;/;!function(){var e=he.createDocumentFragment(),t=e.appendChild(he.createElement("div")),n=he.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),_e.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",_e.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ft=/^key/,ht=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,pt=/^([^.]*)(?:\.(.+)|)/;Ce.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,m,y=Ge.get(e);if(y)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&Ce.find.matchesSelector(et,i),n.guid||(n.guid=Ce.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof Ce&&Ce.event.triggered!==t.type?Ce.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(qe)||[""],c=t.length;c--;)s=pt.exec(t[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p&&(f=Ce.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=Ce.event.special[p]||{},l=Ce.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ce.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&f.setup.call(e,r,d,a)!==!1||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),Ce.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,h,p,d,m,y=Ge.hasData(e)&&Ge.get(e);if(y&&(u=y.events)){for(t=(t||"").match(qe)||[""],c=t.length;c--;)if(s=pt.exec(t[c])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p){for(f=Ce.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(e,l));a&&!h.length&&(f.teardown&&f.teardown.call(e,d,y.handle)!==!1||Ce.removeEvent(e,p,y.handle),delete u[p])}else for(p in u)Ce.event.remove(e,p+t[c],n,r,!0);Ce.isEmptyObject(u)&&Ge.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=Ce.event.fix(e),u=new Array(arguments.length),c=(Ge.get(this,"events")||{})[s.type]||[],l=Ce.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,s)!==!1){for(a=Ce.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&o.namespace!==!1&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((Ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Ce(i,this).index(c)>-1:Ce.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Ce.Event.prototype,e,{enumerable:!0,configurable:!0,get:Se(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ce.expando]?e:new Ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return at.test(t.type)&&t.click&&c(t,"input")&&void 0===Ge.get(t,"click")&&P(t,"click",C),!1},trigger:function(e){var t=this||e;return at.test(t.type)&&t.click&&c(t,"input")&&void 0===Ge.get(t,"click")&&P(t,"click"),!0},_default:function(e){var t=e.target;return at.test(t.type)&&t.click&&c(t,"input")&&Ge.get(t,"click")||c(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ce.Event=function(e,t){return this instanceof Ce.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?C:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Ce.expando]=!0)):new Ce.Event(e,t)},Ce.Event.prototype={constructor:Ce.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=C,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=C,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=C,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ft.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ht.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Ce.event.addProp),Ce.each({focus:"focusin",blur:"focusout"},function(e,t){Ce.event.special[e]={setup:function(){return P(this,e,O),!1},trigger:function(){return P(this,e),!0},delegateType:t}}),Ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Ce.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Ce.fn.extend({on:function(e,t,n,r){return R(this,e,t,n,r)},one:function(e,t,n,r){return R(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=k),this.each(function(){Ce.event.remove(this,e,n,t)})}});var dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,mt=/<script|<style|<link/i,yt=/checked\s*(?:[^=]|=\s*.checked.)/i,vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ce.extend({htmlPrefilter:function(e){return e.replace(dt,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=tt(e);if(!(_e.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ce.isXMLDoc(e)))for(a=I(s),o=I(e),r=0,i=o.length;r<i;r++)U(o[r],a[r]);if(t)if(n)for(o=o||I(e),a=a||I(s),r=0,i=o.length;r<i;r++)j(o[r],a[r]);else j(e,s);return a=I(s,"script"),a.length>0&&A(a,!u&&I(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Ce.event.special,o=0;void 0!==(n=e[o]);o++)if(Ke(n)){if(t=n[Ge.expando]){if(t.events)for(r in t.events)i[r]?Ce.event.remove(n,r):Ce.removeEvent(n,r,t.handle);n[Ge.expando]=void 0}n[Qe.expando]&&(n[Qe.expando]=void 0)}}}),Ce.fn.extend({detach:function(e){return q(this,e,!0)},remove:function(e){return q(this,e)},text:function(e){return We(this,function(e){return void 0===e?Ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.appendChild(e)}})},prepend:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ce.cleanData(I(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ce.clone(this,e,t)})},html:function(e){return We(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!mt.test(e)&&!ct[(st.exec(e)||["",""])[1].toLowerCase()]){e=Ce.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ce.cleanData(I(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return F(this,arguments,function(t){var n=this.parentNode;Ce.inArray(this,e)<0&&(Ce.cleanData(I(this)),n&&n.replaceChild(t,this))},e)}}),Ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ce.fn[e]=function(e){for(var n,r=[],i=Ce(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Ce(i[a])[t](n),ye.apply(r,n.get());return this.pushStack(r)}});var gt=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),bt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},wt=new RegExp(Ze.join("|"),"i");!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(u).appendChild(c);var e=n.getComputedStyle(c);r="1%"!==e.top,s=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),et.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u=he.createElement("div"),c=he.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",_e.clearCloneStyle="content-box"===c.style.backgroundClip,Ce.extend(_e,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o}}))}();var Et=["Webkit","Moz","ms"],Tt=he.createElement("div").style,_t={},St=/^(none|table(?!-c[ea]).+)/,It=/^--/,At={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:"0",fontWeight:"400"};Ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=B(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=g(t),u=It.test(t),c=e.style;return u||(t=z(s)),a=Ce.cssHooks[t]||Ce.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t]:(o=typeof n,"string"===o&&(i=Je.exec(n))&&i[1]&&(n=T(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||u||(n+=i&&i[3]||(Ce.cssNumber[s]?"":"px")),_e.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=g(t),u=It.test(t);return u||(t=z(s)),a=Ce.cssHooks[t]||Ce.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=B(e,t,r)),"normal"===i&&t in xt&&(i=xt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),Ce.each(["height","width"],function(e,t){Ce.cssHooks[t]={get:function(e,n,r){if(n)return!St.test(Ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?G(e,t,r):it(e,At,function(){return G(e,t,r)})},set:function(e,n,r){var i,o=bt(e),a=!_e.scrollboxSize()&&"absolute"===o.position,s=a||r,u=s&&"border-box"===Ce.css(e,"boxSizing",!1,o),c=r?K(e,t,r,u,o):0;return u&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-K(e,t,"border",!1,o)-.5)),c&&(i=Je.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Ce.css(e,t)),H(e,n,c)}}}),Ce.cssHooks.marginLeft=V(_e.reliableMarginLeft,function(e,t){if(t)return(parseFloat(B(e,"marginLeft"))||e.getBoundingClientRect().left-it(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ce.each({margin:"",padding:"",border:"Width"},function(e,t){Ce.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ze[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(Ce.cssHooks[e+t].set=H)}),Ce.fn.extend({css:function(e,t){return We(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=bt(e),i=t.length;a<i;a++)o[t[a]]=Ce.css(e,t[a],!1,r);return o}return void 0!==n?Ce.style(e,t,n):Ce.css(e,t)},e,t,arguments.length>1)}}),Ce.Tween=Q,Q.prototype={constructor:Q,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Ce.cssNumber[n]?"":"px")},cur:function(){var e=Q.propHooks[this.prop];return e&&e.get?e.get(this):Q.propHooks._default.get(this)},run:function(e){var t,n=Q.propHooks[this.prop];return this.options.duration?this.pos=t=Ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Q.propHooks._default.set(this),this}},Q.prototype.init.prototype=Q.prototype,Q.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ce.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Ce.fx.step[e.prop]?Ce.fx.step[e.prop](e):1!==e.elem.nodeType||!Ce.cssHooks[e.prop]&&null==e.elem.style[z(e.prop)]?e.elem[e.prop]=e.now:Ce.style(e.elem,e.prop,e.now+e.unit)}}},Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ce.fx=Q.prototype.init,Ce.fx.step={};var Ct,kt,Ot=/^(?:toggle|show|hide)$/,Nt=/queueHooks$/;Ce.Animation=Ce.extend(te,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return T(n.elem,e,Je.exec(t),n),n}]},tweener:function(e,t){Se(e)?(t=e,e=["*"]):e=e.match(qe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),Ce.speed=function(e,t,n){var r=e&&"object"==typeof e?Ce.extend({},e):{complete:n||!n&&t||Se(e)&&e,duration:e,easing:n&&t||t&&!Se(t)&&t};return Ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ce.fx.speeds?r.duration=Ce.fx.speeds[r.duration]:r.duration=Ce.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){Se(r.old)&&r.old.call(this),r.queue&&Ce.dequeue(this,r.queue)},r},Ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(rt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Ce.isEmptyObject(e),o=Ce.speed(t,n,r),a=function(){var t=te(this,Ce.extend({},e),o);(i||Ge.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Ce.timers,a=Ge.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Nt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Ce.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ge.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Ce.timers,a=r?r.length:0;for(n.finish=!0,Ce.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ce.each(["toggle","show","hide"],function(e,t){var n=Ce.fn[t];Ce.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,r,i)}}),Ce.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ce.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ce.timers=[],Ce.fx.tick=function(){var e,t=0,n=Ce.timers;for(Ct=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Ce.fx.stop(),Ct=void 0},Ce.fx.timer=function(e){Ce.timers.push(e),Ce.fx.start()},Ce.fx.interval=13,Ce.fx.start=function(){kt||(kt=!0,Y())},Ce.fx.stop=function(){kt=null},Ce.fx.speeds={slow:600,fast:200,_default:400},Ce.fn.delay=function(e,t){return e=Ce.fx?Ce.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=he.createElement("input"),t=he.createElement("select"),n=t.appendChild(he.createElement("option"));e.type="checkbox",_e.checkOn=""!==e.value,_e.optSelected=n.selected,e=he.createElement("input"),e.value="t",e.type="radio",_e.radioValue="t"===e.value}();var Rt,Pt=Ce.expr.attrHandle;Ce.fn.extend({attr:function(e,t){return We(this,Ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ce.removeAttr(this,e)})}}),Ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?Ce.prop(e,t,n):(1===o&&Ce.isXMLDoc(e)||(i=Ce.attrHooks[t.toLowerCase()]||(Ce.expr.match.bool.test(t)?Rt:void 0)),void 0!==n?null===n?void Ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Ce.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!_e.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(qe);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Rt={set:function(e,t,n){return t===!1?Ce.removeAttr(e,n):e.setAttribute(n,n),n}},Ce.each(Ce.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Pt[t]||Ce.find.attr;Pt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Pt[a],Pt[a]=i,i=null!=n(e,t,r)?a:null,Pt[a]=o),i}});var Dt=/^(?:input|select|textarea|button)$/i,Lt=/^(?:a|area)$/i;Ce.fn.extend({prop:function(e,t){return We(this,Ce.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ce.propFix[e]||e]})}}),Ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ce.isXMLDoc(e)||(t=Ce.propFix[t]||t,i=Ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ce.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Lt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_e.optSelected||(Ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ce.propFix[this.toLowerCase()]=this}),Ce.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(Se(e))return this.each(function(t){Ce(this).addClass(e.call(this,t,re(this)))});if(t=ie(e),t.length)for(;n=this[u++];)if(i=re(n),r=1===n.nodeType&&" "+ne(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=ne(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(Se(e))return this.each(function(t){Ce(this).removeClass(e.call(this,t,re(this)))});if(!arguments.length)return this.attr("class","");if(t=ie(e),t.length)for(;n=this[u++];)if(i=re(n),r=1===n.nodeType&&" "+ne(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=ne(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):Se(e)?this.each(function(n){Ce(this).toggleClass(e.call(this,n,re(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=Ce(this),a=ie(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=re(this),t&&Ge.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ge.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ne(re(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;Ce.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Se(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Ce(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Ce.map(i,function(e){return null==e?"":e+""})),t=Ce.valHooks[this.type]||Ce.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Ce.valHooks[i.type]||Ce.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Mt,""):null==n?"":n)}}}),Ce.extend({valHooks:{option:{get:function(e){var t=Ce.find.attr(e,"value");return null!=t?t:ne(Ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=Ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Ce.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Ce.inArray(Ce.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Ce.each(["radio","checkbox"],function(){Ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ce.inArray(Ce(e).val(),t)>-1}},_e.checkOn||(Ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_e.focusin="onfocusin"in n;var jt=/^(?:focusinfocus|focusoutblur)$/,Ut=function(e){e.stopPropagation()};Ce.extend(Ce.event,{trigger:function(e,t,r,i){var o,a,s,u,c,l,f,h,p=[r||he],d=we.call(e,"type")?e.type:e,m=we.call(e,"namespace")?e.namespace.split("."):[];if(a=h=s=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!jt.test(d+Ce.event.triggered)&&(d.indexOf(".")>-1&&(m=d.split("."),d=m.shift(),m.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[Ce.expando]?e:new Ce.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:Ce.makeArray(t,[e]),f=Ce.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,t)!==!1)){if(!i&&!f.noBubble&&!Ie(r)){for(u=f.delegateType||d,jt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||he)&&p.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)h=a,e.type=o>1?u:f.bindType||d,l=(Ge.get(a,"events")||{})[e.type]&&Ge.get(a,"handle"),l&&l.apply(a,t),l=c&&a[c],l&&l.apply&&Ke(a)&&(e.result=l.apply(a,t),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),t)!==!1||!Ke(r)||c&&Se(r[d])&&!Ie(r)&&(s=r[c],s&&(r[c]=null),Ce.event.triggered=d,e.isPropagationStopped()&&h.addEventListener(d,Ut),r[d](),e.isPropagationStopped()&&h.removeEventListener(d,Ut),Ce.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,n){var r=Ce.extend(new Ce.Event,n,{type:e,isSimulated:!0});Ce.event.trigger(r,null,t)}}),Ce.fn.extend({trigger:function(e,t){return this.each(function(){Ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ce.event.trigger(e,t,n,!0)}}),_e.focusin||Ce.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ce.event.simulate(t,e.target,Ce.event.fix(e))};Ce.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ge.access(r,t);i||r.addEventListener(e,n,!0),Ge.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ge.access(r,t)-1;i?Ge.access(r,t,i):(r.removeEventListener(e,n,!0),Ge.remove(r,t))}}});var Ft=n.location,qt=Date.now(),Bt=/\?/;Ce.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Ce.error("Invalid XML: "+e),t};var Vt=/\[\]$/,Wt=/\r?\n/g,zt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;Ce.param=function(e,t){var n,r=[],i=function(e,t){var n=Se(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ce.isPlainObject(e))Ce.each(e,function(){i(this.name,this.value)});else for(n in e)oe(n,e[n],t,i);return r.join("&")},Ce.fn.extend({serialize:function(){return Ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ce.prop(this,"elements");return e?Ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ce(this).is(":disabled")&&Ht.test(this.nodeName)&&!zt.test(e)&&(this.checked||!at.test(e))}).map(function(e,t){var n=Ce(this).val();return null==n?null:Array.isArray(n)?Ce.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}});var Kt=/%20/g,Gt=/#.*$/,Qt=/([?&])_=[^&]*/,Yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,Jt=/^\/\//,Zt={},en={},tn="*/".concat("*"),nn=he.createElement("a");nn.href=Ft.href,Ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ft.href,type:"GET",isLocal:Xt.test(Ft.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ue(ue(e,Ce.ajaxSettings),t):ue(Ce.ajaxSettings,e)},ajaxPrefilter:ae(Zt),ajaxTransport:ae(en),ajax:function(e,t){function r(e,t,r,s){var c,h,p,w,E,T=t;l||(l=!0,u&&n.clearTimeout(u),i=void 0,a=s||"",_.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=ce(d,_,r)),w=le(d,w,_,c),c?(d.ifModified&&(E=_.getResponseHeader("Last-Modified"),E&&(Ce.lastModified[o]=E),E=_.getResponseHeader("etag"),E&&(Ce.etag[o]=E)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=w.state,h=w.data,p=w.error,c=!p)):(p=T,!e&&T||(T="error",e<0&&(e=0))),_.status=e,_.statusText=(t||T)+"",c?v.resolveWith(m,[h,T,_]):v.rejectWith(m,[_,T,p]),_.statusCode(b),b=void 0,f&&y.trigger(c?"ajaxSuccess":"ajaxError",[_,d,c?h:p]),g.fireWith(m,[_,T]),f&&(y.trigger("ajaxComplete",[_,d]),--Ce.active||Ce.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,a,s,u,c,l,f,h,p,d=Ce.ajaxSetup({},t),m=d.context||d,y=d.context&&(m.nodeType||m.jquery)?Ce(m):Ce.event,v=Ce.Deferred(),g=Ce.Callbacks("once memory"),b=d.statusCode||{},w={},E={},T="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Yt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)_.always(e[_.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(v.promise(_),d.url=((e||d.url||Ft.href)+"").replace(Jt,Ft.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(qe)||[""],null==d.crossDomain){c=he.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=nn.protocol+"//"+nn.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Ce.param(d.data,d.traditional)),se(Zt,d,t,_),l)return _;f=Ce.event&&d.global,f&&0===Ce.active++&&Ce.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!$t.test(d.type),o=d.url.replace(Gt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Kt,"+")):(p=d.url.slice(o.length),d.data&&(d.processData||"string"==typeof d.data)&&(o+=(Bt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Qt,"$1"),p=(Bt.test(o)?"&":"?")+"_="+qt++ +p),d.url=o+p),d.ifModified&&(Ce.lastModified[o]&&_.setRequestHeader("If-Modified-Since",Ce.lastModified[o]),Ce.etag[o]&&_.setRequestHeader("If-None-Match",Ce.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+tn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(m,_,d)===!1||l))return _.abort();if(T="abort",g.add(d.complete),_.done(d.success),_.fail(d.error),i=se(en,d,t,_)){if(_.readyState=1,f&&y.trigger("ajaxSend",[_,d]),l)return _;d.async&&d.timeout>0&&(u=n.setTimeout(function(){_.abort("timeout")},d.timeout));try{l=!1,i.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return Ce.get(e,t,n,"json")},getScript:function(e,t){return Ce.get(e,void 0,t,"script")}}),Ce.each(["get","post"],function(e,t){Ce[t]=function(e,n,r,i){return Se(n)&&(i=i||r,r=n,n=void 0),Ce.ajax(Ce.extend({url:e,type:t,dataType:i,data:n,success:r
},Ce.isPlainObject(e)&&e))}}),Ce._evalUrl=function(e,t){return Ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ce.globalEval(e,t)}})},Ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(Se(e)&&(e=e.call(this[0])),t=Ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Se(e)?this.each(function(t){Ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Se(e);return this.each(function(n){Ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ce(this).replaceWith(this.childNodes)}),this}}),Ce.expr.pseudos.hidden=function(e){return!Ce.expr.pseudos.visible(e)},Ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ce.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var rn={0:200,1223:204},on=Ce.ajaxSettings.xhr();_e.cors=!!on&&"withCredentials"in on,_e.ajax=on=!!on,Ce.ajaxTransport(function(e){var t,r;if(_e.cors||on&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(rn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ce.globalEval(e),e}}}),Ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ce.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,i){t=Ce("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),he.head.appendChild(t[0])},abort:function(){n&&n()}}}});var an=[],sn=/(=)\?(?=&|$)|\?\?/;Ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=an.pop()||Ce.expando+"_"+qt++;return this[e]=!0,e}}),Ce.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=e.jsonp!==!1&&(sn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&sn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=Se(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(sn,"$1"+i):e.jsonp!==!1&&(e.url+=(Bt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||Ce.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?Ce(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,an.push(i)),a&&Se(o)&&o(a[0]),a=o=void 0}),"script"}),_e.createHTMLDocument=function(){var e=he.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ce.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(_e.createHTMLDocument?(t=he.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=he.location.href,t.head.appendChild(r)):t=he),i=De.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=x([e],t,o),o&&o.length&&Ce(o).remove(),Ce.merge([],i.childNodes))},Ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=ne(e.slice(s)),e=e.slice(0,s)),Se(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Ce("<div>").append(Ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ce.fn[t]=function(e){return this.on(t,e)}}),Ce.expr.pseudos.animated=function(e){return Ce.grep(Ce.timers,function(t){return e===t.elem}).length},Ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=Ce.css(e,"position"),f=Ce(e),h={};"static"===l&&(e.style.position="relative"),s=f.offset(),o=Ce.css(e,"top"),u=Ce.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),Se(t)&&(t=t.call(e,n,Ce.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):f.css(h)}},Ce.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ce.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Ce.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ce.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Ce(e).offset(),i.top+=Ce.css(e,"borderTopWidth",!0),i.left+=Ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Ce.css(r,"marginTop",!0),left:t.left-i.left-Ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ce.css(e,"position");)e=e.offsetParent;return e||et})}}),Ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ce.fn[e]=function(r){return We(this,function(e,r,i){var o;return Ie(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),Ce.each(["top","left"],function(e,t){Ce.cssHooks[t]=V(_e.pixelPosition,function(e,n){if(n)return n=B(e,t),gt.test(n)?Ce(e).position()[t]+"px":n})}),Ce.each({Height:"height",Width:"width"},function(e,t){Ce.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ce.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return We(this,function(t,n,i){var o;return Ie(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Ce.css(t,n,s):Ce.style(t,n,i,s)},t,a?i:void 0,a)}})}),Ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ce.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Ce.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Se(e))return r=de.call(arguments,2),i=function(){return e.apply(t||this,r.concat(de.call(arguments)))},i.guid=e.guid=e.guid||Ce.guid++,i},Ce.holdReady=function(e){e?Ce.readyWait++:Ce.ready(!0)},Ce.isArray=Array.isArray,Ce.parseJSON=JSON.parse,Ce.nodeName=c,Ce.isFunction=Se,Ce.isWindow=Ie,Ce.camelCase=g,Ce.type=s,Ce.now=Date.now,Ce.isNumeric=function(e){var t=Ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},r=[],i=function(){return Ce}.apply(t,r),!(void 0!==i&&(e.exports=i));var un=n.jQuery,cn=n.$;return Ce.noConflict=function(e){return n.$===Ce&&(n.$=cn),e&&n.jQuery===Ce&&(n.jQuery=un),Ce},o||(n.jQuery=n.$=Ce),Ce})},function(e,t,n){var r=n(20),i=n(6),o=r(i,"DataView");e.exports=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(313),o=n(314),a=n(315),s=n(316),u=n(317);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(20),i=n(6),o=r(i,"Promise");e.exports=o},function(e,t){function n(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}e.exports=n},function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t,n){var r=n(138),i=r("length");e.exports=i},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t,n){function r(e,t,n,r){return i(e,function(e,i,o){t(r,e,n(e),o)}),r}var i=n(17);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(19),o=n(68);e.exports=r},function(e,t,n){function r(e,t,n,r){var f=-1,h=o,p=!0,d=e.length,m=[],y=t.length;if(!d)return m;n&&(t=s(t,u(n))),r?(h=a,p=!1):t.length>=l&&(h=c,p=!1,t=new i(t));e:for(;++f<d;){var v=e[f],g=null==n?v:n(v);if(v=r||0!==v?v:0,p&&g===g){for(var b=y;b--;)if(t[b]===g)continue e;m.push(v)}else h(t,g,r)||m.push(v)}return m}var i=n(80),o=n(82),a=n(129),s=n(24),u=n(60),c=n(91),l=200;e.exports=r},function(e,t,n){function r(e,t){var n=!0;return i(e,function(e,r,i){return n=!!t(e,r,i)}),n}var i=n(17);e.exports=r},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t){function n(e,t){return null!=e&&i.call(e,t)}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n){t=o(t,e),e=s(e,t);var r=null==e?e:e[u(a(t))];return null==r?void 0:i(r,e,n)}var i=n(32),o=n(18),a=n(42),s=n(164),u=n(14);e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(9),o=n(5),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e,t,n,r,y,g){var b=c(e),w=c(t),E=b?d:u(e),T=w?d:u(t);E=E==p?m:E,T=T==p?m:T;var _=E==m,S=T==m,I=E==T;if(I&&l(e)){if(!l(t))return!1;b=!0,_=!1}if(I&&!_)return g||(g=new i),b||f(e)?o(e,t,n,r,y,g):a(e,t,E,n,r,y,g);if(!(n&h)){var A=_&&v.call(e,"__wrapped__"),x=S&&v.call(t,"__wrapped__");if(A||x){var C=A?e.value():e,k=x?t.value():t;return g||(g=new i),y(C,k,n,r,g)}}return!!I&&(g||(g=new i),s(e,t,n,r,y,g))}var i=n(51),o=n(150),a=n(306),s=n(307),u=n(21),c=n(1),l=n(40),f=n(67),h=1,p="[object Arguments]",d="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(21),o=n(5),a="[object Map]";e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){f=n[u];var h=f[0],p=e[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in e))return!1}else{var m=new i;if(r)var y=r(p,d,h,e,t,m);if(!(void 0===y?o(d,p,a|s,r,m):y))return!1}}return!0}var i=n(51),o=n(85),a=1,s=2;e.exports=r},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t,n){function r(e){if(!a(e)||o(e))return!1;var t=i(e)?d:c;return t.test(s(e))}var i=n(4),o=n(324),a=n(3),s=n(170),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,p=f.hasOwnProperty,d=RegExp("^"+h.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(21),o=n(5),a="[object Set]";e.exports=r},function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!N[i(e)]}var i=n(9),o=n(110),a=n(5),s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",m="[object Object]",y="[object RegExp]",v="[object Set]",g="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",I="[object Int16Array]",A="[object Int32Array]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",O="[object Uint32Array]",N={};N[T]=N[_]=N[S]=N[I]=N[A]=N[x]=N[C]=N[k]=N[O]=!0,N[s]=N[u]=N[w]=N[c]=N[E]=N[l]=N[f]=N[h]=N[p]=N[d]=N[m]=N[y]=N[v]=N[g]=N[b]=!1,e.exports=r},function(e,t,n){function r(e){if(!i(e))return a(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(3),o=n(35),a=n(339),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(17),o=n(12);e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(268),o=n(309),a=n(160);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,f|h)}}var i=n(85),o=n(10),a=n(176),s=n(101),u=n(159),c=n(160),l=n(14),f=1,h=2;e.exports=r},function(e,t,n){function r(e,t,n,r,b,w,E){var T=v(e,n),_=v(t,n),S=E.get(_);if(S)return void i(e,n,S);var I=w?w(T,_,n+"",e,t,E):void 0,A=void 0===I;if(A){var x=l(_),C=!x&&h(_),k=!x&&!C&&y(_);I=_,x||C||k?l(T)?I=T:f(T)?I=s(T):C?(A=!1,I=o(_,!0)):k?(A=!1,I=a(_,!0)):I=[]:m(_)||c(_)?(I=T,c(T)?I=g(T):d(T)&&!p(T)||(I=u(_))):A=!1}A&&(E.set(_,I),b(I,_,r,w,E),E.delete(_)),i(e,n,I)}var i=n(132),o=n(142),a=n(143),s=n(34),u=n(158),c=n(39),l=n(1),f=n(108),h=n(40),p=n(4),d=n(3),m=n(66),y=n(67),v=n(165),g=n(394);e.exports=r},function(e,t,n){function r(e,t){return i(e,t,function(t,n){return o(e,n)})}var i=n(279),o=n(176);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,s=t.length,u={};++r<s;){var c=t[r],l=i(e,c);n(l,c)&&o(u,a(c,e),l)}return u}var i=n(58),o=n(88),a=n(18);e.exports=r},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(58);e.exports=r},function(e,t,n){function r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==u){var u=a;o(a)?s.call(e,a,1):i(e,a)}}return e}var i=n(90),o=n(26),a=Array.prototype,s=a.splice;e.exports=r},function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}e.exports=n},function(e,t,n){var r=n(362),i=n(149),o=n(38),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t,n){function r(e,t){var n;return i(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}var i=n(17);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e,t,n){var r=-1,f=o,h=e.length,p=!0,d=[],m=d;if(n)p=!1,f=a;else if(h>=l){var y=t?null:u(e);if(y)return c(y);p=!1,f=s,m=new i}else m=t?[]:d;e:for(;++r<h;){var v=e[r],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),d.push(v)}else f(m,g,n)||(m!==d&&m.push(g),d.push(v))}return d}var i=n(80),o=n(82),a=n(129),s=n(91),u=n(303),c=n(104),l=200;e.exports=r},function(e,t,n){function r(e,t){return i(t,function(t){return e[t]})}var i=n(24);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(38);e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--&&i(t,e[n],0)>-1;);return n}var i=n(84);e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(93);e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var i=n(23),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(19),o=n(98);e.exports=r},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(19),o=n(156);e.exports=r},function(e,t,n){var r=n(6),i=r["__core-js_shared__"];e.exports=i},function(e,t){function n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var i=n(12);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(n(o[u],u,o)===!1)break}return t}}e.exports=n},function(e,t,n){function r(e,t,n){function r(){var t=this&&this!==o&&this instanceof r?u:e;return t.apply(s?n:this,arguments)}var s=t&a,u=i(e);return r}var i=n(61),o=n(6),a=1;e.exports=r},function(e,t,n){function r(e){return function(t){t=s(t);var n=o(t)?a(t):void 0,r=n?n[0]:t.charAt(0),u=n?i(n,1).join(""):t.slice(1);return r[e]()+u}}var i=n(92),o=n(99),a=n(106),s=n(22);e.exports=r},function(e,t,n){function r(e,t,n){function r(){for(var o=arguments.length,h=Array(o),p=o,d=u(r);p--;)h[p]=arguments[p];var m=o<3&&h[0]!==d&&h[o-1]!==d?[]:c(h,d);if(o-=m.length,o<n)return s(e,t,a,r.placeholder,void 0,h,m,void 0,void 0,n-o);var y=this&&this!==l&&this instanceof r?f:e;return i(y,this,h)}var f=o(e);return r}var i=n(32),o=n(61),a=n(147),s=n(148),u=n(155),c=n(103),l=n(6);e.exports=r},function(e,t,n){function r(e,t,n,r){function u(){for(var t=-1,o=arguments.length,s=-1,f=r.length,h=Array(f+o),p=this&&this!==a&&this instanceof u?l:e;++s<f;)h[s]=r[s];for(;o--;)h[s++]=arguments[++t];return i(p,c?n:this,h)}var c=t&s,l=o(e);return u}var i=n(32),o=n(61),a=n(6),s=1;e.exports=r},function(e,t,n){var r=n(126),i=n(180),o=n(104),a=1/0,s=r&&1/o(new r([,-0]))[1]==a?function(e){return new r(e)}:i;e.exports=s},function(e,t,n){function r(e,t,n,a,s,u){return o(e)&&o(t)&&(u.set(t,e),i(e,t,void 0,r,u),u.delete(t)),e}var i=n(87),o=n(3);e.exports=r},function(e,t,n){function r(e){return i(e)?void 0:e}var i=n(66);e.exports=r},function(e,t,n){function r(e,t,n,r,i,_,I){switch(n){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!_(new o(e),new o(t)));case h:case p:case y:return a(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case m:var A=u;case g:var x=r&l;if(A||(A=c),e.size!=t.size&&!x)return!1;var C=I.get(e);if(C)return C==t;r|=f,I.set(e,t);var k=s(A(e),A(t),r,i,_,I);return I.delete(e),k;case w:if(S)return S.call(e)==S.call(t)}return!1}var i=n(23),o=n(127),a=n(36),s=n(150),u=n(335),c=n(104),l=1,f=2,h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",w="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",_=i?i.prototype:void 0,S=_?_.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,u){var c=n&o,l=i(e),f=l.length,h=i(t),p=h.length;if(f!=p&&!c)return!1;for(var d=f;d--;){var m=l[d];if(!(c?m in t:s.call(t,m)))return!1}var y=u.get(e);if(y&&u.get(t))return y==t;var v=!0;u.set(e,t),u.set(t,e);for(var g=c;++d<f;){m=l[d];var b=e[m],w=t[m];if(r)var E=c?r(w,b,m,t,e,u):r(b,w,m,e,t,u);if(!(void 0===E?b===w||a(b,w,n,r,u):E)){v=!1;break}g||(g="constructor"==m)}if(v&&!g){var T=e.constructor,_=t.constructor;T!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof T&&T instanceof T&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return u.delete(e),u.delete(t),v}var i=n(152),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){for(var t=e.name+"",n=i[t],r=a.call(i,t)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==e)return o.name}return t}var i=n(341),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(159),o=n(16);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(23),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t){function n(e){var t=e.match(r);return t?t[1].split(i):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;e.exports=n},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(63);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(63),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(63),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(63),o="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case v:return i(e);case c:case l:return new r(+e);case g:return o(e,n);case b:case w:case E:case T:case _:case S:case I:case A:case x:return u(e,n);case f:return new r;case h:case m:return new r(e);case p:return a(e);case d:return new r;case y:return s(e)}}var i=n(93),o=n(290),a=n(291),s=n(292),u=n(143),c="[object Boolean]",l="[object Date]",f="[object Map]",h="[object Number]",p="[object RegExp]",d="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",_="[object Int32Array]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",A="[object Uint16Array]",x="[object Uint32Array]";e.exports=r},function(e,t){function n(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=n},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(23),o=n(39),a=n(1),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){var t=a(e),n=s[t];if("function"!=typeof n||!(t in i.prototype))return!1;if(e===n)return!0;var r=o(n);return!!r&&e===r[0]}var i=n(77),o=n(154),a=n(308),s=n(400);e.exports=r},function(e,t,n){function r(e){return!!o&&o in e}var i=n(295),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():a.call(t,n,1),--this.size,!0}var i=n(54),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(54);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(54);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(54);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(250),o=n(50),a=n(78);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(62);e.exports=r},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(62);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(62);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(62);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(382),o=500;e.exports=r},function(e,t,n){function r(e,t){var n=e[1],r=t[1],m=n|r,y=m<(u|c|h),v=r==h&&n==f||r==h&&n==p&&e[7].length<=t[8]||r==(h|p)&&t[7].length<=t[8]&&n==f;if(!y&&!v)return e;r&u&&(e[2]=t[2],m|=n&u?0:l);var g=t[3];if(g){var b=e[3];e[3]=b?i(b,g,t[4]):g,e[4]=b?a(e[3],s):t[4]}return g=t[5],g&&(b=e[5],e[5]=b?o(b,g,t[6]):g,e[6]=b?a(e[5],s):t[6]),g=t[7],g&&(e[7]=g),r&h&&(e[8]=null==e[8]?t[8]:d(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var i=n(144),o=n(145),a=n(103),s="__lodash_placeholder__",u=1,c=2,l=4,f=8,h=128,p=256,d=Math.min;e.exports=r},function(e,t,n){var r=n(162),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){var n={};e.exports=n},function(e,t,n){function r(e,t){for(var n=e.length,r=a(t.length,n),s=i(e);r--;){var u=t[r];e[r]=o(u,n)?s[u]:void 0}return e}var i=n(34),o=n(26),a=Math.min;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(50);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(50),o=n(78),a=n(79),s=200;e.exports=r},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e){return o(e)?a(e):i(e)}var i=n(255),o=n(99),a=n(352);e.exports=r},function(e,t){function n(e){for(var t=T.lastIndex=0;T.test(e);)++t;return t}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=i+o+a,u="\\ufe0e\\ufe0f",c="["+r+"]",l="["+s+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+f+")",p="[^"+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",v=h+"?",g="["+u+"]?",b="(?:"+y+"(?:"+[p,d,m].join("|")+")"+g+v+")*",w=g+v+b,E="(?:"+[p+l+"?",l,d,m,c].join("|")+")",T=RegExp(f+"(?="+f+")|"+E+w,"g");e.exports=n},function(e,t){function n(e){return e.match(T)||[]}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=i+o+a,u="\\ufe0e\\ufe0f",c="["+r+"]",l="["+s+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+f+")",p="[^"+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",v=h+"?",g="["+u+"]?",b="(?:"+y+"(?:"+[p,d,m].join("|")+")"+g+v+")*",w=g+v+b,E="(?:"+[p+l+"?",l,d,m,c].join("|")+")",T=RegExp(f+"(?="+f+")|"+E+w,"g");e.exports=n},function(e,t,n){function r(e,t){return i(m,function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)}),e.sort()}var i=n(52),o=n(82),a=1,s=2,u=8,c=16,l=32,f=64,h=128,p=256,d=512,m=[["ary",h],["bind",a],["bindKey",s],["curry",u],["curryRight",c],["flip",d],["partial",l],["partialRight",f],["rearg",p]];e.exports=r},function(e,t,n){function r(e){if(e instanceof i)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var i=n(77),o=n(125),a=n(34);e.exports=r},function(e,t,n){function r(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,i(e,o,void 0,void 0,void 0,void 0,t)}var i=n(95),o=128;e.exports=r},function(e,t,n){var r=n(53),i=n(19),o=n(94),a=n(12),s=n(35),u=n(16),c=Object.prototype,l=c.hasOwnProperty,f=o(function(e,t){if(s(t)||a(t))return void i(t,u(t),e);for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=f},function(e,t,n){function r(e){return o(i(e).toLowerCase())}var i=n(22),o=n(398);e.exports=r},function(e,t,n){function r(e){return i(e,o)}var i=n(55),o=4;e.exports=r},function(e,t,n){function r(e){return i(e,o|a)}var i=n(55),o=1,a=4;e.exports=r},function(e,t){function n(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}e.exports=n},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e,t,n){t=n?void 0:t;var a=i(e,o,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=r.placeholder,a}var i=n(95),o=8;r.placeholder={},e.exports=r},function(e,t,n){var r=n(32),i=n(33),o=n(304),a=n(383),s=i(function(e){return e.push(void 0,o),r(a,void 0,e)});e.exports=s},function(e,t,n){var r=n(259),i=n(57),o=n(33),a=n(108),s=n(42),u=o(function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?r(e,i(t,1,a,!0),void 0,n):[]});e.exports=u},function(e,t,n){function r(e,t){var n=s(e)?i:o;return n(e,a(t,3))}var i=n(81),o=n(134),a=n(8),s=n(1);e.exports=r},function(e,t,n){function r(e,t){return i(o(e,t),1)}var i=n(57),o=n(27);e.exports=r},function(e,t,n){function r(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function i(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function o(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function a(e){return function(t){return e({},t)}}function s(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[t],a=i.slice(0,t);return o&&h.apply(a,o),t!=r&&h.apply(a,i.slice(t+1)),e.apply(this,a)}}function u(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}function c(e,t,n,h){function p(e,t){if(A.cap){var n=l.iterateeRearg[e];if(n)return E(t,n);var r=!S&&l.iterateeAry[e];if(r)return w(t,r)}return t}function d(e,t,n){return C||A.curry&&n>1?M(t,n):t}function m(e,t,n){if(A.fixed&&(k||!l.skipFixed[e])){var r=l.methodSpread[e],i=r&&r.start;return void 0===i?P(t,n):s(t,i)}return t}function y(e,t,n){return A.rearg&&n>1&&(O||!l.skipRearg[e])?W(t,l.methodRearg[e]||l.aryRearg[n]):t}function v(e,t){t=H(t);for(var n=-1,r=t.length,i=r-1,o=L(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],u=a[s];null==u||q(u)||F(u)||B(u)||(a[s]=L(n==i?u:Object(u))),a=a[s]}return o}function g(e){return Q.runInContext.convert(e)(void 0)}function b(e,t){var n=l.aliasToReal[e]||e,r=l.remap[n]||n,i=h;return function(e){var o=S?N:R,a=S?N[r]:t,s=D(D({},i),e);return c(o,n,a,s)}}function w(e,t){return T(e,function(e){return"function"==typeof e?i(e,t):e})}function E(e,t){
return T(e,function(e){var n=t.length;return r(W(i(e,n),t),n)})}function T(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=A.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function _(e,t,n){var r,i=l.aliasToReal[e]||e,s=t,c=G[i];return c?s=c(t):A.immutable&&(l.mutate.array[i]?s=u(t,o):l.mutate.object[i]?s=u(t,a(t)):l.mutate.set[i]&&(s=u(t,v))),j(K,function(e){return j(l.aryMethod[e],function(t){if(i==t){var n=l.methodSpread[i],o=n&&n.afterRearg;return r=o?m(i,y(i,s,e),e):y(i,m(i,s,e),e),r=p(i,r),r=d(i,r,e),!1}}),!r}),r||(r=s),r==t&&(r=C?M(r,1):function(){return t.apply(this,arguments)}),r.convert=b(i,t),r.placeholder=t.placeholder=n,r}var S="function"==typeof t,I=t===Object(t);if(I&&(h=n,n=t,t=void 0),null==n)throw new TypeError;h||(h={});var A={cap:!("cap"in h)||h.cap,curry:!("curry"in h)||h.curry,fixed:!("fixed"in h)||h.fixed,immutable:!("immutable"in h)||h.immutable,rearg:!("rearg"in h)||h.rearg},x=S?n:f,C="curry"in h&&h.curry,k="fixed"in h&&h.fixed,O="rearg"in h&&h.rearg,N=S?n.runInContext():void 0,R=S?n:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},P=R.ary,D=R.assign,L=R.clone,M=R.curry,j=R.forEach,U=R.isArray,F=R.isError,q=R.isFunction,B=R.isWeakMap,V=R.keys,W=R.rearg,z=R.toInteger,H=R.toPath,K=V(l.aryMethod),G={castArray:function(e){return function(){var t=arguments[0];return U(t)?e(o(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),o=r.length;return A.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:i(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!q(n))return e(n,Object(t));var r=[];return j(V(t),function(e){q(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),j(r,function(e){var t=e[1];q(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:z(t)+1;return M(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return M(e(t,n),r)}},runInContext:function(t){return function(n){return c(e,t(n),h)}}};if(!I)return _(t,n,x);var Q=n,Y=[];return j(K,function(e){j(l.aryMethod[e],function(e){var t=Q[l.remap[e]||e];t&&Y.push([e,_(e,t,Q)])})}),j(V(Q),function(e){var t=Q[e];if("function"==typeof t){for(var n=Y.length;n--;)if(Y[n][0]==e)return;t.convert=b(e,t),Y.push([e,t])}}),j(Y,function(e){Q[e[0]]=e[1]}),Q.convert=g,Q.placeholder=Q,j(V(Q),function(e){j(l.realToAlias[e]||[],function(t){Q[t]=Q[e]})}),Q}var l=n(369),f=n(37),h=Array.prototype.push;e.exports=c},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(356),assign:n(133),clone:n(359),curry:n(363),forEach:n(52),isArray:n(1),isError:n(375),isFunction:n(4),isWeakMap:n(379),iteratee:n(380),keys:n(59),rearg:n(386),toInteger:n(184),toPath:n(393)}},function(e,t,n){var r=n(65),i=r("unset",n(185));i.placeholder=n(37),e.exports=i},function(e,t,n){var r=n(25),i=n(146),o=Object.prototype,a=o.hasOwnProperty,s=i(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=s},function(e,t,n){var r=n(264),i=n(33),o=i(r);e.exports=o},function(e,t,n){function r(e){if(null==e)return!0;if(u(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||f(e)||a(e)))return!e.length;var t=o(e);if(t==h||t==p)return!e.size;if(l(e))return!i(e).length;for(var n in e)if(m.call(e,n))return!1;return!0}var i=n(59),o=n(21),a=n(39),s=n(1),u=n(12),c=n(40),l=n(35),f=n(67),h="[object Map]",p="[object Set]",d=Object.prototype,m=d.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==u||t==s||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}var i=n(9),o=n(5),a=n(66),s="[object DOMException]",u="[object Error]";e.exports=r},function(e,t,n){var r=n(267),i=n(60),o=n(102),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return i(e)&&e!=+e}var i=n(178);e.exports=r},function(e,t,n){var r=n(271),i=n(60),o=n(102),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(21),o=n(5),a="[object WeakMap]";e.exports=r},function(e,t,n){function r(e){return o("function"==typeof e?e:i(e,a))}var i=n(55),o=n(8),a=1;e.exports=r},function(e,t,n){var r=n(25),i=n(146),o=i(function(e,t,n){r(e,n,t)});e.exports=o},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(79),o="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){var r=n(87),i=n(94),o=i(function(e,t,n,i){r(e,t,n,i)});e.exports=o},function(e,t){function n(e){if("function"!=typeof e)throw new TypeError(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var r="Expected a function";e.exports=n},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(138),o=n(280),a=n(101),s=n(14);e.exports=r},function(e,t,n){var r=n(95),i=n(96),o=256,a=i(function(e,t){return r(e,o,void 0,void 0,void 0,t)});e.exports=a},function(e,t,n){function r(e,t){var n=s(e)?i:o;return n(e,u(a(t,3)))}var i=n(81),o=n(134),a=n(8),s=n(1),u=n(384);e.exports=r},function(e,t,n){function r(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],s=e.length;for(t=i(t,3);++r<s;){var u=e[r];t(u,r,e)&&(n.push(u),a.push(r))}return o(e,a),n}var i=n(8),o=n(281);e.exports=r},function(e,t,n){function r(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:i(e,t,n,r)}var i=n(88);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=e<0?-1:1;return t*a}return e===e?e:0}var i=n(392),o=1/0,a=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):u.test(e)?a:+e}var i=n(3),o=n(41),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){function r(e){return a(e)?i(e,c):s(e)?[e]:o(u(l(e)))}var i=n(24),o=n(34),a=n(1),s=n(41),u=n(169),c=n(14),l=n(22);e.exports=r},function(e,t,n){function r(e){return i(e,o(e))}var i=n(19),o=n(68);e.exports=r},function(e,t,n){function r(e,t,n){if(e=c(e),e&&(n||void 0===t))return e.replace(l,"");if(!e||!(t=i(t)))return e;var r=u(e),f=u(t),h=s(r,f),p=a(r,f)+1;return o(r,h,p).join("")}var i=n(89),o=n(92),a=n(289),s=n(141),u=n(106),c=n(22),l=/^\s+|\s+$/g;e.exports=r},function(e,t,n){function r(e,t,n){if(e=u(e),e&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=i(t)))return e;var r=s(e),l=a(r,s(t));return o(r,l).join("")}var i=n(89),o=n(92),a=n(141),s=n(106),u=n(22),c=/^\s+/;e.exports=r},function(e,t,n){var r=n(57),i=n(8),o=n(33),a=n(286),s=n(108),u=n(42),c=o(function(e){var t=u(e);return s(t)&&(t=void 0),a(r(e,1,s,!0),i(t,2))});e.exports=c},function(e,t,n){var r=n(300),i=r("toUpperCase");e.exports=i},function(e,t,n){function r(e){return null==e?[]:i(e,o(e))}var i=n(287),o=n(16);e.exports=r},function(e,t,n){function r(e){if(u(e)&&!s(e)&&!(e instanceof i)){if(e instanceof o)return e;if(f.call(e,"__wrapped__"))return c(e)}return new o(e)}var i=n(77),o=n(125),a=n(86),s=n(1),u=n(5),c=n(355),l=Object.prototype,f=l.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,e.exports=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):y=-1,d.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=d.length;t;){for(p=d,d=[];++y<t;)p&&p[y].run();y=-1,t=d.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,d=[],m=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=n(186);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return o;if(e===!1)return a;if(0===e)return c;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"==typeof u){var c=new i(u.bind(s));return void c.then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){c=!1,s._10=null,s._97=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=l++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,l=0,f={};s._10=function(e){2===e._81&&f[e._72]&&(f[e._72].logged?n(e._72):clearTimeout(f[e._72].timeout),delete f[e._72])},s._97=function(e,n){0===e._45&&(e._72=i++,f[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(186),u=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";function r(){}function i(){}var o=n(405);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;e=Error(t.replace(/%s/g,function(){return u[c++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}function a(e,t,n,r,i,a,s,u,c){ci=!1,li=null,o.apply(pi,arguments)}function s(e,t,n,r,o,s,u,c,l){if(a.apply(this,arguments),ci){if(ci){var f=li;ci=!1,li=null}else i("198"),f=void 0;fi||(fi=!0,hi=f)}}function u(){if(di)for(var e in mi){var t=mi[e],n=di.indexOf(e);if(-1<n?void 0:i("96",e),!yi[n]){t.extractEvents?void 0:i("97",e),yi[n]=t,n=t.eventTypes;for(var r in n){var o=void 0,a=n[r],s=t,u=r;vi.hasOwnProperty(u)?i("99",u):void 0,vi[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&c(l[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;o?void 0:i("98",r,e)}}}}function c(e,t,n){gi[e]?i("100",e):void 0,gi[e]=t,bi[e]=t.eventTypes[n].dependencies}function l(e,t,n){var r=e.type||"unknown-event";e.currentTarget=Ti(n),s(r,t,void 0,e),e.currentTarget=null}function f(e,t){return null==t?i("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function h(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function p(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)l(e,t[r],n[r]);else t&&l(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function d(e,t){var n=e.stateNode;if(!n)return null;var r=wi(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n?i("231",t,typeof n):void 0,n)}function m(e){if(null!==e&&(_i=f(_i,e)),e=_i,_i=null,e&&(h(e,p),_i?i("95"):void 0,fi))throw e=hi,fi=!1,hi=null,e}function y(e){if(e[Ai])return e[Ai];for(;!e[Ai];){if(!e.parentNode)return null;e=e.parentNode}return e=e[Ai],5===e.tag||6===e.tag?e:null}function v(e){return e=e[Ai],!e||5!==e.tag&&6!==e.tag?null:e}function g(e){return 5===e.tag||6===e.tag?e.stateNode:void i("33")}function b(e){return e[xi]||null}function w(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function E(e,t,n){(t=d(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=f(n._dispatchListeners,t),n._dispatchInstances=f(n._dispatchInstances,e))}function T(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=w(t);for(t=n.length;0<t--;)E(n[t],"captured",e);for(t=0;t<n.length;t++)E(n[t],"bubbled",e)}}function _(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=d(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=f(n._dispatchListeners,t),n._dispatchInstances=f(n._dispatchInstances,e))}function S(e){e&&e.dispatchConfig.registrationName&&_(e._targetInst,null,e)}function I(e){h(e,T)}function A(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function x(e){if(Oi[e])return Oi[e];if(!ki[e])return e;var t,n=ki[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ni)return Oi[e]=n[t];return e}function C(){if(Fi)return Fi;var e,t,n=Ui,r=n.length,i="value"in ji?ji.value:ji.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Fi=i.slice(e,1<t?1-t:void 0)}function k(){return!0}function O(){return!1}function N(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?k:O,this.isPropagationStopped=O,this}function R(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function P(e){e instanceof this?void 0:i("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function D(e){e.eventPool=[],e.getPooled=R,e.release=P}function L(e,t){switch(e){case"keyup":return-1!==Vi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function M(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function j(e,t){switch(e){case"compositionend":return M(t);case"keypress":return 32!==t.which?null:(Yi=!0,Gi);case"textInput":return e=t.data,e===Gi&&Yi?null:e;default:return null}}function U(e,t){if(Xi)return"compositionend"===e||!Wi&&L(e,t)?(e=C(),Fi=Ui=ji=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ki&&"ko"!==t.locale?null:t.data;default:return null}}function F(e){if(e=Ei(e)){"function"!=typeof Ji?i("280"):void 0;var t=wi(e.stateNode);Ji(e.stateNode,e.type,t)}}function q(e){Zi?eo?eo.push(e):eo=[e]:Zi=e}function B(){if(Zi){var e=Zi,t=eo;if(eo=Zi=null,F(e),t)for(e=0;e<t.length;e++)F(t[e])}}function V(e,t){return e(t)}function W(e,t,n){return e(t,n)}function z(){}function H(e,t){if(to)return e(t);to=!0;try{return V(e,t)}finally{to=!1,(null!==Zi||null!==eo)&&(z(),B())}}function K(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!no[e.type]:"textarea"===t}function G(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Q(e){if(!Ci)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $(e){e._valueTracker||(e._valueTracker=X(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function Z(e){return null===e||"object"!=typeof e?null:(e=bo&&e[bo]||e["@@iterator"],"function"==typeof e?e:null)}function ee(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case po:return"ConcurrentMode";case uo:return"Fragment";case so:return"Portal";case lo:return"Profiler";case co:return"StrictMode";case yo:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case ho:return"Context.Consumer";case fo:return"Context.Provider";case mo:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case vo:return ee(e.type);case go:if(e=1===e._status?e._result:null)return ee(e)}return null}function te(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ee(e.type);n=null,r&&(n=ee(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(io,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ne(e){return!!Eo.call(_o,e)||!Eo.call(To,e)&&(wo.test(e)?_o[e]=!0:(To[e]=!0,!1))}function re(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function ie(e,t,n,r){if(null===t||"undefined"==typeof t||re(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function oe(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function ae(e){return e[1].toUpperCase()}function se(e,t,n,r){var i=So.hasOwnProperty(t)?So[t]:null,o=null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||(ie(t,n,i,r)&&(n=null),r||null===i?ne(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function ue(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ce(e,t){var n=t.checked;return si({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function le(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ue(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function fe(e,t){t=t.checked,null!=t&&se(e,"checked",t,!1)}function he(e,t){fe(e,t);var n=ue(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?de(e,t.type,n):t.hasOwnProperty("defaultValue")&&de(e,t.type,ue(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function de(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function me(e,t,n){return e=N.getPooled(Ao.change,e,t,n),e.type="change",q(n),I(e),e}function ye(e){m(e)}function ve(e){var t=g(e);if(J(t))return e}function ge(e,t){if("change"===e)return t}function be(){xo&&(xo.detachEvent("onpropertychange",we),Co=xo=null)}function we(e){"value"===e.propertyName&&ve(Co)&&(e=me(Co,e,G(e)),H(ye,e))}function Ee(e,t,n){"focus"===e?(be(),xo=t,Co=n,xo.attachEvent("onpropertychange",we)):"blur"===e&&be()}function Te(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ve(Co)}function _e(e,t){if("click"===e)return ve(t)}function Se(e,t){if("input"===e||"change"===e)return ve(t)}function Ie(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ro[e])&&!!t[e]}function Ae(){return Ie}function xe(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function Ce(e,t){if(xe(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Bo.call(t,n[r])||!xe(e[n[r]],t[n[r]]))return!1;return!0}function ke(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Oe(e){2!==ke(e)?i("188"):void 0}function Ne(e){var t=e.alternate;if(!t)return t=ke(e),3===t?i("188"):void 0,1===t?null:e;for(var n=e,r=t;;){
var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Oe(o),e;if(s===r)return Oe(o),t;s=s.sibling}i("188")}if(n.return!==r.return)n=o,r=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}s?void 0:i("189")}}n.alternate!==r?i("190"):void 0}return 3!==n.tag?i("188"):void 0,n.stateNode.current===n?e:t}function Re(e){if(e=Ne(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Pe(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function De(e,t){var n=e[0];e=e[1];var r="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},Zo[e]=t,ea[n]=t}function Le(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(r=3!==r.tag?null:r.stateNode.containerInfo,!r)break;e.ancestors.push(n),n=y(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=G(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<yi.length;s++){var u=yi[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=f(a,u))}m(a)}}function Me(e,t){if(!t)return null;var n=(na(e)?Ue:Fe).bind(null,e);t.addEventListener(e,n,!1)}function je(e,t){if(!t)return null;var n=(na(e)?Ue:Fe).bind(null,e);t.addEventListener(e,n,!0)}function Ue(e,t){W(Fe,e,t)}function Fe(e,t){if(ia){var n=G(t);if(n=y(n),null===n||"number"!=typeof n.tag||2===ke(n)||(n=null),ra.length){var r=ra.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{H(Le,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ra.length&&ra.push(e)}}}function qe(e){return Object.prototype.hasOwnProperty.call(e,sa)||(e[sa]=aa++,oa[e[sa]]={}),oa[e[sa]]}function Be(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ve(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function We(e,t){var n=Ve(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ve(n)}}function ze(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ze(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function He(){for(var e=window,t=Be();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=Be(e.document)}return t}function Ke(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ge(){var e=He();if(Ke(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,c=0,l=e,f=null;t:for(;;){for(var h;l!==t||0!==r&&3!==l.nodeType||(a=o+r),l!==i||0!==n&&3!==l.nodeType||(s=o+n),3===l.nodeType&&(o+=l.nodeValue.length),null!==(h=l.firstChild);)f=l,l=h;for(;;){if(l===e)break t;if(f===t&&++u===r&&(a=o),f===i&&++c===n&&(s=o),null!==(h=l.nextSibling))break;l=f,f=l.parentNode}l=h}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}function Qe(e){var t=He(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ze(n.ownerDocument.documentElement,n)){if(null!==r&&Ke(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=We(n,o);var a=We(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}function Ye(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return pa||null==la||la!==Be(n)?null:(n=la,"selectionStart"in n&&Ke(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ha&&Ce(ha,n)?null:(ha=n,e=N.getPooled(ca.select,fa,e,t),e.type="select",e.target=la,I(e),e))}function Xe(e){var t="";return ai.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function $e(e,t){return e=si({children:void 0},t),(t=Xe(t.children))&&(e.children=t),e}function Je(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ue(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ze(e,t){return null!=t.dangerouslySetInnerHTML?i("91"):void 0,si({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function et(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n?i("92"):void 0,Array.isArray(t)&&(1>=t.length?void 0:i("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:ue(n)}}function tt(e,t){var n=ue(t.value),r=ue(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function nt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function rt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function ot(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function at(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function st(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=at(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function ut(e,t){t&&(wa[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?i("137",e,""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?i("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML?void 0:i("61")),null!=t.style&&"object"!=typeof t.style?i("62",""):void 0)}function ct(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function lt(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=qe(e);t=bi[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":je("scroll",e);break;case"focus":case"blur":je("focus",e),je("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Q(i)&&je(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===Mi.indexOf(i)&&Me(i,e)}n[i]=!0}}}function ft(){}function ht(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function pt(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function dt(e,t,n,r,i){e[xi]=i,"input"===n&&"radio"===i.type&&null!=i.name&&fe(e,i),ct(n,r),r=ct(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?st(e,s):"dangerouslySetInnerHTML"===a?va(e,s):"children"===a?ot(e,s):se(e,a,s,r)}switch(n){case"input":he(e,i);break;case"textarea":tt(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Je(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Je(e,!!i.multiple,i.defaultValue,!0):Je(e,!!i.multiple,i.multiple?[]:"",!1))}}function mt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function yt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function vt(e){0>Ca||(e.current=xa[Ca],xa[Ca]=null,Ca--)}function gt(e,t){Ca++,xa[Ca]=e.current,e.current=t}function bt(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wt(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Et(e){vt(Na,e),vt(Oa,e)}function Tt(e){vt(Na,e),vt(Oa,e)}function _t(e,t,n){Oa.current!==ka?i("168"):void 0,gt(Oa,t,e),gt(Na,n,e)}function St(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;r=r.getChildContext();for(var o in r)o in e?void 0:i("108",ee(t)||"Unknown",o);return si({},n,r)}function It(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ka,Ra=Oa.current,gt(Oa,t,e),gt(Na,Na.current,e),!0}function At(e,t,n){var r=e.stateNode;r?void 0:i("169"),n?(t=St(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=t,vt(Na,e),vt(Oa,e),gt(Oa,t,e)):vt(Na,e),gt(Na,n,e)}function xt(e){return function(t){try{return e(t)}catch(e){}}}function Ct(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Pa=xt(function(e){return t.onCommitFiberRoot(n,e)}),Da=xt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function kt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ot(e,t,n,r){return new kt(e,t,n,r)}function Nt(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rt(e){if("function"==typeof e)return Nt(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===mo)return 11;if(e===vo)return 14}return 2}function Pt(e,t){var n=e.alternate;return null===n?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dt(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Nt(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case uo:return Lt(n.children,o,a,t);case po:return Mt(n,3|o,a,t);case co:return Mt(n,2|o,a,t);case lo:return e=Ot(12,n,t,4|o),e.elementType=lo,e.type=lo,e.expirationTime=a,e;case yo:return e=Ot(13,n,t,o),e.elementType=yo,e.type=yo,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fo:s=10;break e;case ho:s=9;break e;case mo:s=11;break e;case vo:s=14;break e;case go:s=16,r=null;break e}i("130",null==e?e:typeof e,"")}return t=Ot(s,n,t,o),t.elementType=e,t.type=r,t.expirationTime=a,t}function Lt(e,t,n,r){return e=Ot(7,e,r,t),e.expirationTime=n,e}function Mt(e,t,n,r){return e=Ot(8,e,r,t),t=0===(1&t)?co:po,e.elementType=t,e.type=t,e.expirationTime=n,e}function jt(e,t,n){return e=Ot(6,e,null,t),e.expirationTime=n,e}function Ut(e,t,n){return t=Ot(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ft(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Wt(t,e)}function qt(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),n=e.earliestSuspendedTime,0===n?Ft(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Ft(e,t)):t>n&&Ft(e,t)}Wt(0,e)}function Bt(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),Wt(t,e)}function Vt(e,t){var n=e.earliestPendingTime;return e=e.earliestSuspendedTime,n>t&&(t=n),e>t&&(t=e),t}function Wt(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;i=0!==i?i:o,0===i&&(0===e||r<e)&&(i=r),e=i,0!==e&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function zt(e,t){if(e&&e.defaultProps){t=si({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function Ht(e){var t=e._result;switch(e._status){case 1:return t;case 2:throw t;case 0:throw t;default:switch(e._status=0,t=e._ctor,t=t(),t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}function Kt(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:si({},t,n),e.memoizedState=n,r=e.updateQueue,null!==r&&0===e.expirationTime&&(r.baseState=n)}function Gt(e,t,n,r,i,o,a){return e=e.stateNode,"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ce(n,r)||!Ce(i,o))}function Qt(e,t,n){var r=!1,i=ka,o=t.contextType;return"object"==typeof o&&null!==o?o=Bn(o):(i=wt(t)?Ra:Oa.current,r=t.contextTypes,o=(r=null!==r&&void 0!==r)?bt(e,i):ka),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function Xt(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=La;var o=t.contextType;"object"==typeof o&&null!==o?i.context=Bn(o):(o=wt(t)?Ra:Oa.current,i.context=bt(e,o)),o=e.updateQueue,null!==o&&(Xn(e,o,n,i,r),i.state=e.memoizedState),o=t.getDerivedStateFromProps,"function"==typeof o&&(Kt(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ma.enqueueReplaceState(i,i.state,null),o=e.updateQueue,null!==o&&(Xn(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function $t(e,t,n){if(e=n.ref,null!==e&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag?i("309"):void 0,r=n.stateNode),r?void 0:i("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===La&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}"string"!=typeof e?i("284"):void 0,n._owner?void 0:i("290",e)}return e}function Jt(e,t){"textarea"!==e.type&&i("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Zt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return e=Pt(e,t,n),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n)):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=jt(n,e.mode,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props,r),r.ref=$t(e,t,n),r.return=e,r):(r=Dt(n.type,n.key,n.props,null,e.mode,r),r.ref=$t(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ut(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[],r),t.return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?(t=Lt(n,e.mode,r,i),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return t=jt(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ao:return n=Dt(t.type,t.key,t.props,null,e.mode,n),n.ref=$t(e,null,t),n.return=e,n;case so:return t=Ut(t,e.mode,n),t.return=e,t}if(ja(t)||Z(t))return t=Lt(t,e.mode,n,null),t.return=e,t;Jt(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ao:return n.key===i?n.type===uo?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case so:return n.key===i?l(e,t,n,r):null}if(ja(n)||Z(n))return null!==i?null:f(e,t,n,r,null);Jt(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ao:return e=e.get(null===r.key?n:r.key)||null,r.type===uo?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case so:return e=e.get(null===r.key?n:r.key)||null,l(t,e,r,i)}if(ja(r)||Z(r))return e=e.get(n)||null,f(t,e,r,i,null);Jt(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,f=o,m=o=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=p(i,f,s[m],u);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(i,f),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v,f=y}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)(f=h(i,s[m],u))&&(o=a(f,o,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)(y=d(f,i,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),o=a(y,o,m),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach(function(e){return t(i,e)}),c}function y(o,s,u,c){var l=Z(u);"function"!=typeof l?i("150"):void 0,u=l.call(u),null==u?i("151"):void 0;for(var f=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(o,m,g.value,c);if(null===b){m||(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,y),null===f?l=b:f.sibling=b,f=b,m=v}if(g.done)return n(o,m),l;if(null===m){for(;!g.done;y++,g=u.next())g=h(o,g.value,c),null!==g&&(s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(o,m);!g.done;y++,g=u.next())g=d(m,o,y,g.value,c),null!==g&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach(function(e){return t(o,e)}),l}return function(e,r,a,u){var c="object"==typeof a&&null!==a&&a.type===uo&&null===a.key;c&&(a=a.props.children);var l="object"==typeof a&&null!==a;if(l)switch(a.$$typeof){case ao:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?a.type===uo:c.elementType===a.type){n(e,c.sibling),r=o(c,a.type===uo?a.props.children:a.props,u),r.ref=$t(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===uo?(r=Lt(a.props.children,e.mode,u,a.key),r.return=e,e=r):(u=Dt(a.type,a.key,a.props,null,e.mode,u),u.ref=$t(e,r,a),u.return=e,e=u)}return s(e);case so:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),r=o(r,a.children||[],u),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=Ut(a,e.mode,u),r.return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),r=o(r,a,u),r.return=e,e=r):(n(e,r),r=jt(a,e.mode,u),r.return=e,e=r),s(e);if(ja(a))return m(e,r,a,u);if(Z(a))return y(e,r,a,u);if(l&&Jt(e,a),"undefined"==typeof a&&!c)switch(e.tag){case 1:case 0:u=e.type,i("152",u.displayName||u.name||"Component")}return n(e,r)}}function en(e){return e===qa?i("174"):void 0,e}function tn(e,t){gt(Wa,t,e),gt(Va,e,e),gt(Ba,qa,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:it(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=it(t,n)}vt(Ba,e),gt(Ba,t,e)}function nn(e){vt(Ba,e),vt(Va,e),vt(Wa,e)}function rn(e){en(Wa.current);var t=en(Ba.current),n=it(t,e.type);t!==n&&(gt(Va,e,e),gt(Ba,n,e))}function on(e){Va.current===e&&(vt(Ba,e),vt(Va,e))}function an(){i("321")}function sn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xe(e[n],t[n]))return!1;return!0}function un(e,t,n,r,o,a){if(Za=a,es=t,ns=null!==e?e.memoizedState:null,Ja.current=null===ns?ps:ds,t=n(r,o),cs){do cs=!1,fs+=1,ns=null!==e?e.memoizedState:null,os=rs,ss=is=ts=null,Ja.current=ds,t=n(r,o);while(cs);ls=null,fs=0}return Ja.current=hs,e=es,e.memoizedState=rs,e.expirationTime=as,e.updateQueue=ss,e.effectTag|=us,e=null!==ts&&null!==ts.next,Za=0,os=is=rs=ns=ts=es=null,as=0,ss=null,us=0,e?i("300"):void 0,t}function cn(){Ja.current=hs,Za=0,os=is=rs=ns=ts=es=null,as=0,ss=null,us=0,cs=!1,ls=null,fs=0}function ln(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===is?rs=is=e:is=is.next=e,is}function fn(){if(null!==os)is=os,os=is.next,ts=ns,ns=null!==ts?ts.next:null;else{null===ns?i("310"):void 0,ts=ns;var e={memoizedState:ts.memoizedState,baseState:ts.baseState,queue:ts.queue,baseUpdate:ts.baseUpdate,next:null};is=null===is?rs=e:is.next=e,ns=ts.next}return is}function hn(e,t){return"function"==typeof t?t(e):t}function pn(e){var t=fn(),n=t.queue;if(null===n?i("311"):void 0,n.lastRenderedReducer=e,0<fs){var r=n.dispatch;if(null!==ls){var o=ls.get(n);if(void 0!==o){ls.delete(n);var a=t.memoizedState;do a=e(a,o.action),o=o.next;while(null!==o);return xe(a,t.memoizedState)||(bs=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.lastRenderedState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=o=null,c=r,l=!1;do{var f=c.expirationTime;f<Za?(l||(l=!0,u=s,o=a),f>as&&(as=f)):a=c.eagerReducer===e?c.eagerState:e(a,c.action),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,o=a),xe(a,t.memoizedState)||(bs=!0),t.memoizedState=a,t.baseUpdate=u,t.baseState=o,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function dn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ss?(ss={lastEffect:null},ss.lastEffect=e.next=e):(t=ss.lastEffect,null===t?ss.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ss.lastEffect=e)),e}function mn(e,t,n,r){var i=ln();us|=e,i.memoizedState=dn(t,n,void 0,void 0===r?null:r)}function yn(e,t,n,r){var i=fn();r=void 0===r?null:r;var o=void 0;if(null!==ts){var a=ts.memoizedState;if(o=a.destroy,null!==r&&sn(r,a.deps))return void dn(za,n,o,r)}us|=e,i.memoizedState=dn(t,n,o,r)}function vn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function gn(){}function bn(e,t,n){25>fs?void 0:i("301");var r=e.alternate;if(e===es||null!==r&&r===es)if(cs=!0,e={expirationTime:Za,action:n,eagerReducer:null,eagerState:null,next:null},null===ls&&(ls=new Map),n=ls.get(t),void 0===n)ls.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{gr();var o=Lr();o=Sr(o,e);var a={expirationTime:o,action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)a.next=a;else{var u=s.next;null!==u&&(a.next=u),s.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&(r=t.lastRenderedReducer,null!==r))try{var c=t.lastRenderedState,l=r(c,n);if(a.eagerReducer=r,a.eagerState=l,xe(l,c))return}catch(e){}finally{}Cr(e,o)}}function wn(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function En(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function Tn(e){if(vs){var t=ys;if(t){var n=t;if(!En(e,t)){if(t=mt(n),!t||!En(e,t))return e.effectTag|=2,vs=!1,void(ms=e);wn(ms,n)}ms=e,ys=yt(t)}else e.effectTag|=2,vs=!1,ms=e}}function _n(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;ms=e}function Sn(e){if(e!==ms)return!1;if(!vs)return _n(e),vs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!pt(t,e.memoizedProps))for(t=ys;t;)wn(e,t),t=mt(t);return _n(e),ys=ms?mt(e.stateNode):null,!0}function In(){ys=ms=null,vs=!1}function An(e,t,n,r){t.child=null===e?Fa(t,null,n,r):Ua(t,e.child,n,r)}function xn(e,t,n,r,i){n=n.render;var o=t.ref;return qn(t,i),r=un(e,t,n,r,o,i),null===e||bs?(t.effectTag|=1,An(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Mn(e,t,i))}function Cn(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Nt(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=Dt(n.type,null,r,null,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,kn(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,n=n.compare,n=null!==n?n:Ce,n(i,r)&&e.ref===t.ref)?Mn(e,t,o):(t.effectTag|=1,e=Pt(a,r,o),e.ref=t.ref,e.return=t,t.child=e)}function kn(e,t,n,r,i,o){return null!==e&&Ce(e.memoizedProps,r)&&e.ref===t.ref&&(bs=!1,i<o)?Mn(e,t,o):Nn(e,t,n,r,o)}function On(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Nn(e,t,n,r,i){var o=wt(n)?Ra:Oa.current;return o=bt(t,o),qn(t,i),n=un(e,t,n,r,o,i),null===e||bs?(t.effectTag|=1,An(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Mn(e,t,i))}function Rn(e,t,n,r,i){if(wt(n)){var o=!0;It(t)}else o=!1;if(qn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Qt(t,n,r,i),Xt(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Bn(c):(c=wt(n)?Ra:Oa.current,c=bt(t,c));var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Yt(t,a,r,c),Cs=!1;var h=t.memoizedState;u=a.state=h;var p=t.updateQueue;null!==p&&(Xn(t,p,r,a,i),u=t.memoizedState),s!==r||h!==u||Na.current||Cs?("function"==typeof l&&(Kt(t,n,l,r),u=t.memoizedState),(s=Cs||Gt(t,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:zt(t.type,s),u=a.context,c=n.contextType,"object"==typeof c&&null!==c?c=Bn(c):(c=wt(n)?Ra:Oa.current,c=bt(t,c)),l=n.getDerivedStateFromProps,(f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Yt(t,a,r,c),Cs=!1,u=t.memoizedState,h=a.state=u,p=t.updateQueue,null!==p&&(Xn(t,p,r,a,i),h=t.memoizedState),s!==r||u!==h||Na.current||Cs?("function"==typeof l&&(Kt(t,n,l,r),h=t.memoizedState),(l=Cs||Gt(t,n,s,r,u,h,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Pn(e,t,n,r,o,i)}function Pn(e,t,n,r,i,o){On(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&At(t,n,!1),Mn(e,t,o);r=t.stateNode,gs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ua(t,e.child,null,o),t.child=Ua(t,null,s,o)):An(e,t,s,o),t.memoizedState=r.state,i&&At(t,n,!0),t.child}function Dn(e){var t=e.stateNode;t.pendingContext?_t(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_t(e,t.context,!1),tn(e,t.containerInfo)}function Ln(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0===(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;
if(null===e)if(a){var s=i.fallback;e=Lt(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Lt(s,r,n,null),e.sibling=r,n=e,n.return=r.return=t}else n=r=Fa(t,null,i.children,n);else null!==e.memoizedState?(r=e.child,s=r.sibling,a?(n=i.fallback,i=Pt(r,r.pendingProps,0),0===(1&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child,a!==r.child&&(i.child=a)),r=i.sibling=Pt(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=Ua(t,r.child,i.children,n)):(s=e.child,a?(a=i.fallback,i=Lt(null,r,0,null),i.child=s,0===(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),r=i.sibling=Lt(a,r,n,null),r.effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=Ua(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Mn(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child?i("153"):void 0,null!==t.child){for(e=t.child,n=Pt(e,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Pt(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function jn(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Na.current)bs=!0;else if(r<n){switch(bs=!1,t.tag){case 3:Dn(t),In();break;case 5:rn(t);break;case 1:wt(t.type)&&It(t);break;case 4:tn(t,t.stateNode.containerInfo);break;case 10:Un(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return r=t.child.childExpirationTime,0!==r&&r>=n?Ln(e,t,n):(t=Mn(e,t,n),null!==t?t.sibling:null)}return Mn(e,t,n)}}else bs=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=bt(t,Oa.current);if(qn(t,n),o=un(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,cn(),wt(r)){var a=!0;It(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Kt(t,r,s,e),o.updater=Ma,t.stateNode=o,o._reactInternalFiber=t,Xt(t,r,e,n),t=Pn(null,t,r,!0,a,n)}else t.tag=0,An(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=Ht(o),t.type=e,o=t.tag=Rt(e),a=zt(e,a),s=void 0,o){case 0:s=Nn(null,t,e,a,n);break;case 1:s=Rn(null,t,e,a,n);break;case 11:s=xn(null,t,e,a,n);break;case 14:s=Cn(null,t,e,zt(e.type,a),r,n);break;default:i("306",e,"")}return s;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:zt(r,o),Nn(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:zt(r,o),Rn(e,t,r,o,n);case 3:return Dn(t),r=t.updateQueue,null===r?i("282"):void 0,o=t.memoizedState,o=null!==o?o.element:null,Xn(t,r,t.pendingProps,null,n),r=t.memoizedState.element,r===o?(In(),t=Mn(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(ys=yt(t.stateNode.containerInfo),ms=t,o=vs=!0),o?(t.effectTag|=2,t.child=Fa(t,null,r,n)):(An(e,t,r,n),In()),t=t.child),t;case 5:return rn(t),null===e&&Tn(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,pt(r,o)?s=null:null!==a&&pt(r,a)&&(t.effectTag|=16),On(e,t),1!==n&&1&t.mode&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(An(e,t,s,n),t=t.child),t;case 6:return null===e&&Tn(t),null;case 13:return Ln(e,t,n);case 4:return tn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ua(t,null,r,n):An(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:zt(r,o),xn(e,t,r,o,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Un(t,a),null!==s){var u=s.value;if(a=xe(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823),0===a){if(s.children===o.children&&!Na.current){t=Mn(e,t,n);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var c=u.contextDependencies;if(null!==c){s=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&(l=zn(n),l.tag=As,Kn(u,l)),u.expirationTime<n&&(u.expirationTime=n),l=u.alternate,null!==l&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var f=u.return;null!==f;){var h=f.alternate;if(f.childExpirationTime<l)f.childExpirationTime=l,null!==h&&h.childExpirationTime<l&&(h.childExpirationTime=l);else{if(!(null!==h&&h.childExpirationTime<l))break;h.childExpirationTime=l}f=f.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(u=s.sibling,null!==u){u.return=s.return,s=u;break}s=s.return}u=s}}An(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps,r=a.children,qn(t,n),o=Bn(o,a.unstable_observedBits),r=r(o),t.effectTag|=1,An(e,t,r,n),t.child;case 14:return o=t.type,a=zt(o,t.pendingProps),a=zt(o.type,a),Cn(e,t,o,a,r,n);case 15:return kn(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:zt(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wt(r)?(e=!0,It(t)):e=!1,qn(t,n),Qt(t,r,o,n),Xt(t,r,o,n),Pn(null,t,r,!0,e,n)}i("156")}function Un(e,t){var n=e.type._context;gt(ws,n._currentValue,e),n._currentValue=t}function Fn(e){var t=ws.current;vt(ws,e),e.type._context._currentValue=t}function qn(e,t){Es=e,_s=Ts=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(bs=!0),e.contextDependencies=null}function Bn(e,t){return _s!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(_s=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ts?(null===Es?i("308"):void 0,Ts=t,Es.contextDependencies={first:t,expirationTime:0}):Ts=Ts.next=t),e._currentValue}function Vn(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Wn(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function zn(e){return{expirationTime:e,tag:Ss,payload:null,callback:null,next:null,nextEffect:null}}function Hn(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Kn(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Vn(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Vn(e.memoizedState),i=n.updateQueue=Vn(n.memoizedState)):r=e.updateQueue=Wn(i):null===i&&(i=n.updateQueue=Wn(r));null===i||r===i?Hn(r,t):null===r.lastUpdate||null===i.lastUpdate?(Hn(r,t),Hn(i,t)):(Hn(r,t),i.lastUpdate=t)}function Gn(e,t){var n=e.updateQueue;n=null===n?e.updateQueue=Vn(e.memoizedState):Qn(e,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Qn(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Wn(t)),t}function Yn(e,t,n,r,i,o){switch(n.tag){case Is:return e=n.payload,"function"==typeof e?e.call(o,r,i):e;case xs:e.effectTag=e.effectTag&-2049|64;case Ss:if(e=n.payload,i="function"==typeof e?e.call(o,r,i):e,null===i||void 0===i)break;return si({},r,i);case As:Cs=!0}return r}function Xn(e,t,n,r,i){Cs=!1,t=Qn(e,t);for(var o=t.baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(c=Yn(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=Yn(e,t,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function $n(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Jn(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Jn(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Jn(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n?i("191",n):void 0,n.call(r)}e=e.nextEffect}}function Zn(e,t){return{value:e,source:t,stack:te(t)}}function er(e){e.effectTag|=4}function tr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=te(n)),null!==n&&ee(n.type),t=t.value,null!==e&&1===e.tag&&ee(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function nr(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){_r(e,t)}else t.current=null}function rr(e,t,n){if(n=n.updateQueue,n=null!==n?n.lastEffect:null,null!==n){var r=n=n.next;do{if((r.tag&e)!==za){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==za&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ir(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=at("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){r=n.child.sibling,r.return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function or(e){switch("function"==typeof Da&&Da(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&(t=t.lastEffect,null!==t)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){_r(i,e)}}n=n.next}while(n!==t)}break;case 1:if(nr(e),t=e.stateNode,"function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){_r(e,t)}break;case 5:nr(e);break;case 4:ur(e)}}function ar(e){return 5===e.tag||3===e.tag||4===e.tag}function sr(e){e:{for(var t=e.return;null!==t;){if(ar(t)){var n=t;break e}t=t.return}i("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:t=n.stateNode.containerInfo,r=!0;break;case 4:t=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(ot(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ar(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(r){var a=t,s=o.stateNode,u=n;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else t.insertBefore(o.stateNode,n);else r?(s=t,u=o.stateNode,8===s.nodeType?(a=s.parentNode,a.insertBefore(u,s)):(a=s,a.appendChild(u)),s=s._reactRootContainer,null!==s&&void 0!==s||null!==a.onclick||(a.onclick=ft)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function ur(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n?i("160"):void 0,n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:r=n.stateNode.containerInfo,o=!0;break e;case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var a=t,s=a;;)if(or(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=r,s=t.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(or(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function cr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:rr(Ka,Ga,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&dt(n,a,o,e,r,t)}break;case 6:null===t.stateNode?i("162"):void 0,t.stateNode.nodeValue=t.memoizedProps;break;case 3:break;case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Lr())),null!==e&&ir(e,r),n=t.updateQueue,null!==n){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new Ps),n.forEach(function(e){var n=Ar.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:i("163")}}function lr(e,t,n){n=zn(n),n.tag=xs,n.payload={element:null};var r=t.value;return n.callback=function(){zr(r),tr(e,t)},n}function fr(e,t,n){n=zn(n),n.tag=xs;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this));var n=t.value,i=t.stack;tr(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function hr(e){switch(e.tag){case 1:wt(e.type)&&Et(e);var t=e.effectTag;return 2048&t?(e.effectTag=t&-2049|64,e):null;case 3:return nn(e),Tt(e),t=e.effectTag,0!==(64&t)?i("285"):void 0,e.effectTag=t&-2049|64,e;case 5:return on(e),null;case 13:return t=e.effectTag,2048&t?(e.effectTag=t&-2049|64,e):null;case 18:return null;case 4:return nn(e),null;case 10:return Fn(e),null;default:return null}}function pr(){if(null!==Fs)for(var e=Fs.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Et(t);break;case 3:nn(t),Tt(t);break;case 5:on(t);break;case 4:nn(t);break;case 10:Fn(t)}e=e.return}qs=null,Bs=0,Vs=-1,Ws=!1,Fs=null}function dr(){for(;null!==zs;){var e=zs.effectTag;if(16&e&&ot(zs.stateNode,""),128&e){var t=zs.alternate;null!==t&&(t=t.ref,null!==t&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:sr(zs),zs.effectTag&=-3;break;case 6:sr(zs),zs.effectTag&=-3,cr(zs.alternate,zs);break;case 4:cr(zs.alternate,zs);break;case 8:e=zs,ur(e),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e=e.alternate,null!==e&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}zs=zs.nextEffect}}function mr(){for(;null!==zs;){if(256&zs.effectTag)e:{var e=zs.alternate,t=zs;switch(t.tag){case 0:case 11:case 15:rr(Ha,za,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:zt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:i("163")}}zs=zs.nextEffect}}function yr(e,t){for(;null!==zs;){var n=zs.effectTag;if(36&n){var r=zs.alternate,o=zs,a=t;switch(o.tag){case 0:case 11:case 15:rr(Qa,Ya,o);break;case 1:var s=o.stateNode;if(4&o.effectTag)if(null===r)s.componentDidMount();else{var u=o.elementType===o.type?r.memoizedProps:zt(o.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}r=o.updateQueue,null!==r&&$n(o,r,s,a);break;case 3:if(r=o.updateQueue,null!==r){if(s=null,null!==o.child)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}$n(o,r,s,a)}break;case 5:a=o.stateNode,null===r&&4&o.effectTag&&ht(o.type,o.memoizedProps)&&a.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:i("163")}}128&n&&(o=zs.ref,null!==o&&(a=zs.stateNode,"function"==typeof o?o(a):o.current=a)),512&n&&(Ks=e),zs=zs.nextEffect}}function vr(e,t){Qs=Gs=Ks=null;var n=eu;eu=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;rr($a,za,o),rr(za,Xa,o)}catch(e){r=!0,i=e}r&&_r(t,i)}t=t.nextEffect}while(null!==t);eu=n,n=e.expirationTime,0!==n&&Mr(e,n),au||eu||qr(1073741823,!1)}function gr(){null!==Gs&&Aa(Gs),null!==Qs&&Qs()}function br(e,t){Hs=Us=!0,e.current===t?i("177"):void 0;var n=e.pendingCommitExpirationTime;0===n?i("261"):void 0,e.pendingCommitExpirationTime=0;var r=t.expirationTime,o=t.childExpirationTime;for(qt(e,o>r?o:r),Ms.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,Ea=ia,Ta=Ge(),ia=!1,zs=r;null!==zs;){o=!1;var a=void 0;try{mr()}catch(e){o=!0,a=e}o&&(null===zs?i("178"):void 0,_r(zs,a),null!==zs&&(zs=zs.nextEffect))}for(zs=r;null!==zs;){o=!1,a=void 0;try{dr()}catch(e){o=!0,a=e}o&&(null===zs?i("178"):void 0,_r(zs,a),null!==zs&&(zs=zs.nextEffect))}for(Qe(Ta),Ta=null,ia=!!Ea,Ea=null,e.current=t,zs=r;null!==zs;){o=!1,a=void 0;try{yr(e,n)}catch(e){o=!0,a=e}o&&(null===zs?i("178"):void 0,_r(zs,a),null!==zs&&(zs=zs.nextEffect))}if(null!==r&&null!==Ks){var s=vr.bind(null,e,r);Gs=ui.unstable_runWithPriority(ui.unstable_NormalPriority,function(){return Ia(s)}),Qs=s}Us=Hs=!1,"function"==typeof Pa&&Pa(t.stateNode),n=t.expirationTime,t=t.childExpirationTime,t=t>n?t:n,0===t&&(Ys=null),Dr(e,t)}function wr(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){Fs=e;e:{var o=t;t=e;var a=Bs,s=t.pendingProps;switch(t.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:wt(t.type)&&Et(t);break;case 3:nn(t),Tt(t),s=t.stateNode,s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==o&&null!==o.child||(Sn(t),t.effectTag&=-3),Os(t);break;case 5:on(t);var u=en(Wa.current);if(a=t.type,null!==o&&null!=t.stateNode)Ns(o,t,a,s,u),o.ref!==t.ref&&(t.effectTag|=128);else if(s){var c=en(Ba.current);if(Sn(t)){s=t,o=s.stateNode;var l=s.type,f=s.memoizedProps,h=u;switch(o[Ai]=s,o[xi]=f,a=void 0,u=l){case"iframe":case"object":Me("load",o);break;case"video":case"audio":for(l=0;l<Mi.length;l++)Me(Mi[l],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"form":Me("reset",o),Me("submit",o);break;case"details":Me("toggle",o);break;case"input":le(o,f),Me("invalid",o),lt(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Me("invalid",o),lt(h,"onChange");break;case"textarea":et(o,f),Me("invalid",o),lt(h,"onChange")}ut(u,f),l=null;for(a in f)f.hasOwnProperty(a)&&(c=f[a],"children"===a?"string"==typeof c?o.textContent!==c&&(l=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(l=["children",""+c]):gi.hasOwnProperty(a)&&null!=c&&lt(h,a));switch(u){case"input":$(o),pe(o,f,!0);break;case"textarea":$(o),nt(o,f);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(o.onclick=ft)}a=l,s.updateQueue=a,s=null!==a,s&&er(t)}else{f=t,h=a,o=s,l=9===u.nodeType?u:u.ownerDocument,c===ma.html&&(c=rt(h)),c===ma.html?"script"===h?(o=l.createElement("div"),o.innerHTML="<script></script>",l=o.removeChild(o.firstChild)):"string"==typeof o.is?l=l.createElement(h,{is:o.is}):(l=l.createElement(h),"select"===h&&(h=l,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):l=l.createElementNS(c,h),o=l,o[Ai]=f,o[xi]=s,ks(o,t,!1,!1),h=o,l=a,f=s;var p=u,d=ct(l,f);switch(l){case"iframe":case"object":Me("load",h),u=f;break;case"video":case"audio":for(u=0;u<Mi.length;u++)Me(Mi[u],h);u=f;break;case"source":Me("error",h),u=f;break;case"img":case"image":case"link":Me("error",h),Me("load",h),u=f;break;case"form":Me("reset",h),Me("submit",h),u=f;break;case"details":Me("toggle",h),u=f;break;case"input":le(h,f),u=ce(h,f),Me("invalid",h),lt(p,"onChange");break;case"option":u=$e(h,f);break;case"select":h._wrapperState={wasMultiple:!!f.multiple},u=si({},f,{value:void 0}),Me("invalid",h),lt(p,"onChange");break;case"textarea":et(h,f),u=Ze(h,f),Me("invalid",h),lt(p,"onChange");break;default:u=f}ut(l,u),c=void 0;var m=l,y=h,v=u;for(c in v)if(v.hasOwnProperty(c)){var g=v[c];"style"===c?st(y,g):"dangerouslySetInnerHTML"===c?(g=g?g.__html:void 0,null!=g&&va(y,g)):"children"===c?"string"==typeof g?("textarea"!==m||""!==g)&&ot(y,g):"number"==typeof g&&ot(y,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(gi.hasOwnProperty(c)?null!=g&&lt(p,c):null!=g&&se(y,c,g,d))}switch(l){case"input":$(h),pe(h,f,!1);break;case"textarea":$(h),nt(h,f);break;case"option":null!=f.value&&h.setAttribute("value",""+ue(f.value));break;case"select":u=h,u.multiple=!!f.multiple,h=f.value,null!=h?Je(u,!!f.multiple,h,!1):null!=f.defaultValue&&Je(u,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof u.onClick&&(h.onclick=ft)}(s=ht(a,s))&&er(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode?i("166"):void 0;break;case 6:o&&null!=t.stateNode?Rs(o,t,o.memoizedProps,s):("string"!=typeof s&&(null===t.stateNode?i("166"):void 0),o=en(Wa.current),en(Ba.current),Sn(t)?(s=t,a=s.stateNode,o=s.memoizedProps,a[Ai]=s,(s=a.nodeValue!==o)&&er(t)):(a=t,s=(9===o.nodeType?o:o.ownerDocument).createTextNode(s),s[Ai]=t,a.stateNode=s));break;case 11:break;case 13:if(s=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=a,Fs=t;break e}s=null!==s,a=null!==o&&null!==o.memoizedState,null!==o&&!s&&a&&(o=o.child.sibling,null!==o&&(u=t.firstEffect,null!==u?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(s||a)&&(t.effectTag|=4);break;case 7:break;case 8:break;case 12:break;case 4:nn(t),Os(t);break;case 10:Fn(t);break;case 9:break;case 14:break;case 17:wt(t.type)&&Et(t);break;case 18:break;default:i("156")}Fs=null}if(t=e,1===Bs||1!==t.childExpirationTime){for(s=0,a=t.child;null!==a;)o=a.expirationTime,u=a.childExpirationTime,o>s&&(s=o),u>s&&(s=u),a=a.sibling;t.childExpirationTime=s}if(null!==Fs)return Fs;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(e=hr(e,Bs),null!==e)return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Er(e){var t=jn(e.alternate,e,Bs);return e.memoizedProps=e.pendingProps,null===t&&(t=wr(e)),Ms.current=null,t}function Tr(e,t){Us?i("243"):void 0,gr(),Us=!0;var n=Ls.current;Ls.current=hs;var r=e.nextExpirationTimeToWorkOn;r===Bs&&e===qs&&null!==Fs||(pr(),qs=e,Bs=r,Fs=Pt(qs.current,null,Bs),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==Fs&&!Ur();)Fs=Er(Fs);else for(;null!==Fs;)Fs=Er(Fs)}catch(t){if(_s=Ts=Es=null,cn(),null===Fs)o=!0,zr(t);else{null===Fs?i("271"):void 0;var a=Fs,s=a.return;if(null!==s){e:{var u=e,c=s,l=a,f=t;if(s=Bs,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==f&&"object"==typeof f&&"function"==typeof f.then){var h=f;f=c;var p=-1,d=-1;do{if(13===f.tag){var m=f.alternate;if(null!==m&&(m=m.memoizedState,null!==m)){d=10*(1073741822-m.timedOutAt);break}m=f.pendingProps.maxDuration,"number"==typeof m&&(0>=m?p=0:(-1===p||m<p)&&(p=m))}f=f.return}while(null!==f);f=c;do{if((m=13===f.tag)&&(m=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),m){if(c=f.updateQueue,null===c?(c=new Set,c.add(h),f.updateQueue=c):c.add(h),0===(1&f.mode)){f.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:(s=zn(1073741823),s.tag=As,Kn(l,s))),l.expirationTime=1073741823;break e}l=u,c=s;var y=l.pingCache;null===y?(y=l.pingCache=new Ds,m=new Set,y.set(h,m)):(m=y.get(h),void 0===m&&(m=new Set,y.set(h,m))),m.has(c)||(m.add(c),l=Ir.bind(null,l,h,c),h.then(l,l)),-1===p?u=1073741823:(-1===d&&(d=10*(1073741822-Vt(u,s))-5e3),u=d+p),0<=u&&Vs<u&&(Vs=u),f.effectTag|=2048,f.expirationTime=s;break e}f=f.return}while(null!==f);f=Error((ee(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+te(l))}Ws=!0,f=Zn(f,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,s=lr(u,f,s),Gn(u,s);break e;case 1:if(p=f,d=u.type,l=u.stateNode,0===(64&u.effectTag)&&("function"==typeof d.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===Ys||!Ys.has(l)))){u.effectTag|=2048,u.expirationTime=s,s=fr(u,p,s),Gn(u,s);break e}}u=u.return}while(null!==u)}Fs=wr(a);continue}o=!0,zr(t)}}break}if(Us=!1,Ls.current=n,_s=Ts=Es=null,cn(),o)qs=null,e.finishedWork=null;else if(null!==Fs)e.finishedWork=null;else{if(n=e.current.alternate,null===n?i("281"):void 0,qs=null,Ws){if(o=e.latestPendingTime,a=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o<r||0!==a&&a<r||0!==s&&s<r)return Bt(e,r),void Rr(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void Rr(e,n,r,t,-1)}t&&-1!==Vs?(Bt(e,r),t=10*(1073741822-Vt(e,r)),t<Vs&&(Vs=t),t=10*(1073741822-Lr()),t=Vs-t,Rr(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function _r(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))return e=Zn(t,e),e=fr(n,e,1073741823),Kn(n,e),void Cr(n,1073741823);break;case 3:return e=Zn(t,e),e=lr(n,e,1073741823),Kn(n,e),void Cr(n,1073741823)}n=n.return}3===e.tag&&(n=Zn(t,e),n=lr(e,n,1073741823),Kn(e,n),Cr(e,1073741823))}function Sr(e,t){var n=ui.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(Us&&!Hs)r=Bs;else{switch(n){case ui.unstable_ImmediatePriority:r=1073741823;break;case ui.unstable_UserBlockingPriority:r=1073741822-10*(((1073741822-e+15)/10|0)+1);break;case ui.unstable_NormalPriority:r=1073741822-25*(((1073741822-e+500)/25|0)+1);break;case ui.unstable_LowPriority:case ui.unstable_IdlePriority:r=1;break;default:i("313")}null!==qs&&r===Bs&&--r}return n===ui.unstable_UserBlockingPriority&&(0===ru||r<ru)&&(ru=r),r}function Ir(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==qs&&Bs===n?qs=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,t=e.latestPingedTime,(0===t||t>n)&&(e.latestPingedTime=n),Wt(n,e),n=e.expirationTime,0!==n&&Mr(e,n)))}function Ar(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Lr(),t=Sr(t,e),e=xr(e,t),null!==e&&(Ft(e,t),t=e.expirationTime,0!==t&&Mr(e,t))}function xr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Cr(e,t){e=xr(e,t),null!==e&&(!Us&&0!==Bs&&t>Bs&&pr(),Ft(e,t),Us&&!Hs&&qs===e||Mr(e,e.expirationTime),pu>hu&&(pu=0,i("185")))}function kr(e,t,n,r,i){return ui.unstable_runWithPriority(ui.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}function Or(){lu=1073741822-((ui.unstable_now()-cu)/10|0)}function Nr(e,t){if(0!==Js){if(t<Js)return;null!==Zs&&ui.unstable_cancelCallback(Zs)}Js=t,e=ui.unstable_now()-cu,Zs=ui.unstable_scheduleCallback(Fr,{timeout:10*(1073741822-t)-e})}function Rr(e,t,n,r,i){e.expirationTime=r,0!==i||Ur()?0<i&&(e.timeoutHandle=_a(Pr.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Pr(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Or(),fu=lu,Br(e,n)}function Dr(e,t){e.expirationTime=t,e.finishedWork=null}function Lr(){return eu?fu:(jr(),0!==nu&&1!==nu||(Or(),fu=lu),fu)}function Mr(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===$s?(Xs=$s=e,e.nextScheduledRoot=e):($s=$s.nextScheduledRoot=e,$s.nextScheduledRoot=Xs)):t>e.expirationTime&&(e.expirationTime=t),eu||(au?su&&(tu=e,nu=1073741823,Vr(e,1073741823,!1)):1073741823===t?qr(1073741823,!1):Nr(e,t))}function jr(){var e=0,t=null;if(null!==$s)for(var n=$s,r=Xs;null!==r;){var o=r.expirationTime;if(0===o){if(null===n||null===$s?i("244"):void 0,r===r.nextScheduledRoot){Xs=$s=r.nextScheduledRoot=null;break}if(r===Xs)Xs=o=r.nextScheduledRoot,$s.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===$s){$s=n,$s.nextScheduledRoot=Xs,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(o>e&&(e=o,t=r),r===$s)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}tu=t,nu=e}function Ur(){return!!mu||!!ui.unstable_shouldYield()&&(mu=!0)}function Fr(){try{if(!Ur()&&null!==Xs){Or();var e=Xs;do{var t=e.expirationTime;0!==t&&lu<=t&&(e.nextExpirationTimeToWorkOn=lu),e=e.nextScheduledRoot}while(e!==Xs)}qr(0,!0)}finally{mu=!1}}function qr(e,t){if(jr(),t)for(Or(),fu=lu;null!==tu&&0!==nu&&e<=nu&&!(mu&&lu>nu);)Vr(tu,nu,lu>nu),jr(),Or(),fu=lu;else for(;null!==tu&&0!==nu&&e<=nu;)Vr(tu,nu,!1),jr();if(t&&(Js=0,Zs=null),0!==nu&&Nr(tu,nu),pu=0,du=null,null!==uu)for(e=uu,uu=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){iu||(iu=!0,ou=e)}}if(iu)throw e=ou,ou=null,iu=!1,e}function Br(e,t){eu?i("253"):void 0,tu=e,nu=t,Vr(e,t,!1),qr(1073741823,!1)}function Vr(e,t,n){if(eu?i("245"):void 0,eu=!0,n){var r=e.finishedWork;null!==r?Wr(e,r,t):(e.finishedWork=null,r=e.timeoutHandle,-1!==r&&(e.timeoutHandle=-1,Sa(r)),Tr(e,n),r=e.finishedWork,null!==r&&(Ur()?e.finishedWork=r:Wr(e,r,t)))}else r=e.finishedWork,null!==r?Wr(e,r,t):(e.finishedWork=null,r=e.timeoutHandle,-1!==r&&(e.timeoutHandle=-1,Sa(r)),Tr(e,n),r=e.finishedWork,null!==r&&Wr(e,r,t));eu=!1}function Wr(e,t,n){var r=e.firstBatch;return null!==r&&r._expirationTime>=n&&(null===uu?uu=[r]:uu.push(r),r._defer)?(e.finishedWork=t,void(e.expirationTime=0)):(e.finishedWork=null,e===du?pu++:(du=e,pu=0),void ui.unstable_runWithPriority(ui.unstable_ImmediatePriority,function(){br(e,t)}))}function zr(e){null===tu?i("246"):void 0,tu.expirationTime=0,iu||(iu=!0,ou=e)}function Hr(e,t){var n=au;au=!0;try{return e(t)}finally{(au=n)||eu||qr(1073741823,!1)}}function Kr(e,t){if(au&&!su){su=!0;try{return e(t)}finally{su=!1}}return e(t)}function Gr(e,t,n){au||eu||0===ru||(qr(ru,!1),ru=0);var r=au;au=!0;try{return ui.unstable_runWithPriority(ui.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(au=r)||eu||qr(1073741823,!1)}}function Qr(e,t,n,r,o){var a=t.current;e:if(n){n=n._reactInternalFiber;t:{2===ke(n)&&1===n.tag?void 0:i("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(wt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);i("171"),s=void 0}if(1===n.tag){var u=n.type;if(wt(u)){n=St(n,u,s);break e}}n=s}else n=ka;return null===t.context?t.context=n:t.pendingContext=n,t=o,o=zn(r),o.payload={element:e},t=void 0===t?null:t,null!==t&&(o.callback=t),gr(),Kn(a,o),Cr(a,r),r}function Yr(e,t,n,r){var i=t.current,o=Lr();return i=Sr(o,i),Qr(e,t,n,i,r)}function Xr(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $r(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:so,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n
}}function Jr(e){var t=1073741822-25*(((1073741822-Lr()+500)/25|0)+1);t>=js&&(t=js-1),this._expirationTime=js=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Zr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ei(e,t,n){t=Ot(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function ti(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ni(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ei(e,!1,t)}function ri(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=Xr(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=ni(n,r),"function"==typeof i){var s=i;i=function(){var e=Xr(o._internalRoot);s.call(e)}}Kr(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return Xr(o._internalRoot)}function ii(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ti(t)?void 0:i("200"),$r(e,t,null,n)}function oi(e,t){return ti(e)?void 0:i("299","unstable_createRoot"),new ei(e,!0,null!=t&&!0===t.hydrate)}var ai=n(2),si=n(113),ui=n(453);ai?void 0:i("227");var ci=!1,li=null,fi=!1,hi=null,pi={onError:function(e){ci=!0,li=e}},di=null,mi={},yi=[],vi={},gi={},bi={},wi=null,Ei=null,Ti=null,_i=null,Si={injectEventPluginOrder:function(e){di?i("101"):void 0,di=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];mi.hasOwnProperty(t)&&mi[t]===r||(mi[t]?i("102",t):void 0,mi[t]=r,n=!0)}n&&u()}},Ii=Math.random().toString(36).slice(2),Ai="__reactInternalInstance$"+Ii,xi="__reactEventHandlers$"+Ii,Ci=!("undefined"==typeof window||!window.document||!window.document.createElement),ki={animationend:A("Animation","AnimationEnd"),animationiteration:A("Animation","AnimationIteration"),animationstart:A("Animation","AnimationStart"),transitionend:A("Transition","TransitionEnd")},Oi={},Ni={};Ci&&(Ni=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);var Ri=x("animationend"),Pi=x("animationiteration"),Di=x("animationstart"),Li=x("transitionend"),Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ji=null,Ui=null,Fi=null;si(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=k)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=k)},persist:function(){this.isPersistent=k},isPersistent:O,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=O,this._dispatchInstances=this._dispatchListeners=null}}),N.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},N.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return si(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=si({},r.Interface,e),n.extend=r.extend,D(n),n},D(N);var qi=N.extend({data:null}),Bi=N.extend({data:null}),Vi=[9,13,27,32],Wi=Ci&&"CompositionEvent"in window,zi=null;Ci&&"documentMode"in document&&(zi=document.documentMode);var Hi=Ci&&"TextEvent"in window&&!zi,Ki=Ci&&(!Wi||zi&&8<zi&&11>=zi),Gi=String.fromCharCode(32),Qi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Yi=!1,Xi=!1,$i={eventTypes:Qi,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Wi)e:{switch(e){case"compositionstart":i=Qi.compositionStart;break e;case"compositionend":i=Qi.compositionEnd;break e;case"compositionupdate":i=Qi.compositionUpdate;break e}i=void 0}else Xi?L(e,n)&&(i=Qi.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Qi.compositionStart);return i?(Ki&&"ko"!==n.locale&&(Xi||i!==Qi.compositionStart?i===Qi.compositionEnd&&Xi&&(o=C()):(ji=r,Ui="value"in ji?ji.value:ji.textContent,Xi=!0)),i=qi.getPooled(i,t,n,r),o?i.data=o:(o=M(n),null!==o&&(i.data=o)),I(i),o=i):o=null,(e=Hi?j(e,n):U(e,n))?(t=Bi.getPooled(Qi.beforeInput,t,n,r),t.data=e,I(t)):t=null,null===o?t:null===t?o:[o,t]}},Ji=null,Zi=null,eo=null,to=!1,no={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ro=ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ro.hasOwnProperty("ReactCurrentDispatcher")||(ro.ReactCurrentDispatcher={current:null});var io=/^(.*)[\\\/]/,oo="function"==typeof Symbol&&Symbol.for,ao=oo?Symbol.for("react.element"):60103,so=oo?Symbol.for("react.portal"):60106,uo=oo?Symbol.for("react.fragment"):60107,co=oo?Symbol.for("react.strict_mode"):60108,lo=oo?Symbol.for("react.profiler"):60114,fo=oo?Symbol.for("react.provider"):60109,ho=oo?Symbol.for("react.context"):60110,po=oo?Symbol.for("react.concurrent_mode"):60111,mo=oo?Symbol.for("react.forward_ref"):60112,yo=oo?Symbol.for("react.suspense"):60113,vo=oo?Symbol.for("react.memo"):60115,go=oo?Symbol.for("react.lazy"):60116,bo="function"==typeof Symbol&&Symbol.iterator,wo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eo=Object.prototype.hasOwnProperty,To={},_o={},So={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){So[e]=new oe(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];So[t]=new oe(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){So[e]=new oe(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){So[e]=new oe(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){So[e]=new oe(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){So[e]=new oe(e,3,!0,e,null)}),["capture","download"].forEach(function(e){So[e]=new oe(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){So[e]=new oe(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){So[e]=new oe(e,5,!1,e.toLowerCase(),null)});var Io=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Io,ae);So[t]=new oe(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Io,ae);So[t]=new oe(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Io,ae);So[t]=new oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){So[e]=new oe(e,1,!1,e.toLowerCase(),null)});var Ao={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},xo=null,Co=null,ko=!1;Ci&&(ko=Q("input")&&(!document.documentMode||9<document.documentMode));var Oo={eventTypes:Ao,_isInputEventSupported:ko,extractEvents:function(e,t,n,r){var i=t?g(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();return"select"===s||"input"===s&&"file"===i.type?o=ge:K(i)?ko?o=Se:(o=Te,a=Ee):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=_e),o&&(o=o(e,t))?me(o,n,r):(a&&a(e,i,t),void("blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&de(i,"number",i.value)))}},No=N.extend({view:null,detail:null}),Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Po=0,Do=0,Lo=!1,Mo=!1,jo=No.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Po;return Po=e.screenX,Lo?"mousemove"===e.type?e.screenX-t:0:(Lo=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Do;return Do=e.screenY,Mo?"mousemove"===e.type?e.screenY-t:0:(Mo=!0,0)}}),Uo=jo.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},qo={eventTypes:Fo,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?y(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=jo,s=Fo.mouseLeave,u=Fo.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Uo,s=Fo.pointerLeave,u=Fo.pointerEnter,c="pointer");var l=null==o?i:g(o);if(i=null==t?i:g(t),e=a.getPooled(s,o,n,r),e.type=c+"leave",e.target=l,e.relatedTarget=i,n=a.getPooled(u,t,n,r),n.type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(t=o,i=r,c=0,a=t;a;a=w(a))c++;for(a=0,u=i;u;u=w(u))a++;for(;0<c-a;)t=w(t),c--;for(;0<a-c;)i=w(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=w(t),i=w(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(c=o.alternate,null===c||c!==i);)t.push(o),o=w(o);for(o=[];r&&r!==i&&(c=r.alternate,null===c||c!==i);)o.push(r),r=w(r);for(r=0;r<t.length;r++)_(t[r],"bubbled",e);for(r=o.length;0<r--;)_(o[r],"captured",n);return[e,n]}},Bo=Object.prototype.hasOwnProperty,Vo=N.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Wo=N.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zo=No.extend({relatedTarget:null}),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go=No.extend({key:function(e){if(e.key){var t=Ho[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Pe(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ko[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ae,charCode:function(e){return"keypress"===e.type?Pe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Pe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qo=jo.extend({dataTransfer:null}),Yo=No.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ae}),Xo=N.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),$o=jo.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Jo=[["abort","abort"],[Ri,"animationEnd"],[Pi,"animationIteration"],[Di,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[Li,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Zo={},ea={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){De(e,!0)}),Jo.forEach(function(e){De(e,!1)});var ta={eventTypes:Zo,isInteractiveTopLevelEventType:function(e){return e=ea[e],void 0!==e&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=ea[e];if(!i)return null;switch(e){case"keypress":if(0===Pe(n))return null;case"keydown":case"keyup":e=Go;break;case"blur":case"focus":e=zo;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Yo;break;case Ri:case Pi:case Di:e=Vo;break;case Li:e=Xo;break;case"scroll":e=No;break;case"wheel":e=$o;break;case"copy":case"cut":case"paste":e=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Uo;break;default:e=N}return t=e.getPooled(i,t,n,r),I(t),t}},na=ta.isInteractiveTopLevelEventType,ra=[],ia=!0,oa={},aa=0,sa="_reactListenersID"+(""+Math.random()).slice(2),ua=Ci&&"documentMode"in document&&11>=document.documentMode,ca={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},la=null,fa=null,ha=null,pa=!1,da={eventTypes:ca,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=qe(o),i=bi.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?g(t):window,e){case"focus":(K(o)||"true"===o.contentEditable)&&(la=o,fa=t,ha=null);break;case"blur":ha=fa=la=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":return pa=!1,Ye(n,r);case"selectionchange":if(ua)break;case"keydown":case"keyup":return Ye(n,r)}return null}};Si.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),wi=b,Ei=v,Ti=g,Si.injectEventPluginsByName({SimpleEventPlugin:ta,EnterLeaveEventPlugin:qo,ChangeEventPlugin:Oo,SelectEventPlugin:da,BeforeInputEventPlugin:$i});var ma={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},ya=void 0,va=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==ma.svg||"innerHTML"in e)e.innerHTML=t;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+t+"</svg>",t=ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),ga={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ba=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){ba.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});var wa=si({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ea=null,Ta=null,_a="function"==typeof setTimeout?setTimeout:void 0,Sa="function"==typeof clearTimeout?clearTimeout:void 0,Ia=ui.unstable_scheduleCallback,Aa=ui.unstable_cancelCallback;new Set;var xa=[],Ca=-1,ka={},Oa={current:ka},Na={current:!1},Ra=ka,Pa=null,Da=null,La=(new ai.Component).refs,Ma={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===ke(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Lr();r=Sr(r,e);var i=zn(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gr(),Kn(e,i),Cr(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Lr();r=Sr(r,e);var i=zn(r);i.tag=Is,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),gr(),Kn(e,i),Cr(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Lr();n=Sr(n,e);var r=zn(n);r.tag=As,void 0!==t&&null!==t&&(r.callback=t),gr(),Kn(e,r),Cr(e,n)}},ja=Array.isArray,Ua=Zt(!0),Fa=Zt(!1),qa={},Ba={current:qa},Va={current:qa},Wa={current:qa},za=0,Ha=2,Ka=4,Ga=8,Qa=16,Ya=32,Xa=64,$a=128,Ja=ro.ReactCurrentDispatcher,Za=0,es=null,ts=null,ns=null,rs=null,is=null,os=null,as=0,ss=null,us=0,cs=!1,ls=null,fs=0,hs={readContext:Bn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an},ps={readContext:Bn,useCallback:function(e,t){return ln().memoizedState=[e,void 0===t?null:t],e},useContext:Bn,useEffect:function(e,t){return mn(516,$a|Xa,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mn(4,Ka|Ya,vn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mn(4,Ka|Ya,e,t)},useMemo:function(e,t){var n=ln();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=bn.bind(null,es,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:function(e){var t=ln();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={last:null,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},e=e.dispatch=bn.bind(null,es,e),[t.memoizedState,e]},useDebugValue:gn},ds={readContext:Bn,useCallback:function(e,t){var n=fn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Bn,useEffect:function(e,t){return yn(516,$a|Xa,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yn(4,Ka|Ya,vn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yn(4,Ka|Ya,e,t)},useMemo:function(e,t){var n=fn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:pn,useRef:function(){return fn().memoizedState},useState:function(e){return pn(hn,e)},useDebugValue:gn},ms=null,ys=null,vs=!1,gs=ro.ReactCurrentOwner,bs=!1,ws={current:null},Es=null,Ts=null,_s=null,Ss=0,Is=1,As=2,xs=3,Cs=!1,ks=void 0,Os=void 0,Ns=void 0,Rs=void 0;ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ns=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=t.stateNode;switch(en(Ba.current),e=null,n){case"input":o=ce(a,o),r=ce(a,r),e=[];break;case"option":o=$e(a,o),r=$e(a,r),e=[];break;case"select":o=si({},o,{value:void 0}),r=si({},r,{value:void 0}),e=[];break;case"textarea":o=Ze(a,o),r=Ze(a,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(a.onclick=ft)}ut(n,r),a=n=void 0;var s=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(a in u)u.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(gi.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(e||(e=[]),e.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(gi.hasOwnProperty(n)?(null!=c&&lt(i,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}s&&(e=e||[]).push("style",s),i=e,(t.updateQueue=i)&&er(t)}},Rs=function(e,t,n,r){n!==r&&er(t)};var Ps="function"==typeof WeakSet?WeakSet:Set,Ds="function"==typeof WeakMap?WeakMap:Map,Ls=ro.ReactCurrentDispatcher,Ms=ro.ReactCurrentOwner,js=1073741822,Us=!1,Fs=null,qs=null,Bs=0,Vs=-1,Ws=!1,zs=null,Hs=!1,Ks=null,Gs=null,Qs=null,Ys=null,Xs=null,$s=null,Js=0,Zs=void 0,eu=!1,tu=null,nu=0,ru=0,iu=!1,ou=null,au=!1,su=!1,uu=null,cu=ui.unstable_now(),lu=1073741822-(cu/10|0),fu=lu,hu=50,pu=0,du=null,mu=!1;Ji=function(e,t,n){switch(t){case"input":if(he(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=b(r);o?void 0:i("90"),J(r),he(r,o)}}}break;case"textarea":tt(e,n);break;case"select":t=n.value,null!=t&&Je(e,!!n.multiple,t,!1)}},Jr.prototype.render=function(e){this._defer?void 0:i("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Zr;return Qr(e,t,null,n,r._onCommit),r},Jr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Jr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t?void 0:i("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;null===r?i("251"):void 0,r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,Br(e,n),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Jr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Zr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Zr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n?i("191",n):void 0,n()}}},ei.prototype.render=function(e,t){var n=this._internalRoot,r=new Zr;return t=void 0===t?null:t,null!==t&&r.then(t),Yr(e,n,null,r._onCommit),r},ei.prototype.unmount=function(e){var t=this._internalRoot,n=new Zr;return e=void 0===e?null:e,null!==e&&n.then(e),Yr(null,t,null,n._onCommit),n},ei.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Zr;return n=void 0===n?null:n,null!==n&&i.then(n),Yr(t,r,e,i._onCommit),i},ei.prototype.createBatch=function(){var e=new Jr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},V=Hr,W=Gr,z=function(){eu||0===ru||(qr(ru,!1),ru=0)};var yu={createPortal:ii,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?i("188"):i("268",Object.keys(e))),e=Re(t),e=null===e?null:e.stateNode},hydrate:function(e,t,n){return ti(t)?void 0:i("200"),ri(null,e,t,!0,n)},render:function(e,t,n){return ti(t)?void 0:i("200"),ri(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return ti(n)?void 0:i("200"),null==e||void 0===e._reactInternalFiber?i("38"):void 0,ri(e,t,n,!1,r)},unmountComponentAtNode:function(e){return ti(e)?void 0:i("40"),!!e._reactRootContainer&&(Kr(function(){ri(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ii.apply(void 0,arguments)},unstable_batchedUpdates:Hr,unstable_interactiveUpdates:Gr,flushSync:function(e,t){eu?i("187"):void 0;var n=au;au=!0;try{return kr(e,t)}finally{au=n,qr(1073741823,!1)}},unstable_createRoot:oi,unstable_flushControlled:function(e){var t=au;au=!0;try{kr(e)}finally{(au=t)||eu||qr(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[v,g,b,Si.injectEventPluginsByName,vi,I,function(e){h(e,S)},q,B,Fe,m]}};!function(e){var t=e.findFiberByHostInstance;return Ct(si({},e,{overrideProps:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Re(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:y,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var vu={default:yu},gu=vu&&yu||vu;e.exports=gu.default||gu},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(406)},function(e,t){"use strict";function n(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case h:case p:case s:case c:case u:case m:return e;default:switch(e=e&&e.$$typeof){case f:case d:case l:return e;default:return t}}case v:case y:case a:return t}}}function r(e){return n(e)===p}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,y=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116;t.typeOf=n,t.AsyncMode=h,t.ConcurrentMode=p,t.ContextConsumer=f,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=s,t.Lazy=v,t.Memo=y,t.Portal=a,t.Profiler=c,t.StrictMode=u,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===p||e===c||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===l||e.$$typeof===f||e.$$typeof===d)},t.isAsyncMode=function(e){return r(e)||n(e)===h},
t.isConcurrentMode=r,t.isContextConsumer=function(e){return n(e)===f},t.isContextProvider=function(e){return n(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return n(e)===d},t.isFragment=function(e){return n(e)===s},t.isLazy=function(e){return n(e)===v},t.isMemo=function(e){return n(e)===y},t.isPortal=function(e){return n(e)===a},t.isProfiler=function(e){return n(e)===c},t.isStrictMode=function(e){return n(e)===u},t.isSuspense=function(e){return n(e)===m}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=t._.config,r=n.onProfileListenerError,i=n.logErrors;return function(e){if(i&&console.error("Error with profile listener: "+(e.message||""),e),(0,p.default)(r)){var n=r(e,t);if((0,p.default)(n.then))return n}return Promise.reject(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.signInWithPhoneNumber=t.linkWithCredential=t.reloadAuth=t.updateEmail=t.updateAuth=t.updateProfile=t.verifyPasswordResetCode=t.confirmPasswordReset=t.resetPassword=t.createUser=t.logout=t.login=t.init=t.handleRedirectResult=t.createUserProfile=t.watchUserProfile=t.handleProfileWatchResponse=t.unWatchUserProfile=void 0;var a=n(70),s=r(a),u=n(69),c=r(u),l=n(64),f=r(l),h=n(4),p=r(h),d=n(15),m=r(d),y=n(1),v=r(y),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=n(11),w=n(191),E=n(114),T=n(71),_=function(e,t){return e({type:b.actionTypes.LOGIN_ERROR,authError:t})},S=t.unWatchUserProfile=function(e){var t=e._,n=t.authUid,r=t.config,i=r.userProfile,o=r.useFirestoreForProfile;e._.profileWatch&&(o&&e.firestore?e._.profileWatch():e.database().ref().child(i+"/"+n).off("value",e._.profileWatch),e._.profileWatch=null)},I=function(e){return e&&e.val?e.val():e&&e.data&&e.exists?e.data():null},A=t.handleProfileWatchResponse=function(e,t,n){var r=t._.config,i=r.profileParamsToPopulate,o=r.autoPopulateProfile,a=r.useFirestoreForProfile,s=r.logErrors,u=I(n);!i||a||!(0,v.default)(i)&&!(0,m.default)(i)?(a&&i&&console.warn("Profile population is not yet supported for Firestore"),e({type:b.actionTypes.SET_PROFILE,profile:u})):(0,T.promisesForPopulate)(t,n.key,u,i).then(function(t){if((0,f.default)(t,function(t,n){e({type:b.actionTypes.SET,path:n,data:t,timestamp:Date.now(),requesting:!1,requested:!0})}),o){var r=(0,T.getPopulateObjs)(i),a=n.val();e({type:b.actionTypes.SET_PROFILE,profile:(0,w.populate)({profile:a,data:t},"profile",r)})}else e({type:b.actionTypes.SET_PROFILE,profile:u})}).catch(function(t){s&&console.error("RRF: Error retrieving data for profile population. Firebase:",t),e({type:b.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: "+t.message}),e({type:b.actionTypes.SET_PROFILE,profile:u})})},x=t.watchUserProfile=function(e,t){var n=t._,r=n.authUid,i=n.config,a=i.userProfile,s=i.useFirestoreForProfile;if(S(t),a)if(s&&t.firestore)t._.profileWatch=t.firestore().collection(a).doc(r).onSnapshot(function(n){return A(e,t,n)},o(e,t));else{if(!t.database)throw new Error("Real Time Database or Firestore must be included to enable user profile");t._.profileWatch=t.database().ref().child(a+"/"+r).on("value",function(n){return A(e,t,n)},o(e,t))}},C=t.createUserProfile=function(e,t,n,r){var i=t._.config;if(!i.userProfile||!t.database&&!t.firestore)return Promise.resolve(n);if((0,p.default)(i.profileFactory))try{r=i.profileFactory(n,r)}catch(e){return console.error("Error occured within profileFactory function:",e.message||e),Promise.reject(e)}return i.useFirestoreForProfile?t.firestore().collection(i.userProfile).doc(n.uid||n.user.uid).get().then(function(e){if(!i.updateProfileOnLogin&&e.exists)return e.data();var t=r;if(!t){var o=n.uid?n.toJSON?n.toJSON():n:n.user.toJSON?n.user.toJSON():n.user;t=g({},(0,c.default)(o,i.keysToRemoveFromAuth),{avatarUrl:o.photoURL})}return(0,v.default)(t.providerData)&&(t.providerData=t.providerData.map(function(e){return(0,s.default)(e,i.keysToPreserveFromProviderData)})),e.ref.set(t,{merge:!0}).then(function(){return t})}).catch(function(t){return e({type:b.actionTypes.UNAUTHORIZED_ERROR,authError:t}),Promise.reject(t)}):t.database().ref().child(i.userProfile+"/"+(n.user?n.user.uid:n.uid)).once("value").then(function(e){return i.updateProfileOnLogin||null===e.val()?e.ref.update(r).then(function(){return r}):e.val()}).catch(function(n){return e({type:b.actionTypes.UNAUTHORIZED_ERROR,authError:n}),(0,p.default)(i.onProfileWriteError)&&i.onProfileWriteError(n,t),Promise.reject(n)})},k=function(e,t,n){var r=t._.config;n?(t._.authUid=n.uid,r.presence&&(0,E.setupPresence)(e,t),e({type:b.actionTypes.LOGIN,auth:n,preserve:r.preserveOnLogin}),x(e,t),(0,p.default)(r.onAuthStateChanged)&&r.onAuthStateChanged(n,t,e)):((0,p.default)(r.onAuthStateChanged)&&t._.config.onAuthStateChanged(n,t,e),e({type:b.actionTypes.AUTH_EMPTY_CHANGE,preserve:r.preserveOnEmptyAuthChange}))},O=t.handleRedirectResult=function(e,t,n){if("function"==typeof t._.config.onRedirectResult&&t._.config.onRedirectResult(n,t,e),n&&n.user){var r=n.user;return t._.authUid=r.uid,x(e,t),e({type:b.actionTypes.LOGIN,auth:r,preserve:t._.config.preserveOnLogin}),C(e,t,r,{email:r.email,displayName:r.providerData[0].displayName||r.email,avatarUrl:r.providerData[0].photoURL,providerData:r.providerData})}},N=t.init=function(e,t){t.auth&&(e({type:b.actionTypes.AUTHENTICATION_INIT_STARTED}),t.auth().onAuthStateChanged(function(n){return k(e,t,n)}),t._.config.enableRedirectHandling&&(0,p.default)(t.auth().getRedirectResult)&&"undefined"!=typeof window&&window.location&&window.location.protocol&&window.location.protocol.indexOf("http")!==-1&&t.auth().getRedirectResult().then(function(n){return O(e,t,n)}).catch(function(t){return _(e,t),Promise.reject(t)}),t.auth().currentUser,e({type:b.actionTypes.AUTHENTICATION_INIT_FINISHED}))},R=t.login=function(e,t,n){var r;t._.config.resetBeforeLogin&&_(e,null);var o=(0,E.getLoginMethodAndParams)(t,n),a=o.method,s=o.params;return(r=t.auth())[a].apply(r,i(s)).then(function(r){if(!r)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword"].includes(a))return{user:r};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(a))return t._.config.updateProfileOnLogin?C(e,t,r,n.profile):{user:r};if("signInWithPhoneNumber"===a)return g({},r,{confirm:function(n){return r.confirm(n).then(function(n){var r=n.user,i=n.additionalUserInfo;return C(e,t,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then(function(e){return{profile:e,user:r,additionalUserInfo:i}})})}});var i=r.user||r;return C(e,t,i,n.profile||{email:i.email,displayName:i.providerData[0].displayName||i.email,avatarUrl:i.providerData[0].photoURL,providerData:i.providerData}).then(function(e){return g({profile:e},r)})}).catch(function(t){return _(e,t),Promise.reject(t)})},P=t.logout=function(e,t){return t.auth().signOut().then(function(){return e({type:b.actionTypes.LOGOUT,preserve:t._.config.preserveOnLogout}),t._.authUid=null,S(t),t})},D=t.createUser=function(e,t,n,r){var i=n.email,o=n.password,a=n.signIn;if(_(e,null),!i||!o){var s=new Error("Email and Password are required to create user");return _(e,s),Promise.reject(s)}return t.auth().createUserWithEmailAndPassword(i,o).then(function(n){return t.auth().currentUser||a&&a===!1?C(e,t,n,r||{email:i}):R(e,t,{email:i,password:o}).then(function(){return C(e,t,n,r||{email:i})}).catch(function(t){if(t)switch(t.code){case"auth/user-not-found":_(e,new Error("The specified user account does not exist."));break;default:_(e,t)}return Promise.reject(t)})}).catch(function(t){return _(e,t),Promise.reject(t)})},L=t.resetPassword=function(e,t,n){return _(e,null),t.auth().sendPasswordResetEmail(n).catch(function(t){if(t){switch(t.code){case"auth/user-not-found":_(e,new Error("The specified user account does not exist."));break;default:_(e,t)}return Promise.reject(t)}})},M=t.confirmPasswordReset=function(e,t,n,r){return _(e,null),t.auth().confirmPasswordReset(n,r).catch(function(t){if(t){switch(t.code){case"auth/expired-action-code":_(e,new Error("The action code has expired."));break;case"auth/invalid-action-code":_(e,new Error("The action code is invalid."));break;case"auth/user-disabled":_(e,new Error("The user is disabled."));break;case"auth/user-not-found":_(e,new Error("The user is not found."));break;case"auth/weak-password":_(e,new Error("The password is not strong enough."));break;default:_(e,t)}return Promise.reject(t)}})},j=t.verifyPasswordResetCode=function(e,t,n){return _(e,null),t.auth().verifyPasswordResetCode(n).catch(function(t){return t&&_(e,t),Promise.reject(t)})},U=t.updateProfile=function(e,t,n){var r=t._.config;e({type:b.actionTypes.PROFILE_UPDATE_START,payload:n});var i=r.useFirestoreForProfile?E.updateProfileOnFirestore:E.updateProfileOnRTDB;return i(t,n).then(function(t){return e({type:b.actionTypes.PROFILE_UPDATE_SUCCESS,payload:r.useFirestoreForProfile?t.data():t.val()}),t}).catch(function(t){return e({type:b.actionTypes.PROFILE_UPDATE_ERROR,error:t}),Promise.reject(t)})},F=t.updateAuth=function(e,t,n,r){if(e({type:b.actionTypes.AUTH_UPDATE_START,payload:n}),!t.auth().currentUser){var i=new Error("User must be logged in to update auth.");return e({type:b.actionTypes.AUTH_UPDATE_ERROR,payload:i}),Promise.reject(i)}return t.auth().currentUser.updateProfile(n).then(function(i){return e({type:b.actionTypes.AUTH_UPDATE_SUCCESS,payload:t.auth().currentUser}),r?U(e,t,n):i}).catch(function(t){return e({type:b.actionTypes.AUTH_UPDATE_ERROR,error:t}),Promise.reject(t)})},q=t.updateEmail=function(e,t,n,r){if(e({type:b.actionTypes.EMAIL_UPDATE_START,payload:n}),!t.auth().currentUser){var i=new Error("User must be logged in to update email.");return e({type:b.actionTypes.EMAIL_UPDATE_ERROR,error:i}),Promise.reject(i)}return t.auth().currentUser.updateEmail(n).then(function(i){return e({type:b.actionTypes.EMAIL_UPDATE_SUCCESS,payload:n}),r?U(e,t,{email:n}):i}).catch(function(t){return e({type:b.actionTypes.EMAIL_UPDATE_ERROR,error:t}),Promise.reject(t)})},B=t.reloadAuth=function(e,t){if(e({type:b.actionTypes.AUTH_RELOAD_START}),!t.auth().currentUser){var n=new Error("User must be logged in to reload auth.");return e({type:b.actionTypes.AUTH_RELOAD_ERROR,error:n}),Promise.reject(n)}return t.auth().currentUser.reload().then(function(){var n=t.auth().currentUser;return e({type:b.actionTypes.AUTH_RELOAD_SUCCESS,payload:n}),n}).catch(function(t){return e({type:b.actionTypes.AUTH_RELOAD_ERROR,error:t}),Promise.reject(t)})},V=(t.linkWithCredential=function(e,t,n){if(e({type:b.actionTypes.AUTH_LINK_START}),!t.auth().currentUser){var r=new Error("User must be logged in to link with credential.");return e({type:b.actionTypes.AUTH_LINK_ERROR,error:r}),Promise.reject(r)}return t.auth().currentUser.linkWithCredential(n).then(function(t){return e({type:b.actionTypes.AUTH_LINK_SUCCESS,payload:t}),t}).catch(function(t){return e({type:b.actionTypes.AUTH_LINK_ERROR,error:t}),Promise.reject(t)})},t.signInWithPhoneNumber=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return R(t,e,g({phoneNumber:n,applicationVerifier:r},i))});t.default={dispatchLoginError:_,unWatchUserProfile:S,watchUserProfile:x,init:N,createUserProfile:C,login:R,logout:P,createUser:D,resetPassword:L,confirmPasswordReset:M,verifyPasswordResetCode:j,updateAuth:F,updateProfile:U,updateEmail:q,reloadAuth:B,signInWithPhoneNumber:V}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=t.uploadFiles=t.uploadFile=void 0;var o=n(4),a=r(o),s=n(27),u=r(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(11),f=n(193),h=n(417),p=l.actionTypes.FILE_UPLOAD_START,d=l.actionTypes.FILE_UPLOAD_ERROR,m=l.actionTypes.FILE_UPLOAD_COMPLETE,y=l.actionTypes.FILE_DELETE_START,v=l.actionTypes.FILE_DELETE_ERROR,g=l.actionTypes.FILE_DELETE_COMPLETE,b=t.uploadFile=function(e,t,n){if(!t.storage)throw new Error("Firebase storage is required to upload files");var r=n||{},i=r.path,o=r.file,s=r.dbPath,u=r.options,l=void 0===u?{progress:!1}:u,f=t._.config.logErrors,y=(0,a.default)(l.name)?l.name(o,t,n):l.name,v=y||o.name,g=c({},n,{filename:v});e({type:p,payload:c({},n,{filename:v})});var b=function(){return l.progress?(0,h.uploadFileWithProgress)(e,t,{path:i,file:o,filename:v,meta:g}):t.storage().ref(i+"/"+v).put(o)};return b().then(function(r){return s&&t.database?(0,h.writeMetadataToDb)({firebase:t,uploadTaskSnapshot:r,dbPath:s,options:l}).then(function(t){return e({type:m,meta:c({},n,{filename:v}),payload:t}),t}):(e({type:m,meta:c({},n,{filename:v}),payload:{uploadTaskSnapshot:r,uploadTaskSnaphot:r}}),{uploadTaskSnapshot:r,uploadTaskSnaphot:r})}).catch(function(t){return f&&console.error&&console.error("RRF: Error uploading file: "+(t.message||t),t),e({type:d,path:i,payload:t}),Promise.reject(t)})},w=function(e,t,n){var r=n.files,o=i(n,["files"]);return Promise.all((0,u.default)(r,function(n){return b(e,t,c({file:n},o))}))};t.uploadFiles=w;t.deleteFile=function(e,t,n){var r=n.path,i=n.dbPath;return(0,f.wrapInDispatch)(e,{method:h.deleteFile,args:[t,{path:r,dbPath:i}],types:[y,g,v]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFirebase=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(190),o=n(114),a=n(11),s=n(188),u=void 0;t.default=function(e,t){return function(n){return function(c,l,f){var h=n(c,l,f);if(!e.SDK_VERSION&&!e.firebase_&&!e.database)throw new Error("v2.0.0-beta and higher require passing a firebase app instance or a firebase library instance. View the migration guide for details.");var p=r({},a.defaultConfig,t);return u=(0,i.createFirebaseInstance)(e.firebase_||e,p,h.dispatch),s.authActions.init(h.dispatch,u),h.firebase=u,p.attachAuthIsReady&&(h.firebaseAuthIsReady=(0,o.createAuthIsReady)(h,p)),h}}};t.getFirebase=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseConnect=void 0;var u=n(365),c=r(u),l=n(109),f=r(l),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(2),m=r(d),y=n(13),v=r(y),g=n(72),b=r(g),w=n(189),E=n(45),T=t.createFirebaseConnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var r=function(r){function i(){var t,n,r,s;o(this,i);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(c))),r.firebaseEvents=[],r.firebase=null,r.prevData=null,r.store=r.context[e],s=n,a(r,s)}return s(i,r),p(i,[{key:"componentWillMount",value:function(){var e=this.store,n=e.firebase,r=e.dispatch,i=(0,E.createCallable)(t);this.prevData=i(this.props,this.store);var o=n.ref,a=n.helpers,s=n.storage,u=n.database,c=n.auth;this.firebase=h({ref:o,storage:s,database:u,auth:c},a),this._firebaseEvents=(0,E.getEventsFromInput)(this.prevData),(0,w.watchEvents)(n,r,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var e=this.store,t=e.firebase,n=e.dispatch;(0,w.unWatchEvents)(t,n,this._firebaseEvents)}},{key:"componentWillReceiveProps",value:function(e){var n=this.store,r=n.firebase,i=n.dispatch,o=(0,E.createCallable)(t),a=o(e,this.store);if(!(0,f.default)(a,this.prevData)){var s=(0,c.default)(a,this.prevData,f.default),u=(0,c.default)(this.prevData,a,f.default);this.prevData=a,(0,w.unWatchEvents)(r,i,(0,E.getEventsFromInput)(u)),this._firebaseEvents=(0,E.getEventsFromInput)(a),(0,w.watchEvents)(r,i,(0,E.getEventsFromInput)(s))}}},{key:"render",value:function(){return m.default.createElement(n,h({},this.props,this.state,{firebase:this.firebase}))}}]),i}(d.Component);return r.displayName="FirebaseConnect("+(0,E.getDisplayName)(n)+")",r.wrappedComponent=n,r.contextTypes=i({},e,v.default.object.isRequired),(0,b.default)(r,n)}}};t.default=T()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createFirestoreConnect=void 0;var u=n(109),c=r(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(2),p=r(h),d=n(13),m=r(d),y=n(72),v=r(y),g=n(45),b=t.createFirestoreConnect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var r=function(r){function i(){var t,n,r,s;o(this,i);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=r=a(this,(t=i.__proto__||Object.getPrototypeOf(i)).call.apply(t,[this].concat(c))),r.prevData=null,r.store=r.context[e],s=n,a(r,s)}return s(i,r),f(i,[{key:"componentWillMount",value:function(){var e=this.store,n=e.firebase,r=e.firestore;if(n.firestore&&r){var i=(0,g.createCallable)(t);this.prevData=i(this.props,this.store),r.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){var e=this.store,t=e.firebase,n=e.firestore;t.firestore&&this.prevData&&n.unsetListeners(this.prevData)}},{key:"componentWillReceiveProps",value:function(e){var n=this.store,r=n.firebase,i=n.firestore,o=(0,g.createCallable)(t),a=o(e,this.store);r.firestore&&!(0,c.default)(a,this.prevData)&&(i.unsetListeners(this.prevData),this.prevData=a,i.setListeners(a))}},{key:"render",value:function(){var e=this.store,t=e.firebase,r=e.firestore;return p.default.createElement(n,l({},this.props,this.state,{firebase:l({},t,t.helpers),firestore:r}))}}]),i}(h.Component);return r.wrappedComponent=n,r.displayName=(0,g.wrapDisplayName)(n,"FirestoreConnect"),r.contextTypes=i({},e,m.default.object.isRequired),(0,v.default)(r,n)}}};t.default=b()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(115),i=n(415);t.default=(0,r.combineReducers)({requesting:i.requestingReducer,requested:i.requestedReducer,timestamps:i.timestampsReducer,data:i.dataReducer,ordered:i.orderedReducer,auth:i.authReducer,authError:i.authErrorReducer,profile:i.profileReducer,listeners:i.listenersReducer,isInitializing:i.isInitializingReducer,errors:i.errorsReducer}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.orderedReducer=t.dataReducer=t.listenersReducer=t.errorsReducer=t.profileReducer=t.authErrorReducer=t.authReducer=t.timestampsReducer=t.requestedReducer=t.requestingReducer=t.isInitializingReducer=void 0;var a=n(173),s=r(a),u=n(175),c=r(u),l=n(3),f=r(l),h=n(1),p=r(h),d=n(10),m=r(d),y=n(69),v=r(y),g=n(70),b=r(g),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=n(11),T=n(115),_=E.actionTypes.START,S=E.actionTypes.SET,I=E.actionTypes.SET_PROFILE,A=E.actionTypes.MERGE,x=E.actionTypes.LOGIN,C=E.actionTypes.LOGOUT,k=E.actionTypes.LOGIN_ERROR,O=E.actionTypes.CLEAR_ERRORS,N=E.actionTypes.REMOVE,R=E.actionTypes.NO_VALUE,P=E.actionTypes.SET_LISTENER,D=E.actionTypes.UNSET_LISTENER,L=E.actionTypes.AUTHENTICATION_INIT_STARTED,M=E.actionTypes.AUTHENTICATION_INIT_FINISHED,j=E.actionTypes.AUTH_EMPTY_CHANGE,U=E.actionTypes.AUTH_LINK_SUCCESS,F=E.actionTypes.UNAUTHORIZED_ERROR,q=E.actionTypes.AUTH_UPDATE_SUCCESS,B=E.actionTypes.AUTH_RELOAD_SUCCESS,V=E.actionTypes.PROFILE_UPDATE_SUCCESS,W=(t.isInitializingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case L:return!0;case M:return!1;default:return e}},t.requestingReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case _:return w({},e,o({},(0,T.getSlashStrPath)(r),!0));case R:case S:return w({},e,o({},(0,T.getSlashStrPath)(r),!1));default:return e}},t.requestedReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case _:return w({},e,o({},(0,T.getSlashStrPath)(r),!1));case R:case S:return w({},e,o({},(0,T.getSlashStrPath)(r),!0));default:return e}},t.timestampsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path;switch(n){case _:case R:case S:return w({},e,o({},(0,T.getSlashStrPath)(r),Date.now()));default:return e}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case S:return(0,c.default)(Object,(0,T.getDotStrPath)(n.path),n[e],t);case A:var r=(0,m.default)(t,(0,T.getDotStrPath)(n.path),{}),i=(0,s.default)(r,n[e]);return(0,c.default)(Object,(0,T.getDotStrPath)(n.path),i,t);case R:return(0,c.default)(Object,(0,T.getDotStrPath)(n.path),null,t);case N:return"data"===e?(0,T.recursiveUnset)((0,T.getDotStrPath)(n.path),t):t;case C:if(n.preserve){if((0,p.default)(n.preserve))return(0,b.default)(t,n.preserve);if((0,f.default)(n.preserve))return n.preserve[e]?(0,T.preserveValuesFromState)(t,n.preserve[e],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return t}}}),z=(t.authReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=arguments[1];switch(t.type){case x:case q:if(!t.auth)return{isEmpty:!0,isLoaded:!0};var n=t.auth.toJSON?t.auth.toJSON():t.auth;return t.preserve&&t.preserve.auth?(0,T.preserveValuesFromState)(e,t.preserve.auth,w({},n,{isEmpty:!1,isLoaded:!0})):w({},n,{isEmpty:!1,isLoaded:!0});case U:case B:return t.payload?w({},t.payload.toJSON?t.payload.toJSON():t.payload,{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case k:case j:case C:return t.preserve&&t.preserve.auth?(0,T.preserveValuesFromState)(e,t.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.authErrorReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case x:case C:return null;case k:case F:return t.authError;default:return e}},t.profileReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},t=arguments[1];switch(t.type){case I:return t.profile?w({},t.profile,{isEmpty:!1,isLoaded:!0}):w({},e,{isEmpty:!0,isLoaded:!0});case V:return w({},e,t.payload);case x:return t.preserve&&t.preserve.profile?(0,T.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case C:case j:return t.preserve&&t.preserve.profile?(0,T.preserveValuesFromState)(e,t.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return e}},t.errorsReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case k:case F:if(!(0,p.default)(e))throw new Error("Errors state must be an array");return[].concat(i(e),[t.authError]);case C:case O:if(t.preserve&&t.preserve.errors){if("function"!=typeof t.preserve.errors)throw new Error("Preserve for the errors state currently only supports functions");return e.filter(t.preserve.errors)}return[];default:return e}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.path,i=t.payload;switch(n){case P:return w({},e,o({},i.id,{id:i.id,path:r}));case D:return(0,v.default)(e,[i.id]);default:return e}}),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.type,r=(t.path,t.payload);switch(n){case P:return[].concat(i(e),[r.id]);case D:return e.filter(function(e){return e!==r.id});default:return e}};t.listenersReducer=(0,T.combineReducers)({byId:z,allIds:H}),t.dataReducer=W(),t.orderedReducer=W("ordered")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getEventsFromInput=t.pathStrToObj=void 0;var i=n(388),o=r(i),a=n(15),s=r(a),u=n(3),c=r(u),l=n(1),f=r(l),h=n(367),p=r(h),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=n(71),y=n(194),v=t.pathStrToObj=function(e){var t={path:e,type:"value",isQuery:!1},n=(0,y.getQueryIdFromPath)(e);if(n){var r=e.split("#");t=d({},t,{queryId:n,isQuery:!0,path:r[0],queryParams:r[1].split("&")}),(0,m.getPopulates)(r[1].split("&"))&&(t.populates=(0,m.getPopulates)(r[1].split("&")),t.queryParams=(0,o.default)(r[1].split("&"),function(e){return e.indexOf("populate")===-1}))}return t},g=t.getEventsFromInput=function(e){return(0,p.default)(e,function(e){if((0,s.default)(e))return[v(e)];if((0,f.default)(e))return[{type:"first_child",path:e[0]},{type:"child_added",path:e[0]},{type:"child_removed",path:e[0]},{type:"child_moved",path:e[0]},{type:"child_changed",path:e[0]}];if((0,c.default)(e)){if(!e.path)throw new Error("Path is a required parameter within definition object");var t=e.path;return e.storeAs&&(t+="@"+e.storeAs),e.queryParams&&(t+="#"+e.queryParams.join("&")),e=d({},v(t),e),[e]}throw new Error("Invalid Path Definition: "+e+". Only strings, objects, and arrays accepted.")})};t.default={getEventsFromInput:g}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t.path,r=t.dbPath;return e.storage().ref(n).delete().then(function(){if(!r||!e.database&&!e.firestore)return{path:n};var t=function(){return e._.config.useFirestoreForStorageMeta?e.firestore().doc(r).delete():e.database().ref(r).remove()};return t().then(function(){return{path:n,dbPath:r}})})}function o(e){var t=e.fileData,n=e.firebase,r=e.uploadTaskSnapshot;return function(e){var i=n._.config.useFirestoreForStorageMeta,o={snapshot:e,key:e.key||e.id,File:t,metaDataSnapshot:e,uploadTaskSnapshot:r,uploadTaskSnaphot:r,createdAt:i?n.firestore.FieldValue.serverTimestamp():n.database.ServerValue.TIMESTAMP};if(e.id&&(o.id=e.id),e.downloadURLs&&e.downloadURLs[0])o.downloadURL=e.downloadURLs[0];else if(r.ref&&"function"==typeof r.ref.getDownloadURL)return r.ref.getDownloadURL().then(function(e){return l({},o,{downloadURL:e})});return o}}function a(e){var t=e.firebase,n=e.uploadTaskSnapshot,r=e.dbPath,i=e.options,a=t._.config,s=a.fileMetadataFactory,u=a.useFirestoreForStorageMeta,l=i.metadataFactory,f=l||s,h=(0,c.default)(f)?f(n,t,n.metadata):n.metadata,p=o({fileData:h,firebase:t,uploadTaskSnapshot:n}),d=function(e){return u?t.firestore().collection(r).add(e):t.database().ref(r).push(e)};return d(h).then(p)}function s(e,t,n){var r=n.path,i=n.file,o=n.filename,a=n.meta,s=t.storage().ref(r+"/"+o).put(i),u=s.on(t.storage.TaskEvent.STATE_CHANGED,{next:function(t){e({type:p,meta:a,payload:{snapshot:t,percent:Math.floor(t.bytesTransferred/t.totalBytes*100)}})},error:function(t){e({type:h,meta:a,payload:t}),u()},complete:function(){u()}});return s}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),c=r(u),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.deleteFile=i,t.writeMetadataToDb=a,t.uploadFileWithProgress=s;var f=n(11),h=f.actionTypes.FILE_UPLOAD_ERROR,p=f.actionTypes.FILE_UPLOAD_PROGRESS},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createWithFirebase=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),h=n(13),p=r(h),d=n(72),m=r(d),y=n(45),v=t.createWithFirebase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(t){var n=function(n){function r(){var t,n,i,s;o(this,r);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=a(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(c))),i.store=i.context[e],
s=n,a(i,s)}return s(r,n),c(r,[{key:"render",value:function(){return f.default.createElement(t,u({},this.props,this.state,{dispatch:this.store.dispatch,firebase:this.store.firebase}))}}]),r}(l.Component);return n.wrappedComponent=t,n.displayName=(0,y.wrapDisplayName)(t,"withFirebase"),n.contextTypes=i({},e,p.default.object.isRequired),(0,m.default)(n,t)}};t.default=v()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createWithFirestore=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),f=r(l),h=n(13),p=r(h),d=n(72),m=r(d),y=n(45),v=t.createWithFirestore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(t){var n=function(n){function r(){var t,n,i,s;o(this,r);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=a(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(c))),i.store=i.context[e],s=n,a(i,s)}return s(r,n),c(r,[{key:"render",value:function(){return f.default.createElement(t,u({},this.props,{dispatch:this.store.dispatch,firestore:this.store.firestore,firebase:this.store.firebase}))}}]),r}(l.Component);return n.wrappedComponent=t,n.displayName=(0,y.wrapDisplayName)(t,"withFirestore"),n.contextTypes=i({},e,p.default.object.isRequired),(0,m.default)(n,t)}};t.default=v()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||t+"Subscription",s=function(e){function n(r,a){i(this,n);var s=o(this,e.call(this,r,a));return s[t]=r.store,s}return a(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[r]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:f.storeShape.isRequired,children:l.default.element.isRequired},s.childContextTypes=(e={},e[t]=f.storeShape.isRequired,e[r]=f.subscriptionShape,e),s}t.__esModule=!0,t.createProvider=s;var u=n(2),c=n(13),l=r(c),f=n(197),h=n(116);r(h);t.default=s()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(e,t){return e===t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?l.default:t,r=e.mapStateToPropsFactories,s=void 0===r?y.default:r,c=e.mapDispatchToPropsFactories,f=void 0===c?d.default:c,p=e.mergePropsFactories,m=void 0===p?g.default:p,v=e.selectorFactory,b=void 0===v?w.default:v;return function(e,t,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.pure,p=void 0===l||l,d=c.areStatesEqual,y=void 0===d?a:d,v=c.areOwnPropsEqual,g=void 0===v?h.default:v,w=c.areStatePropsEqual,E=void 0===w?h.default:w,T=c.areMergedPropsEqual,_=void 0===T?h.default:T,S=i(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=o(e,s,"mapStateToProps"),A=o(t,f,"mapDispatchToProps"),x=o(r,m,"mergeProps");return n(b,u({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:I,initMapDispatchToProps:A,initMergeProps:x,pure:p,areStatesEqual:y,areOwnPropsEqual:g,areStatePropsEqual:E,areMergedPropsEqual:_},S))}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var c=n(195),l=r(c),f=n(428),h=r(f),p=n(422),d=r(p),m=n(423),y=r(m),v=n(424),g=r(v),b=n(425),w=r(b);t.default=s()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function o(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,a.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=o;var a=n(46),s=n(196);t.default=[r,i,o]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:(0,o.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var o=n(196);t.default=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function a(e){return"function"==typeof e?o(e):void 0}function s(e){return e?void 0:function(){return i}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=o,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=s;var c=n(198);r(c);t.default=[a,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function a(e,t,n,r,i){function o(i,o){return d=i,m=o,y=e(d,m),v=t(r,m),g=n(y,v,m),p=!0,g}function a(){return y=e(d,m),t.dependsOnOwnProps&&(v=t(r,m)),g=n(y,v,m)}function s(){return e.dependsOnOwnProps&&(y=e(d,m)),t.dependsOnOwnProps&&(v=t(r,m)),g=n(y,v,m)}function u(){var t=e(d,m),r=!h(t,y);return y=t,r&&(g=n(y,v,m)),g}function c(e,t){var n=!f(t,m),r=!l(e,d);return d=e,m=t,n&&r?a():n?s():r?u():g}var l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1,d=void 0,m=void 0,y=void 0,v=void 0,g=void 0;return function(e,t){return p?c(e,t):o(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,u=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,u),l=r(e,u),f=s(e,u),h=u.pure?a:o;return h(c,l,f,e,u)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=a,t.default=s;var u=n(426);r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,s.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function o(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t.default=o;var a=n(116),s=r(a)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,o={notify:function(){}},a=function(){function e(t,r,i){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=i,this.unsubscribe=null,this.listeners=o}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t.default=a},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}t.__esModule=!0,t.default=r;var i=Object.prototype.hasOwnProperty},72,function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}function s(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}function c(e){var t=e["aria-current"],n=void 0===t?"page":t,r=e.activeClassName,o=void 0===r?"active":r,s=e.activeStyle,c=e.className,h=e.exact,p=e.isActive,d=e.location,m=e.strict,v=e.style,g=e.to,b=a(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),w="object"==typeof g?g.pathname:g,E=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return l.createElement(f.Route,{path:E,exact:h,strict:m,location:d,children:function(e){var t=e.location,r=e.match,a=!!(p?p(r,t):r),f=a?u(c,o):c,h=a?i({},v,s):v;return l.createElement(y,i({"aria-current":a&&n||null,className:f,style:h,to:g},b))}})}Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(2)),f=n(432),h=n(123);n(13),n(118);var p=r(n(117)),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=h.createBrowserHistory(t.props),t}return o(t,e),t.prototype.render=function(){return l.createElement(f.Router,{history:this.history,children:this.props.children})},t}(l.Component),m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=h.createHashHistory(t.props),t}return o(t,e),t.prototype.render=function(){return l.createElement(f.Router,{history:this.history,children:this.props.children})},t}(l.Component),y=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.handleClick=function(e,t){this.props.onClick&&this.props.onClick(e),e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||s(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),o=a(t,["innerRef","replace","to"]);return l.createElement(f.__RouterContext.Consumer,null,function(t){t||p(!1);var a="string"==typeof r?h.createLocation(r,null,null,t.location):r,s=a?t.history.createHref(a):"";return l.createElement("a",i({},o,{onClick:function(n){return e.handleClick(n,t.history)},href:s,ref:n}))})},t}(l.Component);Object.keys(f).forEach(function(e){t[e]=f[e]}),t.BrowserRouter=d,t.HashRouter=m,t.Link=y,t.NavLink=c},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}function s(e){var t=e.message,n=e.when,r=void 0===n||n;return T.createElement(C.Consumer,null,function(e){if(e||S(!1),!r||e.staticContext)return null;var n=e.history.block;return T.createElement(N,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})})}function u(e){if(R[e])return R[e];var t=I.compile(e);return D<P&&(R[e]=t,D++),t}function c(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:u(e)(t,{pretty:!0})}function l(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return T.createElement(C.Consumer,null,function(e){e||S(!1);var r=e.history,a=e.staticContext,s=o?r.push:r.replace,u=_.createLocation(t?"string"==typeof n?c(n,t.params):i({},n,{pathname:c(n.pathname,t.params)}):n);return a?(s(u),null):T.createElement(N,{onMount:function(){s(u)},onUpdate:function(e,t){_.locationsAreEqual(t.to,u)||s(u)},to:n})})}function f(e,t){var n=""+t.end+t.strict+t.sensitive,r=L[n]||(L[n]={});if(r[e])return r[e];var i=[],o={regexp:I(e,i,t),keys:i};return j<M&&(r[e]=o,j++),o}function h(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(t,n){if(t)return t;var r=f(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),p=e===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce(function(e,t,n){return e[t.name]=h[n],e},{})}},null)}function p(e){return 0===T.Children.count(e)}function d(e){return"/"===e.charAt(0)?e:"/"+e}function m(e,t){return e?i({},t,{pathname:d(e)+t.pathname}):t}function y(e,t){if(!e)return t;var n=d(e);return 0!==t.pathname.indexOf(n)?t:i({},t,{pathname:t.pathname.substr(n.length)})}function v(e){return"string"==typeof e?e:_.createPath(e)}function g(e){return function(){S(!1)}}function b(){}function w(e){var t=function(t){var n=t.wrappedComponentRef,r=a(t,["wrappedComponentRef"]);return T.createElement(U,{children:function(t){return T.createElement(e,i({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,A(t,e)}Object.defineProperty(t,"__esModule",{value:!0});var E=r(n(228)),T=r(n(2));n(13),n(118);var _=n(123),S=r(n(117)),I=r(n(434));n(187);var A=r(n(246)),x=function(e){var t=E();return t.Provider.displayName=e+".Provider",t.Consumer.displayName=e+".Consumer",t},C=x("Router"),k=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}o(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return T.createElement(C.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(T.Component),O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=_.createMemoryHistory(t.props),t}return o(t,e),t.prototype.render=function(){return T.createElement(k,{history:this.history,children:this.props.children})},t}(T.Component),N=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(T.Component),R={},P=1e4,D=0,L={},M=1e4,j=0,U=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this;return T.createElement(C.Consumer,null,function(t){t||S(!1);var n=e.props.location||t.location,r=i({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?h(n.pathname,e.props):t.match}),o=e.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&0===a.length&&(a=null),"function"==typeof a&&void 0===(a=a(r))&&(a=null),T.createElement(C.Provider,{value:r},a&&!p(a)?a:r.match?s?T.createElement(s,r):u?u(r):null:null)})},t}(T.Component),F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return b},t.handleBlock=function(){return b},t}o(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context;o.action=t,o.location=m(i,_.createLocation(e)),o.url=v(o.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,c=a(e,["basename","context","location"]),l={createHref:function(e){return d(n+v(e))},action:"POP",location:y(n,_.createLocation(u)),push:this.handlePush,replace:this.handleReplace,go:g("go"),goBack:g("goBack"),goForward:g("goForward"),listen:this.handleListen,block:this.handleBlock};return T.createElement(k,i({},c,{history:l,staticContext:o}))},t}(T.Component),q=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this;return T.createElement(C.Consumer,null,function(t){t||S(!1);var n,r,o=e.props.location||t.location;return T.Children.forEach(e.props.children,function(e){if(null==r&&T.isValidElement(e)){var a=(n=e).props.path||e.props.from;r=a?h(o.pathname,i({},e.props,{path:a})):t.match}}),r?T.cloneElement(n,{location:o,computedMatch:r}):null})},t}(T.Component);t.MemoryRouter=O,t.Prompt=s,t.Redirect=l,t.Route=U,t.Router=k,t.StaticRouter=F,t.Switch=q,t.generatePath=c,t.matchPath=h,t.withRouter=w,t.__RouterContext=C},function(e,t,n){"use strict";e.exports=n(431)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){function r(e,t){for(var n,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=g.exec(e));){var l=n[0],f=n[1],h=n.index;if(a+=e.slice(o,h),o=h+l.length,f)a+=f[1];else{var p=e[o],d=n[2],m=n[3],y=n[4],v=n[5],b=n[6],w=n[7];a&&(r.push(a),a="");var E=null!=d&&null!=p&&p!==d,T="+"===b||"*"===b,_="?"===b||"*"===b,S=n[2]||s,I=y||v;r.push({name:m||i++,prefix:d||"",delimiter:S,optional:_,repeat:T,partial:E,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function i(e,t){return s(r(e,t))}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},u=r||{},c=u.pretty?o:encodeURIComponent,l=0;l<e.length;l++){var f=e[l];if("string"!=typeof f){var h,p=s[f.name];if(null==p){if(f.optional){f.partial&&(i+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(v(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(h=c(p[d]),!t[l].test(h))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===d?f.prefix:f.delimiter)+h}}else{if(h=f.asterisk?a(p):c(p),!t[l].test(h))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+h+'"');i+=f.prefix+h}}else i+=f}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}function p(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(y(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",f(n));return l(o,t)}function d(e,t,n){return m(r(e,n),t,n)}function m(e,t,n){v(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=u(s);else{var c=u(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+c+h+")*"),h=s.optional?s.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",o+=h}}var p=u(n.delimiter||"/"),d=o.slice(-p.length)===p;return r||(o=(d?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=i?"$":r&&d?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function y(e,t,n){return v(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):v(e)?p(e,t,n):d(e,t,n)}var v=n(433);e.exports=y,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=s,e.exports.tokensToRegExp=m;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(403).enable(),window.Promise=n(402)),n(458),Object.assign=n(113)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;e=Error(t.replace(/%s/g,function(){return u[c++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||M}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=j,this.updater=n||M}function u(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)B.call(t,r)&&!V.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:_,type:e,key:o,ref:a,props:i,_owner:q.current}}function c(e,t){return{$$typeof:_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function l(e){return"object"==typeof e&&null!==e&&e.$$typeof===_}function f(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function h(e,t,n,r){if(z.length){var i=z.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function p(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>z.length&&z.push(e)}function d(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _:case S:a=!0}}if(a)return n(r,e,""===t?"."+y(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+y(o,s);a+=d(o,u,n,r)}else if(null===e||"object"!=typeof e?u=null:(u=L&&e[L]||e["@@iterator"],u="function"==typeof u?u:null),"function"==typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+y(o,s++),a+=d(o,u,n,r);else"object"===o&&(n=""+e,i("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function m(e,t,n){return null==e?0:d(e,"",t,n)}function y(e,t){return"object"==typeof e&&null!==e&&null!=e.key?f(e.key):t.toString(36)}function v(e,t){e.func.call(e.context,t,e.count++)}function g(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?b(e,r,n,function(e){return e}):null!=e&&(l(e)&&(e=c(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(W,"$&/")+"/")+n)),r.push(e))}function b(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(W,"$&/")+"/"),t=h(t,o,r,i),m(e,g,t),p(t)}function w(){var e=F.current;return null===e?i("321"):void 0,e}var E=n(113),T="function"==typeof Symbol&&Symbol.for,_=T?Symbol.for("react.element"):60103,S=T?Symbol.for("react.portal"):60106,I=T?Symbol.for("react.fragment"):60107,A=T?Symbol.for("react.strict_mode"):60108,x=T?Symbol.for("react.profiler"):60114,C=T?Symbol.for("react.provider"):60109,k=T?Symbol.for("react.context"):60110,O=T?Symbol.for("react.concurrent_mode"):60111,N=T?Symbol.for("react.forward_ref"):60112,R=T?Symbol.for("react.suspense"):60113,P=T?Symbol.for("react.memo"):60115,D=T?Symbol.for("react.lazy"):60116,L="function"==typeof Symbol&&Symbol.iterator,M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j={};o.prototype.isReactComponent={},o.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i("85"):void 0,this.updater.enqueueSetState(this,e,t,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=o.prototype;var U=s.prototype=new a;U.constructor=s,E(U,o.prototype),U.isPureReactComponent=!0;var F={current:null},q={current:null},B=Object.prototype.hasOwnProperty,V={key:!0,ref:!0,__self:!0,__source:!0},W=/\/+/g,z=[],H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return b(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=h(null,null,t,n),m(e,v,t),void p(t))},count:function(e){return m(e,function(){return null},null)},toArray:function(e){var t=[];return b(e,t,null,function(e){return e}),t},only:function(e){return l(e)?void 0:i("143"),e}},createRef:function(){return{current:null}},Component:o,PureComponent:s,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:k,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:C,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:N,render:e}},lazy:function(e){return{$$typeof:D,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:P,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return w().useCallback(e,t)},useContext:function(e,t){return w().useContext(e,t)},useEffect:function(e,t){return w().useEffect(e,t)},useImperativeHandle:function(e,t,n){return w().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return w().useLayoutEffect(e,t)},useMemo:function(e,t){return w().useMemo(e,t)},useReducer:function(e,t,n){return w().useReducer(e,t,n)},useRef:function(e){return w().useRef(e)},useState:function(e){return w().useState(e)},Fragment:I,StrictMode:A,Suspense:R,createElement:u,cloneElement:function(e,t,n){null===e||void 0===e?i("267",e):void 0;var r=void 0,o=E({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=q.current),void 0!==t.key&&(a=""+t.key);var c=void 0;e.type&&e.type.defaultProps&&(c=e.type.defaultProps);for(r in t)B.call(t,r)&&!V.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(r=arguments.length-2,1===r)o.children=n;else if(1<r){c=Array(r);for(var l=0;l<r;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:_,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=u.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.8.6",unstable_ConcurrentMode:O,unstable_Profiler:x,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:F,ReactCurrentOwner:q,assign:E}},K={default:H},G=K&&H||K;e.exports=G.default||G},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!=typeof t[t.length-1]&&t.pop(),i=t;if("undefined"==typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s="undefined"==typeof e,u="undefined"==typeof t;return s&&u&&r?r:i.reduce(function(e,n){return n.apply(void 0,[e,t].concat(o))},s&&!u&&r?r:e)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,T.getQueryConfig)(n);return(0,w.wrapInDispatch)(t,{ref:(0,T.firestoreRef)(e,a),method:"add",meta:a,args:i,types:[E.actionTypes.ADD_REQUEST,{type:E.actionTypes.ADD_SUCCESS,payload:function(e){return{id:e.id,data:i[0]}}},E.actionTypes.ADD_FAILURE]})}function s(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,T.getQueryConfig)(n);return(0,w.wrapInDispatch)(t,{
ref:(0,T.firestoreRef)(e,a),method:"set",meta:a,args:i,types:[E.actionTypes.SET_REQUEST,E.actionTypes.SET_SUCCESS,E.actionTypes.SET_FAILURE]})}function u(e,t,n){var r=(0,T.getQueryConfig)(n),i=e._.config||{},o=i.mergeOrdered,a=i.mergeOrderedDocUpdates,s=i.mergeOrderedCollectionUpdates;return(0,w.wrapInDispatch)(t,{ref:(0,T.firestoreRef)(e,r),method:"get",meta:r,types:[E.actionTypes.GET_REQUEST,{type:E.actionTypes.GET_SUCCESS,payload:function(e){return{data:(0,T.dataByIdSnapshot)(e),ordered:(0,T.orderedFromSnap)(e)}},merge:{docs:o&&a,collections:o&&s}},E.actionTypes.GET_FAILURE]})}function c(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,T.getQueryConfig)(n);return(0,w.wrapInDispatch)(t,{ref:(0,T.firestoreRef)(e,a),method:"update",meta:a,args:i,types:[E.actionTypes.UPDATE_REQUEST,E.actionTypes.UPDATE_SUCCESS,E.actionTypes.UPDATE_FAILURE]})}function l(e,t,n){var r=(0,T.getQueryConfig)(n),i=e._.config;return!r.doc||r.subcollections&&!(0,y.default)(r.subcollections,"doc")?(0,v.default)(i.onAttemptCollectionDelete)?i.onAttemptCollectionDelete(n,t,e):Promise.reject(new Error("Only documents can be deleted.")):(0,w.wrapInDispatch)(t,{ref:(0,T.firestoreRef)(e,r),method:"delete",meta:r,types:[E.actionTypes.DELETE_REQUEST,{type:E.actionTypes.DELETE_SUCCESS,preserve:e._.config.preserveOnDelete},E.actionTypes.DELETE_FAILURE]})}function f(e,t,n,r,o){var a=(0,T.getQueryConfig)(n),s=(0,T.firestoreRef)(e,a).onSnapshot(function(n){return a.populates?void(0,T.getPopulateActions)({firebase:e,docData:n,meta:a}).then(function(r){r.forEach(function(e){t(i({},e,{type:E.actionTypes.LISTENER_RESPONSE,timestamp:Date.now()}))}),(0,T.dispatchListenerResponse)({dispatch:t,docData:n,meta:a,firebase:e})}).catch(function(t){e._.config.logListenerError&&(0,g.default)(console,"error","Error populating:",t),"function"==typeof o&&o(t)}):((0,T.dispatchListenerResponse)({dispatch:t,docData:n,meta:a,firebase:e}),void("function"==typeof r&&r(n)))},function(n){var r=e._.config||{},i=r.mergeOrdered,s=r.mergeOrderedDocUpdates,u=r.mergeOrderedCollectionUpdates,c=e._.config||{},l=c.logListenerError,f=c.preserveOnListenerError;l&&(0,g.default)(console,"error",n),t({type:E.actionTypes.LISTENER_ERROR,meta:a,payload:n,merge:{docs:i&&s,collections:i&&u},preserve:f}),"function"==typeof o&&o(n)});return(0,T.attachListener)(e,t,a,s),s}function h(e,t,n){if(!(0,b.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config;if(r.oneListenerPerPath)n.forEach(function(n){var r=(0,T.getQueryName)(n),i=_[r]||0;_[r]=i+1,i>0||f(e,t,n)});else{var i=r.allowMultipleListeners;n.forEach(function(n){var r=(0,T.getQueryName)(n),o=_[r]||0,a=(0,v.default)(i)?i(n,e._.listeners):i;_[r]=o+1,(0===o||a)&&f(e,t,n)})}}function p(e,t,n){return(0,T.detachListener)(e,t,(0,T.getQueryConfig)(n))}function d(e,t,n){if(!(0,b.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=e._.config,i=r.allowMultipleListeners;n.forEach(function(n){var r=(0,T.getQueryName)(n),o=_[r]>=1,a=(0,v.default)(i)?i(n,e._.listeners):i;o&&(_[r]-=1,(0===_[r]||a)&&p(e,t,n))})}function m(e,t,n){return(0,w.wrapInDispatch)(t,{ref:e.firestore(),method:"runTransaction",args:[n],types:[E.actionTypes.TRANSACTION_START,E.actionTypes.TRANSACTION_SUCCESS,E.actionTypes.TRANSACTION_FAILURE]})}Object.defineProperty(t,"__esModule",{value:!0}),t.add=a,t.set=s,t.get=u,t.update=c,t.deleteRef=l,t.setListener=f,t.setListeners=h,t.unsetListener=p,t.unsetListeners=d,t.runTransaction=m,t.default=void 0;var y=r(n(171)),v=r(n(4)),g=r(n(373)),b=r(n(1)),w=n(202),E=n(7),T=n(73),_={},S={get:u,firestoreRef:T.firestoreRef,add:a,update:c,setListener:f,setListeners:h,unsetListener:p,unsetListeners:d,runTransaction:m};t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(n){return function(r,o,a){var l=n(r,o,a),f=i({},u.defaultConfig,t);return s=(0,c.default)(e.firebase_||e,f,l.dispatch),l.firestore=s,l}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.getFirestore=void 0;var s,u=n(7),c=r(n(200)),l=function(){if(!s)throw new Error("Firebase instance does not yet exist. Check your compose function.");return s};t.getFirestore=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return s(e)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function s(e){if(Array.isArray(e))return e}function u(e,t){var n=t.method,r=t.modelArgs,i=t.methodArgs;if((0,l.default)(r)||(r=[r]),(0,l.default)(i)||(i=[i]),!e||!e.firestore)throw new Error("firestore is not a Firebase namespace");return i?e.firestore()[n].apply(e,i):e.firestore()[n]}function c(e){return function(t){return function(n){return function(r){function o(e){var t=Object.assign({},r,e);return delete t[h],t}var a=r.type===h?r:void 0;if("undefined"==typeof a)return n(r);var s=a.method;if("function"==typeof s&&(s=s(t.getState())),"string"!=typeof s)throw new Error("Specify a method.");var c=a.args,l=p[s];if(!Array.isArray(l)||3!==l.length)throw new Error("Expected an array of three action types.");if(!l.every(function(e){return"string"==typeof e}))throw new Error("Expected action types to be strings.");var f=i(l,3),d=f[0],m=f[1],y=f[2];n({type:d});var v={method:s};return u(e,v).then(function(e){return n({response:e,method:s,args:c,type:m})}).catch(function(e){return n(o({type:y,error:e.message||e||"Something bad happened"}))})}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.CALL_FIRESTORE=void 0;var l=r(n(1)),f=n(7),h="CALL_FIRESTORE";t.CALL_FIRESTORE=h;var p={get:[f.actionTypes.GET_REQUEST,f.actionTypes.GET_SUCCESS,f.actionTypes.GET_FAILURE]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(437)),o=n(30),a=n(445),s=(0,o.combineReducers)({status:a.statusReducer,data:a.dataReducer,ordered:a.orderedReducer,listeners:a.listenersReducer,errors:a.errorsReducer,queries:a.queriesReducer,composite:function(e){return e}}),u=(0,i.default)(s,a.crossSliceReducer);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,f.default)(e,function(n){switch(t.type){case h.actionTypes.DOCUMENT_MODIFIED:case h.actionTypes.DOCUMENT_ADDED:case h.actionTypes.DOCUMENT_REMOVED:case h.actionTypes.LISTENER_RESPONSE:case h.actionTypes.UNSET_LISTENER:var r=(0,c.default)((0,l.default)(e.queries),function(e){return e.storeAs||e.collection});return(0,o.default)(r).forEach(function(e){var t={};r[e].forEach(function(e){return(0,u.default)(t,(0,a.default)(e,"data",{}))}),(0,s.default)(n,["composite",e],t)}),n;default:return e}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=r(n(16)),a=r(n(10)),s=r(n(43)),u=r(n(179)),c=r(n(372)),l=r(n(399)),f=r(n(124)),h=n(7)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case f:var n=t.meta,r=t.payload;if(!r||void 0===r.data)return e;var i=function e(t){return t.subcollections?e(t.subcollections.slice(-1)[0]):t.doc},s=i(n),v=s?(0,a.default)(r.data,s):r.data,g=(0,a.default)(e,n.storeAs?[n.storeAs]:(0,u.pathFromMeta)(n));return!g||n.subcollections?(0,o.default)(Object,n.storeAs?[n.storeAs]:(0,u.pathFromMeta)(n),v,e):(0,o.default)(Object,n.storeAs?[n.storeAs]:(0,u.pathFromMeta)(n),v,e);case m:case d:return(0,o.default)(Object,(0,u.pathFromMeta)(t.meta),t.payload.data,e);case y:case p:var b=(0,u.pathFromMeta)(t.meta),w=(0,o.default)(Object,b,null,e);return t.preserve&&t.preserve.data?(0,u.preserveValuesFromState)(e,t.preserve.data,w):w;case c:return t.preserve&&t.preserve.data?(0,u.preserveValuesFromState)(e,t.preserve.data,{}):{};case h:var E=(0,o.default)(Object,(0,u.pathFromMeta)(t.meta),null,e);if(t.preserve&&t.preserve.data)return(0,u.preserveValuesFromState)(e,t.preserve.data,E);var T=(0,a.default)(e,(0,u.pathFromMeta)(t.meta));return T?e:E;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=r(n(175)),a=r(n(10)),s=n(7),u=n(30),c=s.actionTypes.CLEAR_DATA,l=s.actionTypes.GET_SUCCESS,f=s.actionTypes.LISTENER_RESPONSE,h=s.actionTypes.LISTENER_ERROR,p=s.actionTypes.DELETE_SUCCESS,d=s.actionTypes.DOCUMENT_ADDED,m=s.actionTypes.DOCUMENT_MODIFIED,y=s.actionTypes.DOCUMENT_REMOVED},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.type;switch(r){case y:case v:return e.indexOf((0,h.getQueryName)(n))!==-1?e:[].concat(o(e),[(0,h.getQueryName)(n)]);case d:return[];case m:return e.filter(function(e){return e!==(0,h.getQueryName)(n)});default:return e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.meta,o=t.payload,a=t.type;switch(a){case v:case y:return r({},e,i({},(0,h.getQueryName)(n),o));case m:return r({},e,i({},(0,h.getQueryName)(n),null));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=n(7),h=n(73),p=n(30),d=f.actionTypes.CLEAR_ERRORS,m=f.actionTypes.CLEAR_ERROR,y=f.actionTypes.LISTENER_ERROR,v=f.actionTypes.ERROR,g=(0,p.combineReducers)({byQuery:l,allIds:c}),b=g;t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"dataReducer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"errorsReducer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"listenersReducer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"orderedReducer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"statusReducer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"queriesReducer",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"crossSliceReducer",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var i=r(n(443)),o=r(n(444)),a=r(n(446)),s=r(n(447)),u=r(n(449)),c=r(n(448)),l=r(n(442)),f={dataReducer:i.default,errorsReducer:o.default,listenersReducer:a.default,orderedReducer:s.default,statusReducer:u.default,queriesReducer:c.default,crossSliceReducer:l.default};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.path,i=t.payload;switch(n){case p.actionTypes.SET_LISTENER:return u({},e,c({},i.name,{name:i.name,path:r}));case p.actionTypes.UNSET_LISTENER:return(0,h.default)(e,[i.name]);default:return e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p.actionTypes.SET_LISTENER:return[].concat(i(e),[r.name]);case p.actionTypes.UNSET_LISTENER:return e.filter(function(e){return e!==r.name});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=r(n(69)),p=n(7),d=n(30),m=(0,d.combineReducers)({byId:l,allIds:f}),y=m;t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return p(e)||h(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function p(e){if(Array.isArray(e))return e}function d(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,N.updateItemInArray)(e,t.meta.doc,function(e){return(0,w.default)(e,t.payload.data)});var n=(0,N.pathToArr)(t.meta.path),r=l(n,4),i=r[1],o=r[2],a=r[3];return(0,N.updateItemInArray)(e,i,function(e){return u({},e,c({},o,(0,N.updateItemInArray)((0,C.default)(e,o,[]),a,function(e){return(0,E.default)(e,t.payload.data)})))})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.payload;return!n.subcollections||n.storeAs?[].concat(i(e.slice(0,r.ordered.newIndex)),[u({id:n.doc},r.data)],i(e.slice(r.ordered.newIndex))):d(e,t)}function y(e,t){if(!t.meta.subcollections||t.meta.storeAs)return(0,A.default)(e,{id:t.meta.doc});var n=t.meta.subcollections[0];return n.doc?(0,N.updateItemInArray)(e,t.meta.doc,function(t){var r=(0,C.default)(t,n.collection,[]);return r.length?u({},t,c({},n.collection,(0,A.default)(e,{id:n.doc}))):t}):(0,N.updateItemInArray)(e,t.meta.doc,function(e){return(0,I.default)(e,[n.collection])})}function v(e,t){var n=t.meta,r=t.merge,i=void 0===r?{doc:!0,collections:!0}:r;if(n.storeAs)return t.payload.ordered;var o=(0,k.default)(e),a=!!(0,k.default)(t.payload.ordered);if(n.doc&&i.doc&&o)return d(e,t);if(o&&i.collections){if(!a)return[];var s=e&&(0,_.default)(e,"id");return(0,S.default)(t.payload.ordered,function(e){var t=(0,C.default)(s,e.id);return t&&!(0,T.default)(t,e)?u({},t,e):e})}if(n.doc&&n.subcollections){var l=n.subcollections[0];return o?(0,N.updateItemInArray)(e,n.doc,function(e){return a?u({},e,c({},l.collection,(0,x.default)((0,C.default)(e,l.collection,[]),t.payload.ordered,"id"))):(0,I.default)(e,[l.collection])}):[c({id:n.doc},l.collection,t.payload.ordered)]}return n.doc&&o?(0,k.default)(t.payload.ordered)?(0,N.updateItemInArray)(e,n.doc,function(e){return(0,E.default)(e,t.payload.ordered[0])}):e:t.payload.ordered}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t.type)return e;if(t.type===L)return t.preserve&&t.preserve.ordered?(0,N.preserveValuesFromState)(e,t.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(F,t.type))return e;if(!t.meta||!t.meta.storeAs&&!t.meta.collection)return e;var n=t.meta.storeAs||t.meta.collection,r=(0,C.default)(e,n);return u({},e,c({},n,q(r,t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var b,w=r(n(173)),E=r(n(174)),T=r(n(109)),_=r(n(381)),S=r(n(27)),I=r(n(69)),A=r(n(387)),x=r(n(397)),C=r(n(10)),k=r(n(44)),O=n(7),N=n(30),R=O.actionTypes.DOCUMENT_ADDED,P=O.actionTypes.GET_SUCCESS,D=O.actionTypes.LISTENER_RESPONSE,L=O.actionTypes.CLEAR_DATA,M=O.actionTypes.DELETE_SUCCESS,j=O.actionTypes.DOCUMENT_REMOVED,U=O.actionTypes.DOCUMENT_MODIFIED,F=(b={},c(b,R,m),c(b,U,d),c(b,j,y),c(b,M,y),c(b,D,v),c(b,P,v),b),q=(0,N.createReducer)(void 0,F)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,l.default)(e,function(n){if(!p(t))return e;var r=(0,h.getBaseQueryName)(t.meta);switch(t.type){case f.actionTypes.GET_SUCCESS:case f.actionTypes.LISTENER_RESPONSE:return n[r]=i({data:t.payload.data},t.meta),n;case f.actionTypes.UNSET_LISTENER:return n[r]&&(n[r].data=void 0),n;case f.actionTypes.DOCUMENT_ADDED:case f.actionTypes.DOCUMENT_MODIFIED:return(0,c.default)(n,[r,"data",t.meta.doc],t.payload.data),n;case f.actionTypes.DOCUMENT_REMOVED:case f.actionTypes.DELETE_SUCCESS:return(0,s.default)(n,[r,"data",t.meta.doc]),n;default:return e}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.isComposable=void 0;var s=r(n(185)),u=r(n(10)),c=r(n(43)),l=r(n(124)),f=n(7),h=n(73),p=function(e){return(0,u.default)(e,"meta.where")&&(0,u.default)(e,"meta.collection")};t.isComposable=p},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.meta;switch(n){case f:return r({},e,i({},(0,c.getSlashStrPath)((0,l.getQueryName)(o)),!0));case h:case p:return r({},e,i({},(0,c.getSlashStrPath)((0,l.getQueryName)(o)),!1));default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.meta;switch(n){case f:return r({},e,i({},(0,l.getQueryName)(o),!1));case h:case p:return r({},e,i({},(0,l.getQueryName)(o),!0));default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.meta;switch(n){case f:return r({},e,i({},(0,l.getQueryName)(o),Date.now()));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestingReducer=o,t.requestedReducer=a,t.timestampsReducer=s,t.default=void 0;var u=n(7),c=n(30),l=n(73),f=u.actionTypes.SET_LISTENER,h=u.actionTypes.LISTENER_ERROR,p=u.actionTypes.LISTENER_RESPONSE,d=(0,c.combineReducers)({requesting:o,requested:a,timestamps:s});t.default=d},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&n(e),s=t&&n(t),u=a||s;if(e&&n(e)?o=i:i.length&&(o.pop(),o=o.concat(i)),!o.length)return"/";var c=void 0;if(o.length){var l=o[o.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,h=o.length;h>=0;h--){var p=o[h];"."===p?r(o,h):".."===p?(r(o,h),f++):f&&(r(o,h),f--)}if(!u)for(;f--;f)o.unshift("..");!u||""===o[0]||o[0]&&n(o[0])||o.unshift("");var d=o.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d}t.__esModule=!0,t.default=i,e.exports=t.default},function(e,t){(function(e){"use strict";function n(){if(!d){var e=c.expirationTime;m?_():m=!0,T(o,e)}}function r(){var e=c,t=c.next;if(c===t)c=null;else{var r=c.previous;c=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=f,o=p;f=e,p=t;try{var a=r()}finally{f=i,p=o}if("function"==typeof a)if(a={callback:a,priorityLevel:e,expirationTime:t,next:null,previous:null},null===c)c=a.next=a.previous=a;else{r=null,e=c;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==c);null===r?r=c:r===c&&(c=a,n()),t=r.previous,t.next=r.previous=a,a.next=r,a.previous=t}}function i(){if(-1===h&&null!==c&&1===c.priorityLevel){d=!0;try{do r();while(null!==c&&1===c.priorityLevel)}finally{d=!1,null!==c?n():m=!1}}}function o(e){d=!0;var o=l;l=e;try{if(e)for(;null!==c;){var a=t.unstable_now();if(!(c.expirationTime<=a))break;do r();while(null!==c&&c.expirationTime<=a)}else if(null!==c)do r();while(null!==c&&!S())}finally{d=!1,l=o,null!==c?n():m=!1,i()}}function a(e){s=b(function(t){g(u),e(t)}),u=v(function(){w(s),e(t.unstable_now())},100)}Object.defineProperty(t,"__esModule",{value:!0});var s,u,c=null,l=!1,f=3,h=-1,p=-1,d=!1,m=!1,y=Date,v="function"==typeof setTimeout?setTimeout:void 0,g="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,w="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if("object"==typeof performance&&"function"==typeof performance.now){var E=performance;t.unstable_now=function(){return E.now()}}else t.unstable_now=function(){return y.now()};var T,_,S,I=null;if("undefined"!=typeof window?I=window:"undefined"!=typeof e&&(I=e),I&&I._schedMock){var A=I._schedMock;T=A[0],_=A[1],S=A[2],t.unstable_now=A[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var x=null,C=function(e){if(null!==x)try{x(e)}finally{x=null}};T=function(e){null!==x?setTimeout(T,0,e):(x=e,setTimeout(C,0,!1))},_=function(){x=null},S=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof w&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var k=null,O=!1,N=-1,R=!1,P=!1,D=0,L=33,M=33;S=function(){return D<=t.unstable_now()};var j=new MessageChannel,U=j.port2;j.port1.onmessage=function(){O=!1;var e=k,n=N;k=null,N=-1;var r=t.unstable_now(),i=!1;if(0>=D-r){if(!(-1!==n&&n<=r))return R||(R=!0,a(F)),k=e,void(N=n);i=!0}if(null!==e){P=!0;try{e(i)}finally{P=!1}}};var F=function(e){if(null!==k){a(F);var t=e-D+M;t<M&&L<M?(8>t&&(t=8),M=t<L?L:t):L=t,D=e+M,O||(O=!0,U.postMessage(void 0))}else R=!1};T=function(e,t){k=e,N=t,P||0>t?U.postMessage(void 0):R||(R=!0,a(F))},_=function(){k=null,O=!1,N=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f,o=h;f=e,h=t.unstable_now();try{return n()}finally{f=r,h=o,i()}},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var r=f,o=h;f=n,h=t.unstable_now();try{return e()}finally{f=r,h=o,i()}},t.unstable_scheduleCallback=function(e,r){var i=-1!==h?h:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=i+r.timeout;else switch(f){case 1:r=i+-1;break;case 2:r=i+250;break;case 5:r=i+1073741823;break;case 4:r=i+1e4;break;default:r=i+5e3}if(e={callback:e,priorityLevel:f,expirationTime:r,next:null,previous:null},null===c)c=e.next=e.previous=e,n();else{i=null;var o=c;do{if(o.expirationTime>r){i=o;break}o=o.next}while(o!==c);null===i?i=c:i===c&&(c=e,n()),r=i.previous,r.next=i.previous=e,e.next=i,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)c=null;else{e===c&&(c=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=f;return function(){var r=f,o=h;f=n,h=t.unstable_now();try{return e.apply(this,arguments)}finally{f=r,h=o,i()}}},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_shouldYield=function(){return!l&&(null!==c&&c.expirationTime<p||S())},t.unstable_continueExecution=function(){null!==c&&n()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return c}}).call(t,function(){return this}())},function(e,t,n){"use strict";e.exports=n(452)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(455),s=i(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var u=(0,s.default)(o);t.default=u}).call(t,function(){return this}(),n(75)(e))},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){e.exports=n.p+"static/media/book-icon-2.0fc76d82.png"},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,r){return n(e,t[r])});var i="undefined"==typeof e?"undefined":r(e),o="undefined"==typeof t?"undefined":r(t);if(i!==o)return!1;if("object"===i){var a=e.valueOf(),s=t.valueOf();if(a!==e||s!==t)return n(a,s);var u=Object.keys(e),c=Object.keys(t);return u.length===c.length&&u.every(function(r){return n(e[r],t[r])})}return!1}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n,e.exports=t.default},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return E.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");
t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];y.redirect=function(e,t){if(T.indexOf(t)===-1)throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var i=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new y(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}]));
//# sourceMappingURL=main.aedb7acb.js.map